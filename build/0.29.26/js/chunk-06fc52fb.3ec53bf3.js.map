{"version":3,"sources":["webpack:///./src/views/sales/Breadcrumb.vue","webpack:///./src/views/sales/Breadcrumb.vue?6945","webpack:///./src/views/sales/delivery-order/Show.vue","webpack:///./src/views/sales/delivery-order/MPrintPreview.vue","webpack:///src/views/sales/delivery-order/MPrintPreview.vue","webpack:///./src/views/sales/delivery-order/MPrintPreview.vue?af4b","webpack:///./src/views/sales/delivery-order/MPrintPreview.vue?6732","webpack:///src/views/sales/delivery-order/Show.vue","webpack:///./src/views/sales/delivery-order/Show.vue?983e","webpack:///./src/views/sales/delivery-order/Show.vue?b439","webpack:///./src/views/sales/delivery-order/MPrintPreview.vue?e340"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_s","_f","$t","staticRenderFns","script","component","deliveryOrder","form","number","_e","isLoading","isProccessApproval","approval_status","approval_reason","request_approval_to","full_name","cancellation_status","close_status","on","onApprove","onReject","isProccessCancellationApproval","cancellation_approval_reason","request_cancellation_reason","onCancellationApprove","onCancellationReject","isProccessCloseApproval","close_approval_reason","request_close_reason","onCloseApprove","onCloseReject","edited_number","isSendingEmail","$refs","formSendEmail","open","class","printPreview","name","actions","edit","params","id","delete","isDeleting","$event","formRequestDelete","directives","rawName","value","expression","close","isClosing","formRequestClose","date","sales_order","warehouse","authUser","tenant_name","branch","address","phone","customer_name","staticStyle","customer_address","customer_phone","customer_email","slot","_l","items","row","index","key","item","label","quantity_requested","unit","quantity_delivered","quantity_remaining","notes","created_by","approval_at","email","ref","onDelete","onCloseRequest","onSendEmail","onClose","logoUrl","tenantName","tenantAddress","tenantPhone","customer","createHistoryPrint","print","props","type","required","data","onLoad","computed","created","console","Promise","methods","mapActions","clear","activity","catch","getSettingLogo","axiosNode","currentLogo","getSettingEndNote","endNote","components","SalesMenu","Breadcrumb","BreadcrumbSales","MPrintPreview","PointTable","mapGetters","watch","find","closeForm","approve","reject","cancellationApprove","cancellationReject","closeApprove","closeReject","toggleMore","element","deliveryOrderRequest","with_archives","with_origin","includes","calculate","subtotal","reason","then","subject","attachments","filename","view","view_data","finally"],"mappings":"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CAX,sBACA,2CAEAC,yBACA,4CAKA,OAJA,gBACAA,OAGA,GAEAC,uBACA,0CAKA,OAJA,gBACAA,OAGA,IAGAU,mBAAA,oJAEA,OADA,YACAC,6BAAA,SACAC,aACA,mBACA,wBACA,OACA,sDAPA,IASAC,yCACAC,yDACAC,iBACA,oBACA,uBACA,yBACA,cAEAvE,gBACA,oCAEAgB,iBACA,uCAEAoC,mBACA,wBAEAM,8BAAA,WACA,UAAAnD,yBAAAiE,qBACAC,mBACA,iCACA,mCAGAC,0BAAA,qLAEAC,4BAAA,gBAAAC,cACA,yEAEAT,kBAAA,wDALA,IAQAU,6BAAA,qLAEAF,gCAAA,gBAAAG,cACA,0EAEAX,kBAAA,wDALA,OCzQqX,I,wBCQjXjG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCmRA,GACf6G,YACAC,iBACAC,kBACAC,uBACAC,gBACAC,mBAEArB,gBACA,OACAxF,aACAC,sBACAU,kCACAK,2BACAkB,cACAQ,aACApB,oBAGAoE,yDACAoB,wDACAA,yCACAjF,mBACA,8BAEA,uBACA,YACA,aACA,wDACA,0CAEA,OACAC,UACAG,kBACAQ,qBAIAsE,OACA,qBACA,2BACA,kCACA,+BAIApB,mBACA,6BAEAG,yCACAC,qCACAiB,YACA/E,gBACAgF,kBACAC,kBACAC,gBACAC,0CACAC,wCACAC,4BACAC,6BACA,IACAC,sBACA,mDACA,qBAEA,8CACAC,aAGAC,gCAAA,WACA,kBACA,WACA1F,yBACAD,QACA4F,iBACAC,eACAC,+HASA,kBACA,iBACA,mBACA,oCACA,oBACA,mBAGAC,qBACA,QACA,8CACA,qBACAL,4DACA,mBACAA,8CAEAA,2BAEAM,0BAEA,+BAEArD,qBAAA,WACA,mBACA,aACA1C,yBACAwD,MACAwC,YAEA,kBACA,0CACA,4BACA,mBACA,iCACA,kCACA,oBACA,oBAGArD,2BAAA,WACA,kBACA,gBAAA3C,yBAAAgG,WACAC,kBACA,yCACA,4BACA,mBACA,iCACA,kCACA,oBACA,mBAGArD,wBAAA,0JAcA,OAbA,6BAGA7C,mCACAlC,OACAqI,iCACAC,aACA,CACAC,sEACA9C,WACA+C,mDACAC,WAAA1I,mCAEA,SAEA,mEAEA,mGAEA,oCACA,0CAEA,OAFA,UAEA,+FAvBA,IA0BAa,qBAAA,WACA,2BAEA,cAAAuB,2BACAiG,kBACA,2CACA,4BAEA/B,mBACA,gEAEAqC,oBACA,4BAGA7H,qBAAA,WACA,2BAEA,aACAsB,yBACAgG,WACA,kBACA,0CACA,4BACA,mBACA,gEACA,oBACA,4BAGAlH,iCAAA,WACA,uCAEA,0BACAkB,2BACA,kBACA,iDACA,2CACA,mBACA,gEACA,oBACA,wCAGAjB,iCAAA,WACA,uCAEA,yBACAiB,yBACAgG,WACA,kBACA,iDACA,4BACA,mBACA,gEACA,oBACA,wCAGA7G,0BAAA,WACA,gCAEA,mBACAa,2BACA,kBACA,0CACA,2CACA,mBACA,gEACA,oBACA,iCAGAZ,0BAAA,WACA,gCAEA,kBACAY,yBACAgG,WACA,kBACA,0CACA,4BACA,mBACA,gEACA,oBACA,oCC9hB4W,ICOxW,EAAY,eACd,EACAlJ,EACAW,GACA,EACA,KACA,KACA,MAIa,e,2CClBf","file":"js/chunk-06fc52fb.3ec53bf3.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/sales\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('sales')))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=9d40e9e0&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.deliveryOrder)?_c('breadcrumb',[_c('breadcrumb-sales'),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/sales/delivery-order\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('delivery order')))+\" \")]),_c('span',{staticClass:\"breadcrumb-item active\"},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.form.number)))])],1):_vm._e(),_c('sales-menu'),(_vm.deliveryOrder.form.number)?_c('div',[_c('p-show-form-approval-status',{attrs:{\"form\":\"sales delivery order\",\"is-loading\":_vm.isLoading,\"is-proccess-approval\":_vm.isProccessApproval,\"approval-status\":_vm.deliveryOrder.form.approval_status,\"approval-reason\":_vm.deliveryOrder.form.approval_reason,\"approved-by\":_vm.deliveryOrder.form.request_approval_to.full_name,\"cancellation-status\":_vm.deliveryOrder.form.cancellation_status,\"close-status\":_vm.deliveryOrder.form.close_status},on:{\"onApprove\":_vm.onApprove,\"onReject\":_vm.onReject}}),_c('p-show-form-cancellation-status',{attrs:{\"form\":\"sales delivery order\",\"is-loading\":_vm.isLoading,\"is-proccess-approval\":_vm.isProccessCancellationApproval,\"approved-by\":_vm.deliveryOrder.form.request_approval_to.full_name,\"cancellation-status\":_vm.deliveryOrder.form.cancellation_status,\"close-status\":_vm.deliveryOrder.form.close_status,\"cancellation-approval-reason\":_vm.deliveryOrder.form.cancellation_approval_reason,\"request-cancellation-reason\":_vm.deliveryOrder.form.request_cancellation_reason},on:{\"onCancellationApprove\":_vm.onCancellationApprove,\"onCancellationReject\":_vm.onCancellationReject}}),_c('p-show-form-close-status',{attrs:{\"form\":\"sales delivery order\",\"is-loading\":_vm.isLoading,\"is-proccess-approval\":_vm.isProccessCloseApproval,\"approved-by\":_vm.deliveryOrder.form.request_approval_to.full_name,\"close-status\":_vm.deliveryOrder.form.close_status,\"close-approval-reason\":_vm.deliveryOrder.form.close_approval_reason,\"request-close-reason\":_vm.deliveryOrder.form.request_close_reason},on:{\"onCloseApprove\":_vm.onCloseApprove,\"onCloseReject\":_vm.onCloseReject}})],1):_vm._e(),(_vm.deliveryOrder)?_c('div',{staticClass:\"row\"},[_c('p-block',[_c('p-block-inner',{attrs:{\"is-loading\":_vm.isLoading}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[(_vm.deliveryOrder.form.edited_number)?_c('h3',[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('archive')))+\" \")]):_vm._e(),(_vm.deliveryOrder.form.number)?_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"mr-3 btn btn-sm btn-outline-secondary mr-5\",attrs:{\"title\":\"Send Receipt Delivery Order\",\"disabled\":_vm.isSendingEmail},on:{\"click\":() => _vm.$refs.formSendEmail.open()}},[_c('i',{class:{\n                    'fa fa-paper-plane': !_vm.isSendingEmail,\n                    'fa fa-asterisk fa-spin': _vm.isSendingEmail,\n                  }})]),_c('button',{staticClass:\"mr-3 btn btn-sm btn-outline-secondary mr-5\",attrs:{\"title\":\"Preview Receipt Delivery Order\"},on:{\"click\":() => _vm.$refs.printPreview.open()}},[_c('i',{staticClass:\"si si-printer\"})]),_c('router-link',{staticClass:\"btn btn-sm btn-outline-secondary mr-5\",attrs:{\"to\":{ name: 'sales.delivery-order.create' }}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('create')))+\" \")]),(_vm.actions.edit)?_c('router-link',{staticClass:\"btn btn-sm btn-outline-secondary mr-5\",attrs:{\"to\":{ name: 'sales.delivery-order.edit', params: { id: _vm.deliveryOrder.id }}}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('edit')))+\" \")]):_vm._e(),(_vm.actions.delete)?_c('button',{staticClass:\"btn btn-sm btn-outline-secondary mr-5\",attrs:{\"disabled\":_vm.isDeleting},on:{\"click\":function($event){return _vm.$refs.formRequestDelete.open()}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDeleting),expression:\"isDeleting\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('delete')))+\" \")]):_vm._e(),(_vm.actions.close)?_c('button',{staticClass:\"btn btn-sm btn-outline-secondary mr-5\",attrs:{\"disabled\":_vm.isClosing},on:{\"click\":function($event){return _vm.$refs.formRequestClose.open()}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isClosing),expression:\"isClosing\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('close')))+\" \")]):_vm._e()],1):_vm._e()])]),_c('hr'),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('h4',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('delivery order'))))]),_c('table',{staticClass:\"table table-sm table-bordered\"},[_c('tr',[_c('td',{staticClass:\"font-weight-bold\",attrs:{\"width\":\"150px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('form number')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.form.number || _vm.deliveryOrder.form.edited_number))])]),_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('date')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.deliveryOrder.date,'DD MMMM YYYY')))])]),(_vm.deliveryOrder.sales_order)?_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('reference')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.sales_order.form.number))])]):_vm._e(),(_vm.deliveryOrder)?_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('warehouse')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.warehouse.name))])]):_vm._e()])]),_c('div',{staticClass:\"col-sm-6 text-right\"},[_c('h6',{staticClass:\"mb-5\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.authUser.tenant_name))+\" \")]),(_vm.deliveryOrder.form.branch)?[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.form.branch.address))+\" \"),(_vm.deliveryOrder.form.branch.phone)?_c('br'):_vm._e(),_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.form.branch.phone))+\" \")]:_vm._e(),_c('h6',{staticClass:\"mt-30 mb-5\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('customer')))+\" \")]),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.customer_name))+\" \"),_c('div',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.customer_address))+\" \"),(_vm.deliveryOrder.customer_phone)?_c('br'):_vm._e(),_vm._v(_vm._s(_vm.deliveryOrder.customer_phone)+\" \"),(_vm.deliveryOrder.customer_email)?_c('br'):_vm._e(),_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.customer_email))+\" \")])],2)]),_c('hr'),_c('point-table',{staticClass:\"mt-20\"},[_c('tr',{attrs:{\"slot\":\"p-head\"},slot:\"p-head\"},[_c('th',{staticClass:\"text-center\"},[_vm._v(\" # \")]),_c('th',[_vm._v(\"Item\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\" Quantity Request \")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\" Quantity Delivered \")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\" Quantity Remaining \")])]),_vm._l((_vm.deliveryOrder.items),function(row,index){return [_c('tr',{key:index,attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(index + 1)+\" \")]),_c('td',[_vm._v(_vm._s(row.item.label))]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity_requested))+\" \"+_vm._s(row.unit)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity_delivered))+\" \"+_vm._s(row.unit)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity_remaining))+\" \"+_vm._s(row.unit)+\" \")])])]})],2),_c('div',{staticClass:\"row mt-50\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('notes')))+\" \")]),_c('div',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(\" \"+_vm._s(_vm.deliveryOrder.form.notes)+\" \")]),_c('div',{staticClass:\"d-sm-block d-md-none mt-10\"})]),_c('div',{staticClass:\"col-sm-3 text-center\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('requested by')))+\" \")]),_c('div',{staticClass:\"mb-50\",staticStyle:{\"font-size\":\"11px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(_vm.deliveryOrder.form.date,'DD MMMM YYYY'))+\" \")]),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.form.created_by.full_name))+\" \"),_c('div',{staticClass:\"d-sm-block d-md-none mt-10\"})]),_c('div',{staticClass:\"col-sm-3 text-center\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('approved by')))+\" \")]),_c('div',{staticClass:\"mb-50\",staticStyle:{\"font-size\":\"11px\"}},[(_vm.deliveryOrder.form.approval_at)?[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(_vm.deliveryOrder.form.approval_at,'DD MMMM YYYY'))+\" \")]:[_vm._v(\" _______________ \")]],2),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.deliveryOrder.form.request_approval_to.full_name))+\" \"),_c('div',{staticStyle:{\"font-size\":\"11px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"lowercase\")(_vm.deliveryOrder.form.request_approval_to.email))+\" \")])])])],1)],1)],1):_vm._e(),_c('m-form-request-delete',{ref:\"formRequestDelete\",on:{\"delete\":function($event){return _vm.onDelete($event)}}}),_c('m-form-request-close',{ref:\"formRequestClose\",on:{\"closeRequest\":function($event){return _vm.onCloseRequest($event)}}}),_c('m-form-send-email',{ref:\"formSendEmail\",on:{\"submit\":function($event){return _vm.onSendEmail($event)}}}),_c('m-print-preview',{ref:\"printPreview\",attrs:{\"delivery-order\":_vm.deliveryOrder}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('sweet-modal',{ref:\"print-preview\",attrs:{\"title\":_vm._f(\"uppercase\")(_vm.$t('print delivery order')),\"overlay-theme\":\"dark\"},on:{\"close\":function($event){return _vm.onClose()}}},[_c('table',{staticClass:\"print-delivery-order-container m-2 mb-4 mx-auto\",attrs:{\"id\":\"print-delivery-order\"}},[_c('thead',[_c('tr',[_c('td',[_c('div',{staticClass:\"d-flex justify-content-between\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('div',{staticStyle:{\"width\":\"110px\",\"height\":\"110px\",\"align-self\":\"center\"}},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":_vm.logoUrl,\"alt\":\"Logo\"}})]),_c('div',{staticClass:\"company-detail\"},[_c('h1',{staticStyle:{\"margin-top\":\"0\",\"margin-bottom\":\"5px\"}},[_vm._v(\" Delivery Order \")]),_c('h3',{staticClass:\"my-5px\",staticStyle:{\"line-height\":\"22px\"}},[_vm._v(\" \"+_vm._s(_vm.tenantName)+\" \")]),_c('p',{staticClass:\"my-5px\",staticStyle:{\"line-height\":\"15px\"}},[_vm._v(\" \"+_vm._s(_vm.tenantAddress)+\" \")]),_c('p',{staticClass:\"my-5px\"},[_vm._v(\" \"+_vm._s(_vm.tenantPhone)+\" \")])])]),_c('hr',{staticClass:\"header-divider\"}),_c('div',{staticClass:\"d-flex justify-content-between\",staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"}},[_c('table',{staticClass:\"header-detail\",staticStyle:{\"margin-right\":\"20px\"}},[_c('tr',[_c('td',[_vm._v(\"Form Number\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.form.number))])]),_c('tr',[_c('td',[_vm._v(\"Date\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.deliveryOrder.date,'DD MMMM YYYY')))])]),_c('tr',[_c('td',[_vm._v(\"Sales Order\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s('-'))])]),_c('tr',[_c('td',[_vm._v(\"Warehouse\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.warehouse.name || '-'))])])]),_c('table',{staticClass:\"header-detail\",staticStyle:{\"margin-left\":\"20px\"}},[_c('tr',[_c('td',[_vm._v(\"Customer\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.customer.name || '-'))])]),_c('tr',[_c('td',[_vm._v(\"Address\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.customer.address || '-'))])]),_c('tr',[_c('td',[_vm._v(\"Phone number\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.deliveryOrder.customer.phone || '-'))])]),_c('tr',[_vm._v(\" . \")])])])])])]),_c('tbody',[_c('tr',[_c('td',[(_vm.deliveryOrder.form.cancellation_status == 1)?_c('div',{staticClass:\"watermark\"},[_c('img',{staticStyle:{\"opacity\":\"0.5\",\"width\":\"100%\"},attrs:{\"src\":\"/assets/img/draft-watermark.png\"}})]):_vm._e(),_c('table',{staticClass:\"table-items\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_vm._v(\" Item \")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\" Quantity Requested \")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\" Quantity Delivered \")])])]),_vm._l((_vm.deliveryOrder.items),function(row,index){return _c('tr',{key:index},[_c('td',[_vm._v(\" \"+_vm._s(row.item.label)+\" \")]),_c('td',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity_requested))+\" \"+_vm._s(row.unit)+\" \")]),_c('td',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity_delivered))+\" \"+_vm._s(row.unit)+\" \")])])})],2),_c('div',{staticClass:\"d-flex justify-content-end\",staticStyle:{\"margin-top\":\"75px\"}},[_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-right\":\"75px\"}},[_c('h3',[_vm._v(\"Created By\")]),_c('br'),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.deliveryOrder.form.created_by.full_name)+\" \")]),_c('div',{staticClass:\"text-center\"},[_c('h3',[_vm._v(\"Approved By\")]),_c('br'),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.deliveryOrder.form.request_approval_to.full_name)+\" \")])])])])])]),_c('div',{staticClass:\"pull-right\"},[_c('button',{directives:[{name:\"print\",rawName:\"v-print\",value:('print-delivery-order'),expression:\"'print-delivery-order'\"}],staticClass:\"btn btn-sm btn-outline-secondary mt-3\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.createHistoryPrint}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('print')))+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <sweet-modal\r\n    ref=\"print-preview\"\r\n    :title=\"$t('print delivery order') | uppercase\"\r\n    overlay-theme=\"dark\"\r\n    @close=\"onClose()\"\r\n  >\r\n    <table\r\n      id=\"print-delivery-order\"\r\n      class=\"print-delivery-order-container m-2 mb-4 mx-auto\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <td>\r\n            <div\r\n              class=\"d-flex justify-content-between\"\r\n              style=\"margin-bottom: 10px;\"\r\n            >\r\n              <div style=\"width: 110px; height: 110px; align-self: center;\">\r\n                <img\r\n                  :src=\"logoUrl\"\r\n                  alt=\"Logo\"\r\n                  style=\"width: 100px; height: 100px;\"\r\n                >\r\n              </div>\r\n              <div class=\"company-detail\">\r\n                <h1 style=\"margin-top: 0; margin-bottom: 5px;\">\r\n                  Delivery Order\r\n                </h1>\r\n                <h3\r\n                  class=\"my-5px\"\r\n                  style=\"line-height: 22px\"\r\n                >\r\n                  {{ tenantName }}\r\n                </h3>\r\n                <p\r\n                  class=\"my-5px\"\r\n                  style=\"line-height: 15px;\"\r\n                >\r\n                  {{ tenantAddress }}\r\n                </p>\r\n                <p class=\"my-5px\">\r\n                  {{ tenantPhone }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <hr class=\"header-divider\">\r\n            <div\r\n              class=\"d-flex justify-content-between\"\r\n              style=\"margin-top: 10px; margin-bottom: 10px\"\r\n            >\r\n              <table\r\n                class=\"header-detail\"\r\n                style=\"margin-right: 20px;\"\r\n              >\r\n                <tr>\r\n                  <td>Form Number</td>\r\n                  <td>:</td>\r\n                  <td>{{ deliveryOrder.form.number }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Date</td>\r\n                  <td>:</td>\r\n                  <td>{{ deliveryOrder.date | dateFormat('DD MMMM YYYY') }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Sales Order</td>\r\n                  <td>:</td>\r\n                  <td>{{ '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Warehouse</td>\r\n                  <td>:</td>\r\n                  <td>{{ deliveryOrder.warehouse.name || '-' }}</td>\r\n                </tr>\r\n              </table>\r\n              <table\r\n                class=\"header-detail\"\r\n                style=\"margin-left: 20px;\"\r\n              >\r\n                <tr>\r\n                  <td>Customer</td>\r\n                  <td>:</td>\r\n                  <td>{{ deliveryOrder.customer.name || '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Address</td>\r\n                  <td>:</td>\r\n                  <td>{{ deliveryOrder.customer.address || '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Phone number</td>\r\n                  <td>:</td>\r\n                  <td>{{ deliveryOrder.customer.phone || '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  .\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            <div\r\n              v-if=\"deliveryOrder.form.cancellation_status == 1\"\r\n              class=\"watermark\"\r\n            >\r\n              <img\r\n                src=\"/assets/img/draft-watermark.png\"\r\n                style=\"opacity: 0.5; width: 100%\"\r\n              >\r\n            </div>\r\n            <table\r\n              class=\"table-items\"\r\n              style=\"width: 100%;\"\r\n            >\r\n              <thead>\r\n                <tr>\r\n                  <th class=\"text-center\">\r\n                    Item\r\n                  </th>\r\n                  <th class=\"text-center\">\r\n                    Quantity Requested\r\n                  </th>\r\n                  <th class=\"text-center\">\r\n                    Quantity Delivered\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tr\r\n                v-for=\"(row, index) in deliveryOrder.items\"\r\n                :key=\"index\"\r\n              >\r\n                <td>\r\n                  {{ row.item.label }}\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  {{ row.quantity_requested | numberFormat }} {{ row.unit }}\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  {{ row.quantity_delivered | numberFormat }} {{ row.unit }}\r\n                </td>\r\n              </tr>\r\n            </table>\r\n            <div\r\n              class=\"d-flex justify-content-end\"\r\n              style=\"margin-top: 75px;\"\r\n            >\r\n              <div\r\n                class=\"text-center\"\r\n                style=\"margin-right: 75px;\"\r\n              >\r\n                <h3>Created By</h3>\r\n                <br><br><br>\r\n                {{ deliveryOrder.form.created_by.full_name }}\r\n              </div>\r\n              <div class=\"text-center\">\r\n                <h3>Approved By</h3>\r\n                <br><br><br>\r\n                {{ deliveryOrder.form.request_approval_to.full_name }}\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"pull-right\">\r\n      <button\r\n        v-print=\"'print-delivery-order'\"\r\n        type=\"button\"\r\n        class=\"btn btn-sm btn-outline-secondary mt-3\"\r\n        @click=\"createHistoryPrint\"\r\n      >\r\n        {{ $t('print') | uppercase }}\r\n      </button>\r\n    </div>\r\n  </sweet-modal>\r\n</template>\r\n\r\n<script>\r\nimport axiosNode from '@/axiosNode'\r\nimport print from 'vue-print-nb'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  directives: {\r\n    print\r\n  },\r\n  props: {\r\n    deliveryOrder: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      onLoad: true,\r\n      logoUrl: '',\r\n      notes: ''\r\n    }\r\n  },\r\n  computed: {\r\n    tenantName () {\r\n      return localStorage.getItem('tenantName')\r\n    },\r\n    tenantAddress () {\r\n      let tenantAddress = localStorage.getItem('tenantAddress')\r\n      if (!tenantAddress || tenantAddress === 'null') {\r\n        tenantAddress = '-'\r\n      }\r\n\r\n      return tenantAddress\r\n    },\r\n    tenantPhone () {\r\n      let tenantPhone = localStorage.getItem('tenantPhone')\r\n      if (!tenantPhone || tenantPhone === 'null') {\r\n        tenantPhone = '-'\r\n      }\r\n\r\n      return tenantPhone\r\n    }\r\n  },\r\n  async created () {\r\n    this.onLoad = true\r\n    console.log(this.deliveryOrder)\r\n    await Promise.all([\r\n      this.getSettingLogo(),\r\n      this.getSettingEndNote()\r\n    ])\r\n    this.onLoad = false\r\n  },\r\n  methods: {\r\n    ...mapActions('salesDeliveryOrderHistory', ['add']),\r\n    clear () {\r\n      this.mutableId = null\r\n      this.mutableLabel = null\r\n      this.$emit('choosen', '')\r\n      this.close()\r\n    },\r\n    open () {\r\n      this.$refs['print-preview'].open()\r\n    },\r\n    close () {\r\n      this.$refs['select-' + this.id].close()\r\n    },\r\n    onClose () {\r\n      this.$emit('close', true)\r\n    },\r\n    createHistoryPrint () {\r\n      this.add({ id: this.deliveryOrder.id, activity: 'Printed' })\r\n        .catch(error => {\r\n          this.$notification.error(error.message)\r\n          this.form.errors.record(error.errors)\r\n        })\r\n    },\r\n    async getSettingLogo () {\r\n      try {\r\n        const { data: { data: currentLogo } } = await axiosNode.get('/setting/logo')\r\n        this.logoUrl = currentLogo.publicUrl\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    async getSettingEndNote () {\r\n      try {\r\n        const { data: { data: endNote } } = await axiosNode.get('/setting/end-note')\r\n        this.notes = endNote.salesInvoice\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.watermark{\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: -1;\r\n}\r\n.print-delivery-order-container {\r\n  width: 90%;\r\n  padding: 30px;\r\n}\r\n.d-flex {\r\n  display: flex;\r\n}\r\n.d-flex-row {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.btn-action {\r\n  padding: 10px;\r\n  text-decoration: none;\r\n  border-radius: 5px;\r\n  margin: 5px 10px;\r\n  width: 75px;\r\n  text-align: center;\r\n  color: white;\r\n  background-color: rgb(100, 100, 100);\r\n}\r\n.btn-action:hover {\r\n  filter: brightness(75%);\r\n}\r\n.btn-secondary {\r\n  background-color: rgb(100, 100, 100);\r\n}\r\n.text-right {\r\n  text-align: right;\r\n}\r\n.table-items {\r\n  border: solid 1px black;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\ntable.table-items, .table-items th, .table-items td {\r\n  border: 1px solid black;\r\n  border-collapse: collapse;\r\n}\r\n.table-items th, .table-items td {\r\n  padding: 5px;\r\n}\r\n.btn-success {\r\n  background-color: rgb(39, 168, 39);\r\n}\r\n.btn-danger {\r\n  background-color: rgb(250, 68, 68);\r\n}\r\n.action-container {\r\n  margin-top: 10px;\r\n  padding: 5px;\r\n}\r\n.justify-content-between {\r\n  justify-content: space-between;\r\n}\r\n.my-5px {\r\n  margin: 5px 0 5px 0;\r\n}\r\n.company-detail {\r\n  min-width: 200px;\r\n  max-width: 250px;\r\n}\r\n.header-divider {\r\n  height:10px;\r\n  border:none;\r\n  color:gray;\r\n  background-color:gray;\r\n}\r\n@media print {\r\n  table.header-detail tr td {\r\n    line-height: 0.5px;\r\n  }\r\n  #print-delivery-order thead tr td {\r\n    padding-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MPrintPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MPrintPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MPrintPreview.vue?vue&type=template&id=28e9d653&scoped=true&\"\nimport script from \"./MPrintPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./MPrintPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MPrintPreview.vue?vue&type=style&index=0&id=28e9d653&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28e9d653\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <breadcrumb v-if=\"deliveryOrder\">\r\n      <breadcrumb-sales />\r\n      <router-link\r\n        to=\"/sales/delivery-order\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ $t('delivery order') | uppercase }}\r\n      </router-link>\r\n      <span class=\"breadcrumb-item active\">{{ deliveryOrder.form.number | uppercase }}</span>\r\n    </breadcrumb>\r\n\r\n    <sales-menu />\r\n\r\n    <div v-if=\"deliveryOrder.form.number\">\r\n      <p-show-form-approval-status\r\n        form=\"sales delivery order\"\r\n        :is-loading=\"isLoading\"\r\n        :is-proccess-approval=\"isProccessApproval\"\r\n        :approval-status=\"deliveryOrder.form.approval_status\"\r\n        :approval-reason=\"deliveryOrder.form.approval_reason\"\r\n        :approved-by=\"deliveryOrder.form.request_approval_to.full_name\"\r\n        :cancellation-status=\"deliveryOrder.form.cancellation_status\"\r\n        :close-status=\"deliveryOrder.form.close_status\"\r\n        @onApprove=\"onApprove\"\r\n        @onReject=\"onReject\"\r\n      />\r\n\r\n      <p-show-form-cancellation-status\r\n        form=\"sales delivery order\"\r\n        :is-loading=\"isLoading\"\r\n        :is-proccess-approval=\"isProccessCancellationApproval\"\r\n        :approved-by=\"deliveryOrder.form.request_approval_to.full_name\"\r\n        :cancellation-status=\"deliveryOrder.form.cancellation_status\"\r\n        :close-status=\"deliveryOrder.form.close_status\"\r\n        :cancellation-approval-reason=\"deliveryOrder.form.cancellation_approval_reason\"\r\n        :request-cancellation-reason=\"deliveryOrder.form.request_cancellation_reason\"\r\n        @onCancellationApprove=\"onCancellationApprove\"\r\n        @onCancellationReject=\"onCancellationReject\"\r\n      />\r\n\r\n      <p-show-form-close-status\r\n        form=\"sales delivery order\"\r\n        :is-loading=\"isLoading\"\r\n        :is-proccess-approval=\"isProccessCloseApproval\"\r\n        :approved-by=\"deliveryOrder.form.request_approval_to.full_name\"\r\n        :close-status=\"deliveryOrder.form.close_status\"\r\n        :close-approval-reason=\"deliveryOrder.form.close_approval_reason\"\r\n        :request-close-reason=\"deliveryOrder.form.request_close_reason\"\r\n        @onCloseApprove=\"onCloseApprove\"\r\n        @onCloseReject=\"onCloseReject\"\r\n      />\r\n    </div>\r\n\r\n    <div\r\n      v-if=\"deliveryOrder\"\r\n      class=\"row\"\r\n    >\r\n      <p-block>\r\n        <p-block-inner :is-loading=\"isLoading\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n              <h3 v-if=\"deliveryOrder.form.edited_number\">\r\n                {{ $t('archive') | uppercase }}\r\n              </h3>\r\n              <div\r\n                v-if=\"deliveryOrder.form.number\"\r\n                class=\"text-right\"\r\n              >\r\n                <button\r\n                  class=\"mr-3 btn btn-sm btn-outline-secondary mr-5\"\r\n                  title=\"Send Receipt Delivery Order\"\r\n                  :disabled=\"isSendingEmail\"\r\n                  @click=\"() => $refs.formSendEmail.open()\"\r\n                >\r\n                  <i\r\n                    :class=\"{\r\n                      'fa fa-paper-plane': !isSendingEmail,\r\n                      'fa fa-asterisk fa-spin': isSendingEmail,\r\n                    }\"\r\n                  />\r\n                </button>\r\n                <button\r\n                  class=\"mr-3 btn btn-sm btn-outline-secondary mr-5\"\r\n                  title=\"Preview Receipt Delivery Order\"\r\n                  @click=\"() => $refs.printPreview.open()\"\r\n                >\r\n                  <i class=\"si si-printer\" />\r\n                </button>\r\n                <router-link\r\n                  :to=\"{ name: 'sales.delivery-order.create' }\"\r\n                  class=\"btn btn-sm btn-outline-secondary mr-5\"\r\n                >\r\n                  {{ $t('create') | uppercase }}\r\n                </router-link>\r\n                <router-link\r\n                  v-if=\"actions.edit\"\r\n                  :to=\"{ name: 'sales.delivery-order.edit', params: { id: deliveryOrder.id }}\"\r\n                  class=\"btn btn-sm btn-outline-secondary mr-5\"\r\n                >\r\n                  {{ $t('edit') | uppercase }}\r\n                </router-link>\r\n                <button\r\n                  v-if=\"actions.delete\"\r\n                  class=\"btn btn-sm btn-outline-secondary mr-5\"\r\n                  :disabled=\"isDeleting\"\r\n                  @click=\"$refs.formRequestDelete.open()\"\r\n                >\r\n                  <i\r\n                    v-show=\"isDeleting\"\r\n                    class=\"fa fa-asterisk fa-spin\"\r\n                  /> {{ $t('delete') | uppercase }}\r\n                </button>\r\n                <button\r\n                  v-if=\"actions.close\"\r\n                  class=\"btn btn-sm btn-outline-secondary mr-5\"\r\n                  :disabled=\"isClosing\"\r\n                  @click=\"$refs.formRequestClose.open()\"\r\n                >\r\n                  <i\r\n                    v-show=\"isClosing\"\r\n                    class=\"fa fa-asterisk fa-spin\"\r\n                  /> {{ $t('close') | uppercase }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-6\">\r\n              <h4>{{ $t('delivery order') | uppercase }}</h4>\r\n              <table class=\"table table-sm table-bordered\">\r\n                <tr>\r\n                  <td\r\n                    width=\"150px\"\r\n                    class=\"font-weight-bold\"\r\n                  >\r\n                    {{ $t('form number') | uppercase }}\r\n                  </td>\r\n                  <td>{{ deliveryOrder.form.number || deliveryOrder.form.edited_number }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"font-weight-bold\">\r\n                    {{ $t('date') | uppercase }}\r\n                  </td>\r\n                  <td>{{ deliveryOrder.date | dateFormat('DD MMMM YYYY') }}</td>\r\n                </tr>\r\n                <tr v-if=\"deliveryOrder.sales_order\">\r\n                  <td class=\"font-weight-bold\">\r\n                    {{ $t('reference') | uppercase }}\r\n                  </td>\r\n                  <td>{{ deliveryOrder.sales_order.form.number }}</td>\r\n                </tr>\r\n                <tr v-if=\"deliveryOrder\">\r\n                  <td class=\"font-weight-bold\">\r\n                    {{ $t('warehouse') | uppercase }}\r\n                  </td>\r\n                  <td>{{ deliveryOrder.warehouse.name }}</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-sm-6 text-right\">\r\n              <h6 class=\"mb-5\">\r\n                {{ authUser.tenant_name | uppercase }}\r\n              </h6>\r\n              <template v-if=\"deliveryOrder.form.branch\">\r\n                {{ deliveryOrder.form.branch.address | uppercase }}\r\n                <br v-if=\"deliveryOrder.form.branch.phone\">{{ deliveryOrder.form.branch.phone | uppercase }}\r\n              </template>\r\n              <h6 class=\"mt-30 mb-5\">\r\n                {{ $t('customer') | uppercase }}\r\n              </h6>\r\n              {{ deliveryOrder.customer_name | uppercase }}\r\n              <div style=\"font-size:12px\">\r\n                {{ deliveryOrder.customer_address | uppercase }}\r\n                <br v-if=\"deliveryOrder.customer_phone\">{{ deliveryOrder.customer_phone }}\r\n                <br v-if=\"deliveryOrder.customer_email\">{{ deliveryOrder.customer_email | uppercase }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <point-table class=\"mt-20\">\r\n            <tr slot=\"p-head\">\r\n              <th class=\"text-center\">\r\n                #\r\n              </th>\r\n              <th>Item</th>\r\n              <th class=\"text-right\">\r\n                Quantity Request\r\n              </th>\r\n              <th class=\"text-right\">\r\n                Quantity Delivered\r\n              </th>\r\n              <th class=\"text-right\">\r\n                Quantity Remaining\r\n              </th>\r\n            </tr>\r\n            <template v-for=\"(row, index) in deliveryOrder.items\">\r\n              <tr\r\n                slot=\"p-body\"\r\n                :key=\"index\"\r\n              >\r\n                <th class=\"text-center\">\r\n                  {{ index + 1 }}\r\n                </th>\r\n                <td>{{ row.item.label }}</td>\r\n                <td class=\"text-right\">\r\n                  {{ row.quantity_requested | numberFormat }} {{ row.unit }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                  {{ row.quantity_delivered | numberFormat }} {{ row.unit }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                  {{ row.quantity_remaining | numberFormat }} {{ row.unit }}\r\n                </td>\r\n              </tr>\r\n            </template>\r\n          </point-table>\r\n          <div class=\"row mt-50\">\r\n            <div class=\"col-sm-6\">\r\n              <h6 class=\"mb-0\">\r\n                {{ $t('notes') | uppercase }}\r\n              </h6>\r\n              <div style=\"white-space: pre-wrap;\">\r\n                {{ deliveryOrder.form.notes }}\r\n              </div>\r\n              <div class=\"d-sm-block d-md-none mt-10\" />\r\n            </div>\r\n            <div class=\"col-sm-3 text-center\">\r\n              <h6 class=\"mb-0\">\r\n                {{ $t('requested by') | uppercase }}\r\n              </h6>\r\n              <div\r\n                class=\"mb-50\"\r\n                style=\"font-size:11px\"\r\n              >\r\n                {{ deliveryOrder.form.date | dateFormat('DD MMMM YYYY') }}\r\n              </div>\r\n              {{ deliveryOrder.form.created_by.full_name | uppercase }}\r\n              <div class=\"d-sm-block d-md-none mt-10\" />\r\n            </div>\r\n            <div class=\"col-sm-3 text-center\">\r\n              <h6 class=\"mb-0\">\r\n                {{ $t('approved by') | uppercase }}\r\n              </h6>\r\n              <div\r\n                class=\"mb-50\"\r\n                style=\"font-size:11px\"\r\n              >\r\n                <template v-if=\"deliveryOrder.form.approval_at\">\r\n                  {{ deliveryOrder.form.approval_at | dateFormat('DD MMMM YYYY') }}\r\n                </template>\r\n                <template v-else>\r\n                  _______________\r\n                </template>\r\n              </div>\r\n              {{ deliveryOrder.form.request_approval_to.full_name | uppercase }}\r\n              <div style=\"font-size:11px\">\r\n                {{ deliveryOrder.form.request_approval_to.email | lowercase }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </p-block-inner>\r\n      </p-block>\r\n    </div>\r\n\r\n    <m-form-request-delete\r\n      ref=\"formRequestDelete\"\r\n      @delete=\"onDelete($event)\"\r\n    />\r\n    <m-form-request-close\r\n      ref=\"formRequestClose\"\r\n      @closeRequest=\"onCloseRequest($event)\"\r\n    />\r\n    <m-form-send-email\r\n      ref=\"formSendEmail\"\r\n      @submit=\"onSendEmail($event)\"\r\n    />\r\n    <m-print-preview\r\n      ref=\"printPreview\"\r\n      :delivery-order=\"deliveryOrder\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SalesMenu from '../Menu'\r\nimport Breadcrumb from '@/views/Breadcrumb'\r\nimport BreadcrumbSales from '../Breadcrumb'\r\nimport MPrintPreview from './MPrintPreview'\r\nimport PointTable from 'point-table-vue'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    SalesMenu,\r\n    Breadcrumb,\r\n    BreadcrumbSales,\r\n    MPrintPreview,\r\n    PointTable\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      isProccessApproval: false,\r\n      isProccessCancellationApproval: false,\r\n      isProccessCloseApproval: false,\r\n      isDeleting: false,\r\n      isClosing: false,\r\n      isSendingEmail: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('salesDeliveryOrder', ['deliveryOrder']),\r\n    ...mapGetters('auth', ['authUser']),\r\n    actions () {\r\n      const { form } = this.deliveryOrder\r\n\r\n      const whereApprove = form.approval_status == 1\r\n      const wherePending = form.done == 0\r\n      const whereNotArchived = !!form.number\r\n      const whereNotCancelled = form.cancellation_status == null || form.cancellation_status != 1\r\n      const whereNotClosed = form.close_status == null || form.close_status != 1\r\n\r\n      return {\r\n        edit: wherePending && whereNotClosed,\r\n        delete: wherePending && whereNotArchived && whereNotClosed && whereNotCancelled,\r\n        close: wherePending && whereNotArchived && whereNotClosed && whereApprove\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    '$route' (to, from) {\r\n      if (to.params.id != from.params.id) {\r\n        this.$route.params.id = to.params.id\r\n        this.deliveryOrderRequest()\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.deliveryOrderRequest()\r\n  },\r\n  methods: {\r\n    ...mapActions('salesDeliveryOrder', {\r\n      find: 'find',\r\n      delete: 'delete',\r\n      closeForm: 'close',\r\n      approve: 'approve',\r\n      reject: 'reject',\r\n      cancellationApprove: 'cancellationApprove',\r\n      cancellationReject: 'cancellationReject',\r\n      closeApprove: 'closeApprove',\r\n      closeReject: 'closeReject'\r\n    }),\r\n    toggleMore () {\r\n      const isMoreActive = this.deliveryOrder.items.some(function (el, index) {\r\n        return el.more === false\r\n      })\r\n      this.deliveryOrder.items.forEach(element => {\r\n        element.more = isMoreActive\r\n      })\r\n    },\r\n    deliveryOrderRequest () {\r\n      this.isLoading = true\r\n      this.find({\r\n        id: this.$route.params.id,\r\n        params: {\r\n          with_archives: true,\r\n          with_origin: true,\r\n          includes: 'customer;' +\r\n            'warehouse;' +\r\n            'items.item;' +\r\n            'items.allocation;' +\r\n            'salesOrder.form;' +\r\n            'form.createdBy;' +\r\n            'form.requestApprovalTo;' +\r\n            'form.branch'\r\n        }\r\n      }).then(response => {\r\n        this.calculate()\r\n      }).catch(error => {\r\n        this.$notification.error(error.message)\r\n      }).finally(() => {\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    calculate () {\r\n      var subtotal = 0\r\n      this.deliveryOrder.items.forEach(function (element) {\r\n        if (element.discount_percent > 0) {\r\n          element.total = element.quantity * (element.price - (element.price * element.discount_percent / 100))\r\n        } else if (element.discount_value > 0) {\r\n          element.total = element.quantity * (element.price - element.discount_value)\r\n        } else {\r\n          element.total = element.quantity * element.price\r\n        }\r\n        subtotal += parseFloat(element.total)\r\n      })\r\n      this.deliveryOrder.subtotal = subtotal\r\n    },\r\n    onDelete (reason) {\r\n      this.isDeleting = true\r\n      this.delete({\r\n        id: this.$route.params.id,\r\n        data: {\r\n          reason: reason\r\n        }\r\n      }).then(response => {\r\n        this.$notification.success('cancel success')\r\n        this.deliveryOrderRequest()\r\n      }).catch(error => {\r\n        this.$notification.error(error.message)\r\n        this.form.errors.record(error.errors)\r\n      }).finally(() => {\r\n        this.isDeleting = false\r\n      })\r\n    },\r\n    onCloseRequest (reason) {\r\n      this.isClosing = true\r\n      this.closeForm({ id: this.$route.params.id, reason: reason })\r\n        .then(response => {\r\n          this.$notification.success('close success')\r\n          this.deliveryOrderRequest()\r\n        }).catch(error => {\r\n          this.$notification.error(error.message)\r\n          this.form.errors.record(error.errors)\r\n        }).finally(() => {\r\n          this.isClosing = false\r\n        })\r\n    },\r\n    async onSendEmail (form) {\r\n      this.isSendingEmail = true\r\n\r\n      try {\r\n        const params = {\r\n          ...form,\r\n          subject: 'Delivery Order Receipt',\r\n          attachments: [\r\n            {\r\n              filename: 'Delivery Order Receipt ' + this.deliveryOrder.form.number + '.pdf',\r\n              type: 'pdf',\r\n              view: 'sales.delivery-order.delivery-order-receipt',\r\n              view_data: { deliveryOrder: this.deliveryOrder }\r\n            }\r\n          ]\r\n        }\r\n        await this.$store.dispatch('emailService/send', { ...params })\r\n\r\n        this.$notification.success('send receipt success')\r\n      } catch (error) {\r\n        this.$notification.error(error.message)\r\n        this.form.errors.record(error.errors)\r\n      } finally {\r\n        this.isSendingEmail = false\r\n      }\r\n    },\r\n    onApprove () {\r\n      this.isProccessApproval = true\r\n\r\n      this.approve({ id: this.$route.params.id })\r\n        .then(response => {\r\n          this.$notification.success('approve success')\r\n          this.deliveryOrderRequest()\r\n        })\r\n        .catch(error => {\r\n          this.$notification.error(error?.message)\r\n        })\r\n        .finally(() => {\r\n          this.isProccessApproval = false\r\n        })\r\n    },\r\n    onReject (reason) {\r\n      this.isProccessApproval = true\r\n\r\n      this.reject({\r\n        id: this.$route.params.id,\r\n        reason: reason\r\n      }).then(response => {\r\n        this.$notification.success('reject success')\r\n        this.deliveryOrderRequest()\r\n      }).catch(error => {\r\n        this.$notification.error(error?.message)\r\n      }).finally(() => {\r\n        this.isProccessApproval = false\r\n      })\r\n    },\r\n    onCancellationApprove () {\r\n      this.isProccessCancellationApproval = true\r\n\r\n      this.cancellationApprove({\r\n        id: this.$route.params.id\r\n      }).then(response => {\r\n        this.$notification.success('cancellation approved')\r\n        this.$router.push('/sales/delivery-order')\r\n      }).catch(error => {\r\n        this.$notification.error(error?.message)\r\n      }).finally(() => {\r\n        this.isProccessCancellationApproval = false\r\n      })\r\n    },\r\n    onCancellationReject (reason) {\r\n      this.isProccessCancellationApproval = true\r\n\r\n      this.cancellationReject({\r\n        id: this.$route.params.id,\r\n        reason: reason\r\n      }).then(response => {\r\n        this.$notification.success('cancellation rejected')\r\n        this.deliveryOrderRequest()\r\n      }).catch(error => {\r\n        this.$notification.error(error?.message)\r\n      }).finally(() => {\r\n        this.isProccessCancellationApproval = false\r\n      })\r\n    },\r\n    onCloseApprove () {\r\n      this.isProccessCloseApproval = true\r\n\r\n      this.closeApprove({\r\n        id: this.$route.params.id\r\n      }).then(response => {\r\n        this.$notification.success('close approved')\r\n        this.$router.push('/sales/delivery-order')\r\n      }).catch(error => {\r\n        this.$notification.error(error?.message)\r\n      }).finally(() => {\r\n        this.isProccessCloseApproval = false\r\n      })\r\n    },\r\n    onCloseReject (reason) {\r\n      this.isProccessCloseApproval = true\r\n\r\n      this.closeReject({\r\n        id: this.$route.params.id,\r\n        reason: reason\r\n      }).then(response => {\r\n        this.$notification.success('close rejected')\r\n        this.deliveryOrderRequest()\r\n      }).catch(error => {\r\n        this.$notification.error(error?.message)\r\n      }).finally(() => {\r\n        this.isProccessCloseApproval = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=42a9ffe5&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MPrintPreview.vue?vue&type=style&index=0&id=28e9d653&prod&scoped=true&lang=css&\""],"sourceRoot":""}