{"version":3,"sources":["webpack:///./src/views/pos/Breadcrumb.vue","webpack:///./src/views/pos/Breadcrumb.vue?3bcc","webpack:///./src/views/pos/closed-bill/Show.vue","webpack:///src/views/pos/closed-bill/Show.vue","webpack:///./src/views/pos/closed-bill/Show.vue?9eb7","webpack:///./src/views/pos/closed-bill/Show.vue?6f8c"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_s","_f","$t","staticRenderFns","script","component","id","bill","form","number","scopedSlots","_u","key","fn","$permission","has","_e","proxy","isLoading","staticStyle","slot","date","customer","name","_l","items_temporary","row","index","require_expiry_date","require_production_number","on","$event","showItem","quantity","price","item_name","unit","discount_percent","error","notes","total","services","service_name","total_quantity","subtotal","amount","paid","change","created_by","isDeleting","onDelete","directives","rawName","value","expression","ref","selectedItem","inventories","components","Breadcrumb","BreadcrumbPos","data","computed","mapGetters","watch","created","methods","mapActions","findBill","deleteBill","posBillRequest","params","filter_form","includes","newItem","expiry_date","production_number","existing","calculate","item","service"],"mappings":"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","file":"js/chunk-01e580c2.ea910c79.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/pos\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('pos')))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=4be7d7f8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('breadcrumb',[_c('breadcrumb-pos'),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/pos/closed-bill\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('closed bill')))+\" \")]),_c('span',{staticClass:\"breadcrumb-item active\"},[_vm._v(_vm._s(_vm.id))])],1),_c('p-block',{attrs:{\"header\":true,\"title\":_vm.$t('bill') + ' (' + _vm.bill.form.number + ')',\"is-fullscreen\":true,\"show-fullscreen-button\":false,\"show-hidden-button\":false,\"column\":\"col-sm-12\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" |\"),(_vm.$permission.has('create pos'))?_c('router-link',{attrs:{\"to\":\"/pos/open-bill/create\",\"exact\":\"\"}},[_c('button',{staticClass:\"btn-block-option\",attrs:{\"type\":\"button\"}},[_vm._v(\" Add \")])]):_vm._e(),_vm._v(\"| \"),(_vm.$permission.has('read pos'))?_c('router-link',{attrs:{\"to\":\"/pos/closed-bill\",\"exact\":\"\"}},[_c('button',{staticClass:\"btn-block-option\",attrs:{\"type\":\"button\"}},[_vm._v(\" List \")])]):_vm._e(),_vm._v(\"| \")]},proxy:true}])},[_c('p-block-inner',{attrs:{\"is-loading\":_vm.isLoading}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3 col-lg-3\"}),_c('div',{staticClass:\"col-sm-12 col-md-6 col-lg6\",staticStyle:{\"background-color\":\"LightGray\"}},[_c('p-table',{staticStyle:{\"margin-top\":\"30px\",\"margin-bottom\":\"10px\"}},[_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"},attrs:{\"width\":\"50%\"}},[_c('b',[_vm._v(_vm._s(_vm.bill.form.number))])]),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"},attrs:{\"width\":\"50%\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.bill.date,'DD MMMM YYYY HH:mm')))])])]),(_vm.bill.customer)?_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"},attrs:{\"colspan\":\"2\"}},[_vm._v(\" Customer: \"),_c('b',[_vm._v(_vm._s(_vm.bill.customer.name))])])]):_vm._e(),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"},attrs:{\"colspan\":\"2\"}},[_c('br')])]),_vm._l((_vm.items_temporary),function(row,index){return [(row.require_expiry_date === 1 || row.require_production_number === 1)?_c('tr',{key:'item-' + index,staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"p-body\"},on:{\"click\":function($event){return _vm.showItem(index, row)}},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"left\"},attrs:{\"width\":\"75%\"}},[[_c('label',{staticStyle:{\"color\":\"blue\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.quantity))+\"x\")]),_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.price))+\" \")],_c('br'),_c('b',[_vm._v(_vm._s(row.item_name)+\" (\"+_vm._s(row.unit)+\")\")]),(row.discount_percent > 0)?[_c('br'),_c('label',{staticStyle:{\"color\":\"orange\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.discount_percent))+\"% Discount\")])]:_vm._e(),(row.error)?[_c('br'),_c('label',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(row.error))])]:_vm._e(),(row.notes)?[_c('br'),_c('br'),_c('label',[_vm._v(\"Note: \"+_vm._s(row.notes))])]:_vm._e()],2),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"},attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.total)))])])]):_c('tr',{key:'item-' + index,attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"left\"},attrs:{\"width\":\"75%\"}},[[_c('label',{staticStyle:{\"color\":\"blue\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.quantity))+\"x\")]),_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.price))+\" \")],_c('br'),_c('b',[_vm._v(_vm._s(row.item_name)+\" (\"+_vm._s(row.unit)+\")\")]),(row.discount_percent > 0)?[_c('br'),_c('label',{staticStyle:{\"color\":\"orange\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.discount_percent))+\"% Discount\")])]:_vm._e(),(row.error)?[_c('br'),_c('label',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(row.error))])]:_vm._e(),(row.notes)?[_c('br'),_c('br'),_c('label',[_vm._v(\"Note: \"+_vm._s(row.notes))])]:_vm._e()],2),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"},attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.total)))])])])]}),_vm._l((_vm.bill.services),function(row,index){return _c('tr',{key:'service-' + index,attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"left\"},attrs:{\"width\":\"75%\"}},[[_c('label',{staticStyle:{\"color\":\"blue\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.quantity))+\"x\")]),_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.price))+\" \")],_c('br'),_c('b',[_vm._v(_vm._s(row.service_name))]),(row.discount_percent > 0)?[_c('br'),_c('label',{staticStyle:{\"color\":\"orange\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.discount_percent))+\"% Discount\")])]:_vm._e(),(row.error)?[_c('br'),_c('label',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(row.error))])]:_vm._e(),(row.notes)?[_c('br'),_c('br'),_c('label',[_vm._v(\"Note: \"+_vm._s(row.notes))])]:_vm._e()],2),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"},attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.total)))])])])}),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"},attrs:{\"colspan\":\"2\"}},[_c('br')])]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('total items'))))])]),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.bill.total_quantity)))])])]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('sub total'))))])]),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.bill.subtotal)))])])]),(_vm.bill.discount_percent)?_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('discount'))))])]),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.bill.discount_percent))+\"%\")])])]):_vm._e(),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('total'))))])]),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.bill.amount)))])])]),(_vm.bill.paid)?_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('money received'))))])]),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.bill.paid)))])])]):_vm._e(),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('money change'))))])]),_c('td',{staticStyle:{\"border\":\"0px\",\"text-align\":\"right\"}},[(_vm.bill.change < 0)?_c('b',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.bill.change)))]):_c('b',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.bill.change)))])])]),(_vm.bill.notes)?_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',{staticStyle:{\"border\":\"0px\"},attrs:{\"colspan\":\"2\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('notes')))+\":\")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.bill.notes)+\" \")])]):_vm._e(),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[(_vm.bill.form.created_by)?_c('td',{staticStyle:{\"border\":\"0px\"},attrs:{\"colspan\":\"2\"}},[_vm._v(\" Billed by \"),_c('b',[_vm._v(_vm._s(_vm.bill.form.created_by.name))])]):_vm._e()])],2),(_vm.$permission.has('delete pos'))?_c('button',{staticClass:\"btn btn-block btn-danger\",staticStyle:{\"margin-bottom\":\"30px\"},attrs:{\"type\":\"button\",\"disabled\":_vm.isDeleting},on:{\"click\":_vm.onDelete}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDeleting),expression:\"isDeleting\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('delete')))+\" \")]):_vm._e()],1)])])],1),_c('m-inventory',{key:'inventory',ref:\"inventory\",attrs:{\"id\":'inventory',\"is-pos\":true,\"item-unit\":_vm.selectedItem.unit,\"inventories\":_vm.selectedItem.inventories,\"require-expiry-date\":_vm.selectedItem.require_expiry_date,\"require-production-number\":_vm.selectedItem.require_production_number}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <breadcrumb>\r\n      <breadcrumb-pos />\r\n      <router-link\r\n        to=\"/pos/closed-bill\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ $t('closed bill') | uppercase }}\r\n      </router-link>\r\n      <span class=\"breadcrumb-item active\">{{ id }}</span>\r\n    </breadcrumb>\r\n\r\n    <p-block\r\n      :header=\"true\"\r\n      :title=\"$t('bill') + ' (' + bill.form.number + ')'\"\r\n      :is-fullscreen=\"true\"\r\n      :show-fullscreen-button=\"false\"\r\n      :show-hidden-button=\"false\"\r\n      column=\"col-sm-12\"\r\n    >\r\n      <template #header>\r\n        |<router-link\r\n          v-if=\"$permission.has('create pos')\"\r\n          to=\"/pos/open-bill/create\"\r\n          exact\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-block-option\"\r\n          >\r\n            Add\r\n          </button>\r\n        </router-link>|\r\n        <router-link\r\n          v-if=\"$permission.has('read pos')\"\r\n          to=\"/pos/closed-bill\"\r\n          exact\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-block-option\"\r\n          >\r\n            List\r\n          </button>\r\n        </router-link>|\r\n      </template>\r\n\r\n      <p-block-inner :is-loading=\"isLoading\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-3 col-lg-3\" />\r\n          <div\r\n            class=\"col-sm-12 col-md-6 col-lg6\"\r\n            style=\"background-color:LightGray;\"\r\n          >\r\n            <p-table style=\"margin-top:30px;margin-bottom:10px;\">\r\n              <tr slot=\"p-body\">\r\n                <td\r\n                  style=\"border:0px;\"\r\n                  width=\"50%\"\r\n                >\r\n                  <b>{{ bill.form.number }}</b>\r\n                </td>\r\n                <td\r\n                  style=\"border:0px;text-align:right;\"\r\n                  width=\"50%\"\r\n                >\r\n                  <b>{{ bill.date | dateFormat('DD MMMM YYYY HH:mm') }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr\r\n                v-if=\"bill.customer\"\r\n                slot=\"p-body\"\r\n              >\r\n                <td\r\n                  style=\"border:0px;\"\r\n                  colspan=\"2\"\r\n                >\r\n                  Customer: <b>{{ bill.customer.name }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr slot=\"p-body\">\r\n                <td\r\n                  style=\"border:0px;\"\r\n                  colspan=\"2\"\r\n                >\r\n                  <br>\r\n                </td>\r\n              </tr>\r\n              <template v-for=\"(row, index) in items_temporary\">\r\n                <tr\r\n                  v-if=\"row.require_expiry_date === 1 || row.require_production_number === 1\"\r\n                  slot=\"p-body\"\r\n                  :key=\"'item-' + index\"\r\n                  style=\"cursor:pointer;\"\r\n                  @click=\"showItem(index, row)\"\r\n                >\r\n                  <td\r\n                    style=\"border:0px;text-align:left;\"\r\n                    width=\"75%\"\r\n                  >\r\n                    <template>\r\n                      <label style=\"color:blue;\">{{ row.quantity | numberFormat }}x</label>\r\n                      {{ row.price | numberFormat }}\r\n                    </template>\r\n                    <br>\r\n                    <b>{{ row.item_name }} ({{ row.unit }})</b>\r\n                    <template v-if=\"row.discount_percent > 0\">\r\n                      <br>\r\n                      <label style=\"color:orange;\">{{ row.discount_percent | numberFormat }}% Discount</label>\r\n                    </template>\r\n                    <template v-if=\"row.error\">\r\n                      <br>\r\n                      <label style=\"color:red;\">{{ row.error }}</label>\r\n                    </template>\r\n                    <template v-if=\"row.notes\">\r\n                      <br>\r\n                      <br>\r\n                      <label>Note: {{ row.notes }}</label>\r\n                    </template>\r\n                  </td>\r\n                  <td\r\n                    style=\"border:0px;text-align:right;\"\r\n                    width=\"25%\"\r\n                  >\r\n                    <b>{{ row.total | numberFormat }}</b>\r\n                  </td>\r\n                </tr>\r\n                <tr\r\n                  v-else\r\n                  slot=\"p-body\"\r\n                  :key=\"'item-' + index\"\r\n                >\r\n                  <td\r\n                    style=\"border:0px;text-align:left;\"\r\n                    width=\"75%\"\r\n                  >\r\n                    <template>\r\n                      <label style=\"color:blue;\">{{ row.quantity | numberFormat }}x</label>\r\n                      {{ row.price | numberFormat }}\r\n                    </template>\r\n                    <br>\r\n                    <b>{{ row.item_name }} ({{ row.unit }})</b>\r\n                    <template v-if=\"row.discount_percent > 0\">\r\n                      <br>\r\n                      <label style=\"color:orange;\">{{ row.discount_percent | numberFormat }}% Discount</label>\r\n                    </template>\r\n                    <template v-if=\"row.error\">\r\n                      <br>\r\n                      <label style=\"color:red;\">{{ row.error }}</label>\r\n                    </template>\r\n                    <template v-if=\"row.notes\">\r\n                      <br>\r\n                      <br>\r\n                      <label>Note: {{ row.notes }}</label>\r\n                    </template>\r\n                  </td>\r\n                  <td\r\n                    style=\"border:0px;text-align:right;\"\r\n                    width=\"25%\"\r\n                  >\r\n                    <b>{{ row.total | numberFormat }}</b>\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n              <tr\r\n                v-for=\"(row, index) in bill.services\"\r\n                slot=\"p-body\"\r\n                :key=\"'service-' + index\"\r\n              >\r\n                <td\r\n                  style=\"border:0px;text-align:left;\"\r\n                  width=\"75%\"\r\n                >\r\n                  <template>\r\n                    <label style=\"color:blue;\">{{ row.quantity | numberFormat }}x</label>\r\n                    {{ row.price | numberFormat }}\r\n                  </template>\r\n                  <br>\r\n                  <b>{{ row.service_name }}</b>\r\n                  <template v-if=\"row.discount_percent > 0\">\r\n                    <br>\r\n                    <label style=\"color:orange;\">{{ row.discount_percent | numberFormat }}% Discount</label>\r\n                  </template>\r\n                  <template v-if=\"row.error\">\r\n                    <br>\r\n                    <label style=\"color:red;\">{{ row.error }}</label>\r\n                  </template>\r\n                  <template v-if=\"row.notes\">\r\n                    <br>\r\n                    <br>\r\n                    <label>Note: {{ row.notes }}</label>\r\n                  </template>\r\n                </td>\r\n                <td\r\n                  style=\"border:0px;text-align:right;\"\r\n                  width=\"25%\"\r\n                >\r\n                  <b>{{ row.total | numberFormat }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr slot=\"p-body\">\r\n                <td\r\n                  style=\"border:0px;\"\r\n                  colspan=\"2\"\r\n                >\r\n                  <br>\r\n                </td>\r\n              </tr>\r\n              <tr slot=\"p-body\">\r\n                <td style=\"border:0px;\">\r\n                  <b>{{ $t('total items') | titlecase }}</b>\r\n                </td>\r\n                <td style=\"border:0px;text-align:right;\">\r\n                  <b>{{ bill.total_quantity | numberFormat }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr slot=\"p-body\">\r\n                <td style=\"border:0px;\">\r\n                  <b>{{ $t('sub total') | titlecase }}</b>\r\n                </td>\r\n                <td style=\"border:0px;text-align:right;\">\r\n                  <b>{{ bill.subtotal | numberFormat }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr\r\n                v-if=\"bill.discount_percent\"\r\n                slot=\"p-body\"\r\n              >\r\n                <td style=\"border:0px;\">\r\n                  <b>{{ $t('discount') | titlecase }}</b>\r\n                </td>\r\n                <td style=\"border:0px;text-align:right;\">\r\n                  <b>{{ bill.discount_percent | numberFormat }}%</b>\r\n                </td>\r\n              </tr>\r\n              <tr slot=\"p-body\">\r\n                <td style=\"border:0px;\">\r\n                  <b>{{ $t('total') | titlecase }}</b>\r\n                </td>\r\n                <td style=\"border:0px;text-align:right;\">\r\n                  <b>{{ bill.amount | numberFormat }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr\r\n                v-if=\"bill.paid\"\r\n                slot=\"p-body\"\r\n              >\r\n                <td style=\"border:0px;\">\r\n                  <b>{{ $t('money received') | titlecase }}</b>\r\n                </td>\r\n                <td style=\"border:0px;text-align:right;\">\r\n                  <b>{{ bill.paid | numberFormat }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr slot=\"p-body\">\r\n                <td style=\"border:0px;\">\r\n                  <b>{{ $t('money change') | titlecase }}</b>\r\n                </td>\r\n                <td style=\"border:0px;text-align:right;\">\r\n                  <b\r\n                    v-if=\"bill.change < 0\"\r\n                    style=\"color:red;\"\r\n                  >{{ bill.change | numberFormat }}</b>\r\n                  <b\r\n                    v-else\r\n                    style=\"color:green;\"\r\n                  >{{ bill.change | numberFormat }}</b>\r\n                </td>\r\n              </tr>\r\n              <tr\r\n                v-if=\"bill.notes\"\r\n                slot=\"p-body\"\r\n              >\r\n                <td\r\n                  style=\"border:0px;\"\r\n                  colspan=\"2\"\r\n                >\r\n                  <b>{{ $t('notes') | titlecase }}:</b>\r\n                  <br>\r\n                  {{ bill.notes }}\r\n                </td>\r\n              </tr>\r\n              <tr slot=\"p-body\">\r\n                <td\r\n                  v-if=\"bill.form.created_by\"\r\n                  style=\"border:0px;\"\r\n                  colspan=\"2\"\r\n                >\r\n                  Billed by <b>{{ bill.form.created_by.name }}</b>\r\n                </td>\r\n              </tr>\r\n            </p-table>\r\n            <button\r\n              v-if=\"$permission.has('delete pos')\"\r\n              type=\"button\"\r\n              class=\"btn btn-block btn-danger\"\r\n              :disabled=\"isDeleting\"\r\n              style=\"margin-bottom:30px;\"\r\n              @click=\"onDelete\"\r\n            >\r\n              <i\r\n                v-show=\"isDeleting\"\r\n                class=\"fa fa-asterisk fa-spin\"\r\n              /> {{ $t('delete') | uppercase }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </p-block-inner>\r\n    </p-block>\r\n\r\n    <m-inventory\r\n      :id=\"'inventory'\"\r\n      ref=\"inventory\"\r\n      :key=\"'inventory'\"\r\n      :is-pos=\"true\"\r\n      :item-unit=\"selectedItem.unit\"\r\n      :inventories=\"selectedItem.inventories\"\r\n      :require-expiry-date=\"selectedItem.require_expiry_date\"\r\n      :require-production-number=\"selectedItem.require_production_number\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Breadcrumb from '@/views/Breadcrumb'\r\nimport BreadcrumbPos from '@/views/pos/Breadcrumb'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    Breadcrumb,\r\n    BreadcrumbPos\r\n  },\r\n  data () {\r\n    return {\r\n      id: this.$route.params.id,\r\n      isLoading: false,\r\n      isDeleting: false,\r\n      items_temporary: [],\r\n      selectedItem: {\r\n        unit: null,\r\n        inventories: [],\r\n        require_expiry_date: 0,\r\n        require_production_number: 0\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('posBill', ['bill'])\r\n  },\r\n  watch: {\r\n    '$route' (to, from) {\r\n      if (to.params.id != from.params.id) {\r\n        this.id = to.params.id\r\n        this.posBillRequest()\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.isLoading = true\r\n    this.posBillRequest()\r\n  },\r\n  methods: {\r\n    ...mapActions('posBill', {\r\n      findBill: 'find',\r\n      deleteBill: 'delete'\r\n    }),\r\n    posBillRequest () {\r\n      this.isLoading = true\r\n      this.findBill({\r\n        id: this.id,\r\n        params: {\r\n          filter_form: 'activeDone',\r\n          includes: 'form;customer;items.item;services.service;form.createdBy'\r\n        }\r\n      }).then(response => {\r\n        this.items_temporary = []\r\n        for (const index in this.bill.items) {\r\n          const item = this.bill.items[index]\r\n          const itemTemporaryIndex = this.items_temporary.findIndex(o => o.item_id === item.item_id && o.unit === item.unit)\r\n          if (itemTemporaryIndex < 0) {\r\n            var newItem = Object.assign({}, item)\r\n            newItem.inventories = []\r\n            newItem.require_expiry_date = item.item.require_expiry_date\r\n            newItem.require_production_number = item.item.require_production_number\r\n            newItem.inventories.push({\r\n              quantity: item.quantity,\r\n              expiry_date: item.expiry_date,\r\n              production_number: item.production_number\r\n            })\r\n            this.items_temporary.push(newItem)\r\n          } else {\r\n            var existing = this.items_temporary[itemTemporaryIndex]\r\n            existing.quantity += item.quantity\r\n            existing.inventories.push({\r\n              quantity: item.quantity,\r\n              expiry_date: item.expiry_date,\r\n              production_number: item.production_number\r\n            })\r\n            this.items_temporary[itemTemporaryIndex] = existing\r\n          }\r\n        }\r\n        this.isLoading = false\r\n        this.calculate()\r\n      }).catch(error => {\r\n        this.isLoading = false\r\n        this.$notification.error(error.message)\r\n      })\r\n    },\r\n    calculate () {\r\n      this.bill.subtotal = 0\r\n      this.bill.total_quantity = 0\r\n      this.items_temporary.forEach(item => {\r\n        item.discount_value = parseFloat(item.price) * parseFloat(item.discount_percent) / 100\r\n        item.total = parseFloat(item.quantity) * (parseFloat(item.price) - parseFloat(item.discount_value))\r\n        this.bill.subtotal += parseFloat(item.total)\r\n        this.bill.total_quantity += parseFloat(item.quantity)\r\n      })\r\n      this.bill.services.forEach(service => {\r\n        service.discount_value = parseFloat(service.price) * parseFloat(service.discount_percent) / 100\r\n        service.total = parseFloat(service.quantity) * (parseFloat(service.price) - parseFloat(service.discount_value))\r\n        this.bill.subtotal += parseFloat(service.total)\r\n        this.bill.total_quantity += parseFloat(service.quantity)\r\n      })\r\n      this.bill.change = parseFloat(this.bill.paid) - parseFloat(this.bill.amount)\r\n    },\r\n    showItem (index, item) {\r\n      if (!this.isLoading && !this.isDeleting) {\r\n        this.selectedItem = Object.assign({}, item)\r\n        if (item.require_expiry_date || item.require_production_number) {\r\n          this.$refs.inventory.show(this.selectedItem)\r\n        }\r\n      }\r\n    },\r\n    onDelete () {\r\n      this.isDeleting = true\r\n      this.deleteBill({\r\n        id: this.id\r\n      }).then(response => {\r\n        this.isDeleting = false\r\n        this.$notification.success('delete success')\r\n        this.$router.push('/pos/closed-bill')\r\n      }).catch(error => {\r\n        this.isDeleting = false\r\n        this.$notification.error(error.message)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=98a57558&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}