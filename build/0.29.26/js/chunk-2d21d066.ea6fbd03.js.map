{"version":3,"sources":["webpack:///./src/views/plugin/pin-point/sales-visitation-form/Create.vue","webpack:///src/views/plugin/pin-point/sales-visitation-form/Create.vue","webpack:///./src/views/plugin/pin-point/sales-visitation-form/Create.vue?72c1","webpack:///./src/views/plugin/pin-point/sales-visitation-form/Create.vue?99cb"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","isLoading","expression","attrs","loadingMessage","staticClass","_v","_s","_f","$t","on","$event","preventDefault","onSubmit","apply","arguments","slot","form","image","onCaptured","isSaving","errors","get","set","model","customer","callback","$$v","$set","$refs","open","customer_name","group","group_name","description","setPlace","type","indexOf","_k","keyCode","key","ref","staticStyle","center","disableDefaultUI","styles","featureType","stylers","visibility","elementType","_l","markers","m","index","position","address","district","sub_district","phone","similarProduct","similar_products","length","_e","interestReason","interest_reasons","noInterestReason","no_interest_reasons","notes","date","payment_method","domProps","_q","due_date","payment_received","items","row","item","item_label","item_id","units","unit","label","converter","quantity_pending","onClickUnit","chooseUnit","nativeOn","onClickQuantity","calculate","quantity","price","total","total_price","updateDna","chooseWarehouse","chooseCustomer","chooseGroup","chooseItem","chooseInterestReason","chooseNoInterestReason","chooseSimilarProduct","staticRenderFns","components","TabMenu","Breadcrumb","BreadcrumbPlugin","BreadcrumbPinPoint","MMInterestReason","MMNoInterestReason","MMSimilarProduct","data","gmapApiKey","warehouseId","warehouseName","customer_id","branch_id","warehouse_id","latitude","longitude","group_id","received_payment","lat","lng","addressComponent","place","computed","mapGetters","mounted","created","methods","mapActions","console","getLocation","navigator","addMoreSimilarProduct","id","setDescription","component","geocodeLatLng","geocoder","location","self","addItemRow","item_name","chart_of_account_id","chart_of_account_name","require_expiry_date","require_production_number","allocation_id","allocation_name","more","isNeedNewRow","clearItem","then"],"mappings":"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SAASC,GAAQ,OAAOlB,EAAI0G,uBAAuBxF,OAAYhB,EAAG,sBAAsB,CAAC8C,IAAI,iBAAiB/B,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOlB,EAAI2G,qBAAqBzF,QAAa,IAEl9E0F,EAAkB,G,gNC8dP,GACfC,YACAC,eACAC,kBACAC,wBACAC,0BACAC,wBACAC,0BACAC,yBAEAC,gBACA,OACAC,cACA9G,aACAG,4BACAgB,YACA4F,iBACAC,mBACAhG,iBACAmD,2BACAlD,WACAgG,iBACAC,eACAC,kBACArF,yCACAwB,sCACAC,wCACAC,gDACA4D,wCACAC,0CACAC,cACAtF,gBACAyB,SACAS,SACAH,oBACAE,uBACAN,oBACAc,SACAkB,cACAvB,sBACAG,cACAgD,qBAGA7E,QAAA8E,YAAAC,aACAvE,SACA,CAAAG,UAAAmE,OAAAC,UAEAC,oBACAzF,eACA0F,aAGAC,2BACAC,qCAEAC,mBAAA,oJAEA,OADA,eACA,uDACA,0DAHA,IAKAC,mBACA,kBACA,4CACA,kDACA,4CACA,iDAEAC,yCACAC,oEACApC,4BACA,sBACA,0BACA,6BAEAP,8BACA,iFAGA,2DACAZ,gCACAA,UACA,2CAGAS,wBACA,uFAIA,8EAKAC,yBACAV,eACAA,yBAEAkB,sBACAsC,eACA,mCACA,6CACA,qCACA,gDAEAhH,uBACA,mBAEAiH,uBACA,sBACAC,qDAAA,WACA,GACAZ,sBACAC,wBAEA,sBACA,sBACA,yBACA,0BACA,mCACA,mCACA,4CACA,eAEA,sEACA,mBACA,mBAEA,YAEA,sGAGAY,iCACA,iCACAC,QACAzI,aAGAiG,2BACA,qBACA,kCACA,uCAEA,2BACA,gCAEAC,wBACA,wBACA,6BAGAwC,2BACA,oBAEArG,qBAAA,WACA,0CACA,0CACA,uDACA,uDACA,wBACA,6DACA,0DACA,sBACA,0BACA,8DACA,SACAsG,6BACA,iCACA,4BACA,mCACA,wCAMAC,8BACA,WACAC,WAAAC,uBAAA,cACA,UACAC,wBACAA,uDACAA,oDACAA,2DACA,SACAJ,6BACA,iCACAI,4BACA,mCACAA,4CASAC,sBACA,sBACAhE,aACAiE,eACAlE,gBACAmE,yBACAC,2BACAC,yBACAC,+BACAnE,UACAE,eACAO,cACA2D,mBACAC,qBACAlF,WACAmF,QACAvE,QACAE,SACAnF,QACAoF,oBAIAe,uBACA,eAKA,+BACAtB,SACAA,eACAA,mBACAA,qBACAA,wDACAA,4CACAA,gBACAA,+BACA,6BACAA,eACAA,4BAGA,SACA,qCACA,kBACA4E,SAGA,GACA,kBAEA,sBA3BA,yBA6BAC,sBACA7E,eACAA,iBACAA,kBACAA,YACAA,iBACAA,gBACAA,aACAA,qBACAA,aACAA,UACAA,WACA,2BACA,+EACA,oBAGAuB,iCACA,8BAEAC,mCACA,iCAEAC,iCACA,8BAEAZ,6CAAA,WACA,wBACA,qCACA,0BACAZ,2BACA,8CAGA,KACA/D,oBAAA,WACA,iBACA,uBACA4I,kBACA,cACA,0CACA,4CACA,6DACA,mBACA,cACA,iCACA,UACA,sCCtyB6X,I,YCOzXhB,EAAY,eACd,EACAjJ,EACA6G,GACA,EACA,KACA,KACA,MAIa,aAAAoC,E","file":"js/chunk-2d21d066.ea6fbd03.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p-loading-block',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"message\":_vm.loadingMessage}}),_c('breadcrumb',[_c('breadcrumb-plugin'),_c('breadcrumb-pin-point'),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/plugin/pin-point/sales-visitation-form\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('sales visitation')))+\" \")]),_c('span',{staticClass:\"breadcrumb-item active\"},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('create'))))])],1),_c('tab-menu'),_c('form',{staticClass:\"row\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('p-block',{attrs:{\"is-loading\":_vm.isLoading,\"header\":false,\"title\":_vm.$t('sales visitation'),\"column\":\"col-sm-12\"}},[_c('h5',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('sales visitation'))))]),_c('hr'),_c('p-form-row',{attrs:{\"label\":_vm.$t('photo')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-camera',{attrs:{\"image\":_vm.form.image},on:{\"onCaptured\":function($event){return _vm.onCaptured($event)}}})],1)]),_c('p-form-row',{attrs:{\"id\":\"customer\",\"name\":\"customer\",\"label\":_vm.$t('customer' + '*'),\"disabled\":_vm.isSaving,\"errors\":_vm.form.errors.get('customer')},on:{\"errors\":function($event){return _vm.form.errors.set('customer', null)}},model:{value:(_vm.form.customer),callback:function ($$v) {_vm.$set(_vm.form, \"customer\", $$v)},expression:\"form.customer\"}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.customer.open()}}},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.form.customer_name || _vm.$t('select'))))])])]),_c('p-form-row',{attrs:{\"label\":'customer group' + '*'}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.group.open()}}},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.form.group_name || _vm.$t('select'))))])])]),_c('p-form-row',{attrs:{\"id\":\"gmap\",\"name\":\"gmap\",\"label\":'Google Map - ' + _vm.$t('address'),\"placeholder\":'' + _vm.$t('address')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('gmap-autocomplete',{staticClass:\"form-control\",attrs:{\"value\":_vm.description,\"disabled\":true},on:{\"place_changed\":_vm.setPlace,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();}}}),_c('gmap-map',{ref:\"map\",staticStyle:{\"width\":\"100%\",\"height\":\"200px\"},attrs:{\"id\":\"map\",\"center\":_vm.center,\"zoom\":15,\"options\":{\n              disableDefaultUI: true,\n              styles: [\n                {\n                  featureType: 'poi.business',\n                  stylers: [\n                    {\n                      visibility: 'off'\n                    }\n                  ]\n                },\n                {\n                  featureType: 'poi.park',\n                  elementType: 'labels.text',\n                  stylers: [\n                    {\n                      visibility: 'off'\n                    }\n                  ]\n                }\n              ]\n            }}},_vm._l((_vm.markers),function(m,index){return _c('gmap-marker',{key:index,attrs:{\"position\":_vm.center = m.position,\"clickable\":true,\"draggable\":true},on:{\"click\":function($event){_vm.center=m.position}}})}),1)],1)]),_c('p-form-row',{attrs:{\"id\":\"address\",\"name\":\"address\",\"label\":_vm.$t('address') + '*',\"placeholder\":_vm.$t('address'),\"disabled\":_vm.isSaving,\"errors\":_vm.form.errors.get('address')},on:{\"errors\":function($event){return _vm.form.errors.set('address', null)}},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}}),_c('p-form-row',{attrs:{\"id\":\"district\",\"name\":\"district\",\"placeholder\":_vm.$t('district'),\"disabled\":_vm.isSaving,\"errors\":_vm.form.errors.get('district')},on:{\"errors\":function($event){return _vm.form.errors.set('district', null)}},model:{value:(_vm.form.district),callback:function ($$v) {_vm.$set(_vm.form, \"district\", $$v)},expression:\"form.district\"}}),_c('p-form-row',{attrs:{\"id\":\"sub_district\",\"name\":\"sub_district\",\"placeholder\":_vm.$t('sub district'),\"disabled\":_vm.isSaving,\"errors\":_vm.form.errors.get('sub_district')},on:{\"errors\":function($event){return _vm.form.errors.set('sub_district', null)}},model:{value:(_vm.form.sub_district),callback:function ($$v) {_vm.$set(_vm.form, \"sub_district\", $$v)},expression:\"form.sub_district\"}}),_c('p-form-row',{attrs:{\"id\":\"phone\",\"name\":\"phone\",\"label\":_vm.$t('phone') + '*',\"disabled\":_vm.isSaving,\"errors\":_vm.form.errors.get('phone')},on:{\"errors\":function($event){return _vm.form.errors.set('phone', null)}},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}}),_c('p-form-row',{attrs:{\"id\":\"similar-product\",\"name\":\"similar_product\",\"label\":_vm._f(\"titlecase\")(_vm.$t('similar product') + '*')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.similarProduct.open(_vm.form.similar_products)}}},[(_vm.form.similar_products.length == 0)?[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('select'))))]:_vm._e(),_vm._l((_vm.form.similar_products),function(similarProduct,index){return [_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(similarProduct.name))),(index + 1 != _vm.form.similar_products.length)?[_vm._v(\",\")]:_vm._e()]})],2)])]),_c('p-form-row',{attrs:{\"id\":\"interest\",\"name\":\"interest\",\"label\":_vm._f(\"titlecase\")(_vm.$t('interest reason') + '*')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.interestReason.open(_vm.form.interest_reasons)}}},[(_vm.form.interest_reasons.length == 0)?[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('select'))))]:_vm._e(),_vm._l((_vm.form.interest_reasons),function(interestReason,index){return [_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(interestReason.name))),(index + 1 != _vm.form.interest_reasons.length)?[_vm._v(\",\")]:_vm._e()]})],2)])]),_c('p-form-row',{attrs:{\"id\":\"no-interest\",\"name\":\"no_interest\",\"label\":_vm.$t('no interest reason') + '*'}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.noInterestReason.open(_vm.form.no_interest_reasons)}}},[(_vm.form.no_interest_reasons.length == 0)?[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('select'))))]:_vm._e(),_vm._l((_vm.form.no_interest_reasons),function(noInterestReason,index){return [_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(noInterestReason.name))),(index + 1 != _vm.form.no_interest_reasons.length)?[_vm._v(\",\")]:_vm._e()]})],2)])]),_c('p-form-row',{attrs:{\"id\":\"notes\",\"name\":\"notes\",\"label\":'notes',\"disabled\":_vm.isSaving,\"errors\":_vm.form.errors.get('notes')},on:{\"errors\":function($event){return _vm.form.errors.set('notes', null)}},model:{value:(_vm.form.notes),callback:function ($$v) {_vm.$set(_vm.form, \"notes\", $$v)},expression:\"form.notes\"}}),_c('p-separator'),_c('h5',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('form sales'))))]),_c('hr'),_c('p-form-row',{attrs:{\"label\":_vm.$t('date')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-date-picker',{attrs:{\"id\":\"date\",\"name\":\"date\",\"label\":\"date\",\"type\":\"datetime\",\"format\":\"YYYY-MM-DD HH:mm:ss\",\"errors\":_vm.form.errors.get('date')},on:{\"errors\":function($event){return _vm.form.errors.set('date', null)}},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1)]),_c('hr'),_c('p-form-row',{attrs:{\"label\":_vm._f(\"titlecase\")(_vm.$t('payment method'))}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('label',{staticClass:\"css-control css-control-primary css-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.payment_method),expression:\"form.payment_method\"}],staticClass:\"css-control-input\",attrs:{\"type\":\"radio\",\"name\":\"radio-group2\"},domProps:{\"value\":'cash',\"checked\":_vm._q(_vm.form.payment_method,'cash')},on:{\"change\":function($event){return _vm.$set(_vm.form, \"payment_method\", 'cash')}}}),_c('span',{staticClass:\"css-control-indicator\"}),_vm._v(\" Tunai \")]),_c('label',{staticClass:\"css-control css-control-primary css-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.payment_method),expression:\"form.payment_method\"}],staticClass:\"css-control-input\",attrs:{\"type\":\"radio\",\"name\":\"radio-group2\"},domProps:{\"value\":'credit',\"checked\":_vm._q(_vm.form.payment_method,'credit')},on:{\"change\":function($event){return _vm.$set(_vm.form, \"payment_method\", 'credit')}}}),_c('span',{staticClass:\"css-control-indicator\"}),_vm._v(\" Tempo \")]),_c('label',{staticClass:\"css-control css-control-primary css-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.payment_method),expression:\"form.payment_method\"}],staticClass:\"css-control-input\",attrs:{\"type\":\"radio\",\"name\":\"radio-group2\"},domProps:{\"value\":'taking-order',\"checked\":_vm._q(_vm.form.payment_method,'taking-order')},on:{\"change\":function($event){return _vm.$set(_vm.form, \"payment_method\", 'taking-order')}}}),_c('span',{staticClass:\"css-control-indicator\"}),_vm._v(\" Taking Order \")]),_c('label',{staticClass:\"css-control css-control-primary css-radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.payment_method),expression:\"form.payment_method\"}],staticClass:\"css-control-input\",attrs:{\"type\":\"radio\",\"name\":\"radio-group2\"},domProps:{\"value\":'sell-out',\"checked\":_vm._q(_vm.form.payment_method,'sell-out')},on:{\"change\":function($event){return _vm.$set(_vm.form, \"payment_method\", 'sell-out')}}}),_c('span',{staticClass:\"css-control-indicator\"}),_vm._v(\" Sell Out \")])])]),_c('p-form-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.payment_method === 'credit'),expression:\"form.payment_method === 'credit'\"}],attrs:{\"id\":\"date\",\"name\":\"date\",\"label\":_vm.$t('due date')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-date-picker',{attrs:{\"id\":\"date\",\"name\":\"date\",\"label\":\"date\",\"errors\":_vm.form.errors.get('date')},on:{\"errors\":function($event){return _vm.form.errors.set('date', null)}},model:{value:(_vm.form.due_date),callback:function ($$v) {_vm.$set(_vm.form, \"due_date\", $$v)},expression:\"form.due_date\"}})],1)]),_c('p-form-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.payment_method === 'credit'),expression:\"form.payment_method === 'credit'\"}],attrs:{\"label\":_vm._f(\"titlecase\")(_vm.$t('payment received'))}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-number',{attrs:{\"id\":\"payment-received\",\"name\":\"payment_received\",\"disabled\":_vm.isSaving,\"errors\":_vm.form.errors.get('payment_received'),\"is-text-right\":false},on:{\"errors\":function($event){return _vm.form.errors.set('payment_received', null)}},model:{value:(_vm.form.payment_received),callback:function ($$v) {_vm.$set(_vm.form, \"payment_received\", $$v)},expression:\"form.payment_received\"}})],1)]),_c('p-table',[_c('tr',{attrs:{\"slot\":\"p-head\"},slot:\"p-head\"},[_c('th',[_vm._v(\"Item\")]),_c('th',[_vm._v(\"Jumlah\")]),_c('th',[_vm._v(\"Harga Satuan\")]),_c('th',[_vm._v(\"Total\")])]),_vm._l((_vm.form.items),function(row,index){return _c('tr',{key:'row-' + index,attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.item.open(index)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(row.item_label || _vm.$t('select')))+\" \")])]),_c('td',[_c('p-quantity',{attrs:{\"id\":'quantity' + index,\"name\":'quantity' + index,\"item-id\":row.item_id,\"units\":row.units,\"unit\":{\n                name: row.unit,\n                label: row.unit,\n                converter: row.converter\n              },\"max\":row.quantity_pending * 1,\"readonly\":_vm.onClickUnit(row)},on:{\"choosen\":function($event){return _vm.chooseUnit($event, row)}},nativeOn:{\"click\":function($event){return _vm.onClickQuantity(row, index)},\"keyup\":function($event){return _vm.calculate.apply(null, arguments)}},model:{value:(row.quantity),callback:function ($$v) {_vm.$set(row, \"quantity\", $$v)},expression:\"row.quantity\"}})],1),_c('td',[_c('p-form-number',{attrs:{\"id\":'price' + index,\"name\":'price' + index,\"disabled\":row.item_id == null},nativeOn:{\"keyup\":function($event){return _vm.calculate.apply(null, arguments)}},model:{value:(row.price),callback:function ($$v) {_vm.$set(row, \"price\", $$v)},expression:\"row.price\"}})],1),_c('td',[_c('p-form-number',{attrs:{\"id\":'total' + index,\"name\":'total' + index,\"disabled\":true},model:{value:(row.total),callback:function ($$v) {_vm.$set(row, \"total\", $$v)},expression:\"row.total\"}})],1)])}),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td'),_c('td'),_c('td',[_vm._v(\"Total\")]),_c('td',[_c('p-form-number',{attrs:{\"readonly\":true,\"is-text-right\":true},model:{value:(_vm.form.total_price),callback:function ($$v) {_vm.$set(_vm.form, \"total_price\", $$v)},expression:\"form.total_price\"}})],1)])],2),_c('hr'),_c('div',{staticClass:\"form-group row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"disabled\":_vm.isSaving,\"type\":\"submit\"}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('save')))+\" \")])])])],1)],1),_c('m-inventory-out',{ref:\"inventory\",attrs:{\"id\":'inventory',\"disable-unit-selection\":true},on:{\"updated\":function($event){return _vm.updateDna($event)}}}),_c('m-warehouse',{ref:\"warehouse\",attrs:{\"id\":\"warehouse_id\"},on:{\"choosen\":function($event){return _vm.chooseWarehouse($event)}}}),_c('m-customer',{ref:\"customer\",on:{\"choosen\":_vm.chooseCustomer}}),_c('m-customer-group',{ref:\"group\",on:{\"choosen\":_vm.chooseGroup}}),_c('m-item',{ref:\"item\",on:{\"choosen\":function($event){return _vm.chooseItem($event)}}}),_c('m-m-interest-reason',{ref:\"interestReason\",on:{\"choosen\":function($event){return _vm.chooseInterestReason($event)}}}),_c('m-m-no-interest-reason',{ref:\"noInterestReason\",on:{\"choosen\":function($event){return _vm.chooseNoInterestReason($event)}}}),_c('m-m-similar-product',{ref:\"similarProduct\",on:{\"choosen\":function($event){return _vm.chooseSimilarProduct($event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <p-loading-block\r\n      v-show=\"isLoading\"\r\n      :message=\"loadingMessage\"\r\n    />\r\n\r\n    <breadcrumb>\r\n      <breadcrumb-plugin />\r\n      <breadcrumb-pin-point />\r\n      <router-link\r\n        to=\"/plugin/pin-point/sales-visitation-form\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ $t('sales visitation') | uppercase }}\r\n      </router-link>\r\n      <span class=\"breadcrumb-item active\">{{ $t('create') | uppercase }}</span>\r\n    </breadcrumb>\r\n\r\n    <tab-menu />\r\n\r\n    <form\r\n      class=\"row\"\r\n      @submit.prevent=\"onSubmit\"\r\n    >\r\n      <p-block\r\n        :is-loading=\"isLoading\"\r\n        :header=\"false\"\r\n        :title=\"$t('sales visitation')\"\r\n        column=\"col-sm-12\"\r\n      >\r\n        <h5>{{ $t('sales visitation') | uppercase }}</h5>\r\n\r\n        <hr>\r\n\r\n        <p-form-row :label=\"$t('photo')\">\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <p-camera\r\n              :image=\"form.image\"\r\n              @onCaptured=\"onCaptured($event)\"\r\n            />\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          id=\"customer\"\r\n          v-model=\"form.customer\"\r\n          name=\"customer\"\r\n          :label=\"$t('customer' + '*')\"\r\n          :disabled=\"isSaving\"\r\n          :errors=\"form.errors.get('customer')\"\r\n          @errors=\"form.errors.set('customer', null)\"\r\n        >\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <span\r\n              class=\"select-link\"\r\n              @click=\"$refs.customer.open()\"\r\n            >{{ form.customer_name || $t('select') | uppercase }}</span>\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row :label=\"'customer group' + '*'\">\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <span\r\n              class=\"select-link\"\r\n              @click=\"$refs.group.open()\"\r\n            >{{ form.group_name || $t('select') | uppercase }}</span>\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          id=\"gmap\"\r\n          name=\"gmap\"\r\n          :label=\"'Google Map - ' + $t('address')\"\r\n          :placeholder=\"'' + $t('address')\"\r\n        >\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <gmap-autocomplete\r\n              :value=\"description\"\r\n              :disabled=\"true\"\r\n              class=\"form-control\"\r\n              @place_changed=\"setPlace\"\r\n              @keypress.enter.prevent\r\n            />\r\n            <gmap-map\r\n              id=\"map\"\r\n              ref=\"map\"\r\n              :center=\"center\"\r\n              :zoom=\"15\"\r\n              :options=\"{\r\n                disableDefaultUI: true,\r\n                styles: [\r\n                  {\r\n                    featureType: 'poi.business',\r\n                    stylers: [\r\n                      {\r\n                        visibility: 'off'\r\n                      }\r\n                    ]\r\n                  },\r\n                  {\r\n                    featureType: 'poi.park',\r\n                    elementType: 'labels.text',\r\n                    stylers: [\r\n                      {\r\n                        visibility: 'off'\r\n                      }\r\n                    ]\r\n                  }\r\n                ]\r\n              }\"\r\n              style=\"width: 100%; height: 200px\"\r\n            >\r\n              <gmap-marker\r\n                v-for=\"(m, index) in markers\"\r\n                :key=\"index\"\r\n                :position=\"center = m.position\"\r\n                :clickable=\"true\"\r\n                :draggable=\"true\"\r\n                @click=\"center=m.position\"\r\n              />\r\n            </gmap-map>\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          id=\"address\"\r\n          v-model=\"form.address\"\r\n          name=\"address\"\r\n          :label=\"$t('address') + '*'\"\r\n          :placeholder=\"$t('address')\"\r\n          :disabled=\"isSaving\"\r\n          :errors=\"form.errors.get('address')\"\r\n          @errors=\"form.errors.set('address', null)\"\r\n        />\r\n\r\n        <p-form-row\r\n          id=\"district\"\r\n          v-model=\"form.district\"\r\n          name=\"district\"\r\n          :placeholder=\"$t('district')\"\r\n          :disabled=\"isSaving\"\r\n          :errors=\"form.errors.get('district')\"\r\n          @errors=\"form.errors.set('district', null)\"\r\n        />\r\n\r\n        <p-form-row\r\n          id=\"sub_district\"\r\n          v-model=\"form.sub_district\"\r\n          name=\"sub_district\"\r\n          :placeholder=\"$t('sub district')\"\r\n          :disabled=\"isSaving\"\r\n          :errors=\"form.errors.get('sub_district')\"\r\n          @errors=\"form.errors.set('sub_district', null)\"\r\n        />\r\n\r\n        <p-form-row\r\n          id=\"phone\"\r\n          v-model=\"form.phone\"\r\n          name=\"phone\"\r\n          :label=\"$t('phone') + '*'\"\r\n          :disabled=\"isSaving\"\r\n          :errors=\"form.errors.get('phone')\"\r\n          @errors=\"form.errors.set('phone', null)\"\r\n        />\r\n\r\n        <p-form-row\r\n          id=\"similar-product\"\r\n          name=\"similar_product\"\r\n          :label=\"$t('similar product') + '*' | titlecase\"\r\n        >\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <span\r\n              class=\"select-link\"\r\n              @click=\"$refs.similarProduct.open(form.similar_products)\"\r\n            >\r\n              <template v-if=\"form.similar_products.length == 0\">{{ $t('select') | uppercase }}</template>\r\n              <template v-for=\"(similarProduct, index) in form.similar_products\">\r\n                {{ similarProduct.name | uppercase }}<template v-if=\"index + 1 != form.similar_products.length\">,</template>\r\n              </template>\r\n            </span>\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          id=\"interest\"\r\n          name=\"interest\"\r\n          :label=\"$t('interest reason') + '*' | titlecase\"\r\n        >\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <span\r\n              class=\"select-link\"\r\n              @click=\"$refs.interestReason.open(form.interest_reasons)\"\r\n            >\r\n              <template v-if=\"form.interest_reasons.length == 0\">{{ $t('select') | uppercase }}</template>\r\n              <template v-for=\"(interestReason, index) in form.interest_reasons\">\r\n                {{ interestReason.name | uppercase }}<template v-if=\"index + 1 != form.interest_reasons.length\">,</template>\r\n              </template>\r\n            </span>\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          id=\"no-interest\"\r\n          name=\"no_interest\"\r\n          :label=\"$t('no interest reason') + '*'\"\r\n        >\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <span\r\n              class=\"select-link\"\r\n              @click=\"$refs.noInterestReason.open(form.no_interest_reasons)\"\r\n            >\r\n              <template v-if=\"form.no_interest_reasons.length == 0\">{{ $t('select') | uppercase }}</template>\r\n              <template v-for=\"(noInterestReason, index) in form.no_interest_reasons\">\r\n                {{ noInterestReason.name | uppercase }}<template v-if=\"index + 1 != form.no_interest_reasons.length\">,</template>\r\n              </template>\r\n            </span>\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          id=\"notes\"\r\n          v-model=\"form.notes\"\r\n          name=\"notes\"\r\n          :label=\"'notes'\"\r\n          :disabled=\"isSaving\"\r\n          :errors=\"form.errors.get('notes')\"\r\n          @errors=\"form.errors.set('notes', null)\"\r\n        />\r\n\r\n        <p-separator />\r\n\r\n        <h5>{{ $t('form sales') | uppercase }}</h5>\r\n\r\n        <hr>\r\n\r\n        <p-form-row :label=\"$t('date')\">\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <p-date-picker\r\n              id=\"date\"\r\n              v-model=\"form.date\"\r\n              name=\"date\"\r\n              label=\"date\"\r\n              type=\"datetime\"\r\n              format=\"YYYY-MM-DD HH:mm:ss\"\r\n              :errors=\"form.errors.get('date')\"\r\n              @errors=\"form.errors.set('date', null)\"\r\n            />\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <hr>\r\n\r\n        <p-form-row :label=\"$t('payment method') | titlecase\">\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <label class=\"css-control css-control-primary css-radio\">\r\n              <input\r\n                v-model=\"form.payment_method\"\r\n                type=\"radio\"\r\n                class=\"css-control-input\"\r\n                name=\"radio-group2\"\r\n                :value=\"'cash'\"\r\n              >\r\n              <span class=\"css-control-indicator\" /> Tunai\r\n            </label>\r\n            <label class=\"css-control css-control-primary css-radio\">\r\n              <input\r\n                v-model=\"form.payment_method\"\r\n                type=\"radio\"\r\n                class=\"css-control-input\"\r\n                name=\"radio-group2\"\r\n                :value=\"'credit'\"\r\n              >\r\n              <span class=\"css-control-indicator\" /> Tempo\r\n            </label>\r\n            <label class=\"css-control css-control-primary css-radio\">\r\n              <input\r\n                v-model=\"form.payment_method\"\r\n                type=\"radio\"\r\n                class=\"css-control-input\"\r\n                name=\"radio-group2\"\r\n                :value=\"'taking-order'\"\r\n              >\r\n              <span class=\"css-control-indicator\" /> Taking Order\r\n            </label>\r\n            <label class=\"css-control css-control-primary css-radio\">\r\n              <input\r\n                v-model=\"form.payment_method\"\r\n                type=\"radio\"\r\n                class=\"css-control-input\"\r\n                name=\"radio-group2\"\r\n                :value=\"'sell-out'\"\r\n              >\r\n              <span class=\"css-control-indicator\" /> Sell Out\r\n            </label>\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          v-show=\"form.payment_method === 'credit'\"\r\n          id=\"date\"\r\n          name=\"date\"\r\n          :label=\"$t('due date')\"\r\n        >\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <p-date-picker\r\n              id=\"date\"\r\n              v-model=\"form.due_date\"\r\n              name=\"date\"\r\n              label=\"date\"\r\n              :errors=\"form.errors.get('date')\"\r\n              @errors=\"form.errors.set('date', null)\"\r\n            />\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-form-row\r\n          v-show=\"form.payment_method === 'credit'\"\r\n          :label=\"$t('payment received') | titlecase\"\r\n        >\r\n          <div\r\n            slot=\"body\"\r\n            class=\"col-lg-9\"\r\n          >\r\n            <p-form-number\r\n              id=\"payment-received\"\r\n              v-model=\"form.payment_received\"\r\n              name=\"payment_received\"\r\n              :disabled=\"isSaving\"\r\n              :errors=\"form.errors.get('payment_received')\"\r\n              :is-text-right=\"false\"\r\n              @errors=\"form.errors.set('payment_received', null)\"\r\n            />\r\n          </div>\r\n        </p-form-row>\r\n\r\n        <p-table>\r\n          <tr slot=\"p-head\">\r\n            <th>Item</th>\r\n            <th>Jumlah</th>\r\n            <th>Harga Satuan</th>\r\n            <th>Total</th>\r\n          </tr>\r\n          <tr\r\n            v-for=\"(row, index) in form.items\"\r\n            slot=\"p-body\"\r\n            :key=\"'row-' + index\"\r\n          >\r\n            <td>\r\n              <span\r\n                class=\"select-link\"\r\n                @click=\"$refs.item.open(index)\"\r\n              >\r\n                {{ row.item_label || $t('select') | uppercase }}\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <p-quantity\r\n                :id=\"'quantity' + index\"\r\n                v-model=\"row.quantity\"\r\n                :name=\"'quantity' + index\"\r\n                :item-id=\"row.item_id\"\r\n                :units=\"row.units\"\r\n                :unit=\"{\r\n                  name: row.unit,\r\n                  label: row.unit,\r\n                  converter: row.converter\r\n                }\"\r\n                :max=\"row.quantity_pending * 1\"\r\n                :readonly=\"onClickUnit(row)\"\r\n                @choosen=\"chooseUnit($event, row)\"\r\n                @click.native=\"onClickQuantity(row, index)\"\r\n                @keyup.native=\"calculate\"\r\n              />\r\n            </td>\r\n            <td>\r\n              <p-form-number\r\n                :id=\"'price' + index\"\r\n                v-model=\"row.price\"\r\n                :name=\"'price' + index\"\r\n                :disabled=\"row.item_id == null\"\r\n                @keyup.native=\"calculate\"\r\n              />\r\n            </td>\r\n            <td>\r\n              <p-form-number\r\n                :id=\"'total' + index\"\r\n                v-model=\"row.total\"\r\n                :name=\"'total' + index\"\r\n                :disabled=\"true\"\r\n              />\r\n            </td>\r\n          </tr>\r\n          <tr slot=\"p-body\">\r\n            <td />\r\n            <td />\r\n            <td>Total</td>\r\n            <td>\r\n              <p-form-number\r\n                v-model=\"form.total_price\"\r\n                :readonly=\"true\"\r\n                :is-text-right=\"true\"\r\n              />\r\n            </td>\r\n          </tr>\r\n        </p-table>\r\n\r\n        <hr>\r\n\r\n        <div class=\"form-group row\">\r\n          <div class=\"col-md-12\">\r\n            <button\r\n              :disabled=\"isSaving\"\r\n              type=\"submit\"\r\n              class=\"btn btn-sm btn-primary\"\r\n            >\r\n              <i\r\n                v-show=\"isSaving\"\r\n                class=\"fa fa-asterisk fa-spin\"\r\n              /> {{ $t('save') | uppercase }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </p-block>\r\n    </form>\r\n    <m-inventory-out\r\n      :id=\"'inventory'\"\r\n      ref=\"inventory\"\r\n      :disable-unit-selection=\"true\"\r\n      @updated=\"updateDna($event)\"\r\n    />\r\n    <m-warehouse\r\n      id=\"warehouse_id\"\r\n      ref=\"warehouse\"\r\n      @choosen=\"chooseWarehouse($event)\"\r\n    />\r\n    <m-customer\r\n      ref=\"customer\"\r\n      @choosen=\"chooseCustomer\"\r\n    />\r\n    <m-customer-group\r\n      ref=\"group\"\r\n      @choosen=\"chooseGroup\"\r\n    />\r\n    <m-item\r\n      ref=\"item\"\r\n      @choosen=\"chooseItem($event)\"\r\n    />\r\n    <m-m-interest-reason\r\n      ref=\"interestReason\"\r\n      @choosen=\"chooseInterestReason($event)\"\r\n    />\r\n    <m-m-no-interest-reason\r\n      ref=\"noInterestReason\"\r\n      @choosen=\"chooseNoInterestReason($event)\"\r\n    />\r\n    <m-m-similar-product\r\n      ref=\"similarProduct\"\r\n      @choosen=\"chooseSimilarProduct($event)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { debounce } from 'lodash'\r\nimport TabMenu from './TabMenu'\r\nimport Breadcrumb from '@/views/Breadcrumb'\r\nimport BreadcrumbPlugin from '@/views/plugin/Breadcrumb'\r\nimport BreadcrumbPinPoint from '@/views/plugin/pin-point/Breadcrumb'\r\nimport Form from '@/utils/Form'\r\nimport MMInterestReason from './MMInterestReason'\r\nimport MMNoInterestReason from './MMNoInterestReason'\r\nimport MMSimilarProduct from './MMSimilarProduct'\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    TabMenu,\r\n    Breadcrumb,\r\n    BreadcrumbPlugin,\r\n    BreadcrumbPinPoint,\r\n    MMInterestReason,\r\n    MMNoInterestReason,\r\n    MMSimilarProduct\r\n  },\r\n  data () {\r\n    return {\r\n      gmapApiKey: process.env.VUE_APP_GMAP_KEY,\r\n      isLoading: false,\r\n      loadingMessage: 'Loading...',\r\n      isSaving: false,\r\n      warehouseId: null,\r\n      warehouseName: null,\r\n      form: new Form({\r\n        date: this.serverDateTime(),\r\n        image: null,\r\n        customer_id: null,\r\n        branch_id: null,\r\n        warehouse_id: null,\r\n        customer_name: this.$route.query.name || '',\r\n        address: this.$route.query.address || '',\r\n        district: this.$route.query.district || '',\r\n        sub_district: this.$route.query.sub_district || '',\r\n        latitude: this.$route.query.latitude || '',\r\n        longitude: this.$route.query.longitude || '',\r\n        group_id: null,\r\n        group_name: null,\r\n        phone: '',\r\n        notes: '',\r\n        interest_reasons: [],\r\n        no_interest_reasons: [],\r\n        similar_products: [],\r\n        items: [],\r\n        total_price: 0,\r\n        payment_method: 'cash',\r\n        due_date: null,\r\n        received_payment: 0\r\n      }),\r\n      // Google Map\r\n      center: { lat: 23.8103, lng: 90.4125 },\r\n      markers: [\r\n        { position: { lat: 10.0, lng: 10.0 } }\r\n      ],\r\n      addressComponent: {},\r\n      description: '',\r\n      place: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('auth', ['authUser'])\r\n  },\r\n  async mounted () {\r\n    this.isLoading = false\r\n    this.loadingMessage = 'Searching current location'\r\n    await this.getLocation()\r\n  },\r\n  created () {\r\n    this.addItemRow()\r\n    this.form.branch_id = this.authUser.branch.id\r\n    this.form.warehouse_id = this.authUser.warehouse.id\r\n    this.warehouseId = this.authUser.warehouse.id\r\n    this.warehouseName = this.authUser.warehouse.name\r\n  },\r\n  methods: {\r\n    ...mapActions('pluginPinPointSalesVisitationForm', ['create']),\r\n    chooseWarehouse (option) {\r\n      this.warehouseId = option.id\r\n      this.warehouseName = option.name\r\n      this.form.warehouse_id = option.id\r\n    },\r\n    onClickQuantity (row, index) {\r\n      if (this.form.payment_method == 'sell-out' || this.form.payment_method == 'taking-order') {\r\n        return\r\n      }\r\n      if (row.require_expiry_date == 1 || row.require_production_number == 1) {\r\n        row.warehouse_id = this.warehouseId\r\n        row.index = index\r\n        this.$refs.inventory.open(row, row.quantity)\r\n      }\r\n    },\r\n    onClickUnit (row) {\r\n      if (this.form.payment_method == 'sell-out' || this.form.payment_method == 'taking-order') {\r\n        return false\r\n      }\r\n\r\n      if (row.item_id == null || row.require_expiry_date === 1 || row.require_production_number === 1) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    chooseUnit (unit, row) {\r\n      row.unit = unit.label\r\n      row.converter = unit.converter\r\n    },\r\n    updateDna (e) {\r\n      console.log(e)\r\n      this.form.items[e.index].dna = e.dna\r\n      this.form.items[e.index].quantity = e.quantity\r\n      this.form.items[e.index].unit = e.unit\r\n      this.form.items[e.index].converter = e.converter\r\n    },\r\n    onCaptured (value) {\r\n      this.form.image = value\r\n    },\r\n    getLocation () {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n          const pos = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          }\r\n          this.center.lat = pos.lat\r\n          this.center.lng = pos.lng\r\n          this.form.latitude = pos.lat\r\n          this.form.longitude = pos.lng\r\n          this.markers[0].position.lat = pos.lat\r\n          this.markers[0].position.lng = pos.lng\r\n          this.$refs.map.$mapPromise.then(() => {\r\n            this.isLoading = false\r\n            // eslint-disable-next-line no-undef\r\n            this.geocodeLatLng(new google.maps.Geocoder(), pos, google.maps.InfoWindow)\r\n          }).catch(error => {\r\n            this.isLoading = false\r\n          })\r\n        }.bind(this))\r\n      } else {\r\n        this.loadingMessage = 'Geolocation not available, please update your browser or using another browser'\r\n      }\r\n    },\r\n    addMoreSimilarProduct () {\r\n      this.form.similar_products.push({\r\n        id: null,\r\n        name: null\r\n      })\r\n    },\r\n    chooseCustomer (option) {\r\n      if (option.groups.length >= 1) {\r\n        this.form.group_id = option.groups[0].id\r\n        this.form.group_name = option.groups[0].name\r\n      }\r\n      this.form.customer_id = option.id\r\n      this.form.customer_name = option.name\r\n    },\r\n    chooseGroup (option) {\r\n      this.form.group_id = option.id\r\n      this.form.group_name = option.name\r\n    },\r\n    // [Start] Google Map\r\n    setDescription (description) {\r\n      this.description = description\r\n    },\r\n    setPlace (place) {\r\n      this.center.lat = place.geometry.location.lat()\r\n      this.center.lng = place.geometry.location.lng()\r\n      this.markers[0].position.lat = place.geometry.location.lat()\r\n      this.markers[0].position.lng = place.geometry.location.lng()\r\n      this.addressComponent = place\r\n      this.setDescription(this.addressComponent.formatted_address)\r\n      this.form.address = this.addressComponent.formatted_address\r\n      this.form.district = ''\r\n      this.form.sub_district = ''\r\n      this.addressComponent.address_components.forEach(component => {\r\n        if (component.types) {\r\n          component.types.forEach(types => {\r\n            if (types == 'administrative_area_level_3') {\r\n              this.form.district = component.long_name\r\n            } else if (types == 'administrative_area_level_4') {\r\n              this.form.sub_district = component.long_name\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    geocodeLatLng (geocoder, map, infowindow) {\r\n      var self = this\r\n      geocoder.geocode({ location: this.center }, function (results, status) {\r\n        if (status == 'OK') {\r\n          self.addressComponent = results[0]\r\n          self.setDescription(self.addressComponent.formatted_address)\r\n          self.form.address = self.addressComponent.formatted_address\r\n          self.addressComponent.address_components.forEach(component => {\r\n            if (component.types) {\r\n              component.types.forEach(types => {\r\n                if (types == 'administrative_area_level_3') {\r\n                  self.form.district = component.long_name\r\n                } else if (types == 'administrative_area_level_4') {\r\n                  self.form.sub_district = component.long_name\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // [End] Google Map\r\n    addItemRow () {\r\n      this.form.items.push({\r\n        item_id: null,\r\n        item_name: null,\r\n        item_label: null,\r\n        chart_of_account_id: null,\r\n        chart_of_account_name: null,\r\n        require_expiry_date: null,\r\n        require_production_number: null,\r\n        unit: null,\r\n        converter: null,\r\n        quantity: null,\r\n        allocation_id: null,\r\n        allocation_name: null,\r\n        notes: null,\r\n        more: false,\r\n        units: [{\r\n          label: '',\r\n          name: '',\r\n          converter: null\r\n        }]\r\n      })\r\n    },\r\n    chooseItem (item) {\r\n      if (item.id == null) {\r\n        this.clearItem(item.index)\r\n        return\r\n      }\r\n\r\n      const row = this.form.items[item.index]\r\n      row.item = item\r\n      row.item_id = item.id\r\n      row.item_name = item.name\r\n      row.item_label = item.label\r\n      row.require_production_number = item.require_production_number\r\n      row.require_expiry_date = item.require_expiry_date\r\n      row.units = item.units\r\n      row.units.forEach((unit, keyUnit) => {\r\n        if (unit.id == item.unit_default_sales) {\r\n          row.unit = unit.label\r\n          row.converter = unit.converter\r\n        }\r\n      })\r\n      let isNeedNewRow = true\r\n      this.form.items.forEach(element => {\r\n        if (element.item_id == null) {\r\n          isNeedNewRow = false\r\n        }\r\n      })\r\n      if (isNeedNewRow) {\r\n        this.addItemRow()\r\n      }\r\n      this.calculate()\r\n    },\r\n    clearItem (row) {\r\n      row.item_id = null\r\n      row.item_name = null\r\n      row.item_label = null\r\n      row.unit = null\r\n      row.converter = null\r\n      row.quantity = null\r\n      row.price = null\r\n      row.allocation_id = null\r\n      row.notes = null\r\n      row.more = false\r\n      row.units = []\r\n      if (this.form.items.length > 1) {\r\n        this.form.items = this.form.items.filter(item => item.item_id !== null)\r\n        this.addItemRow()\r\n      }\r\n    },\r\n    chooseInterestReason (interestReasons) {\r\n      this.form.interest_reasons = interestReasons\r\n    },\r\n    chooseNoInterestReason (noInterestReasons) {\r\n      this.form.no_interest_reasons = noInterestReasons\r\n    },\r\n    chooseSimilarProduct (similarProducts) {\r\n      this.form.similar_products = similarProducts\r\n    },\r\n    calculate: debounce(function (value) {\r\n      this.form.total_price = 0\r\n      this.form.items.forEach((item) => {\r\n        if (item.price > 0 && item.quantity > 0) {\r\n          item.total = item.quantity * item.price\r\n          this.form.total_price += parseFloat(item.total)\r\n        }\r\n      })\r\n    }, 100),\r\n    onSubmit () {\r\n      this.isSaving = true\r\n      this.create(this.form)\r\n        .then(response => {\r\n          this.isSaving = false\r\n          this.$notification.success('Create success')\r\n          this.$store.dispatch('accountRewardPoint/get')\r\n          this.$router.push('/plugin/pin-point/sales-visitation-form')\r\n        }).catch(error => {\r\n          this.isSaving = false\r\n          this.$notification.error(error.message)\r\n          if (error.errors) {\r\n            this.form.errors.record(error.errors)\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=4b1bb274&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}