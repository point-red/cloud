{"version":3,"sources":["webpack:///./src/views/plugin/study/Sheet/Edit.vue","webpack:///src/views/plugin/study/Sheet/Edit.vue","webpack:///./src/views/plugin/study/Sheet/Edit.vue?a2bf","webpack:///./src/views/plugin/study/Sheet/Edit.vue?f5c4","webpack:///./src/views/plugin/study/SelectSubject.vue","webpack:///src/views/plugin/study/SelectSubject.vue","webpack:///./src/views/plugin/study/SelectSubject.vue?5e6d","webpack:///./src/views/plugin/study/SelectSubject.vue?3a26","webpack:///./src/views/plugin/study/Sheet/Edit.vue?97fe"],"names":["render","_vm","this","_c","_self","on","$event","preventDefault","submitForm","apply","arguments","staticClass","attrs","isLoading","onSubmit","_f","$t","slot","isSaving","model","value","form","started_at","callback","$$v","$set","expression","ended_at","setDuration","_v","pointForm","errors","get","set","subject_id","sheet","photo","_e","ref","photoUploaded","audio","audioUploaded","video","videoUploaded","institution","teacher","staticStyle","_s","competency","learning_goals","activities","grade","behaviorList","behavior","remarks","cancel","is_draft","saveAsDraft","directives","name","rawName","staticRenderFns","components","SelectSubject","data","photo_file_id","audio_file_id","video_file_id","id","label","created","window","beforeDestroy","methods","getStudySheet","axios","then","finally","headers","params","catch","getFormData","Object","formData","emitUpdateSheetName","confirmLeave","beforeWindowUnload","e","component","subjects","$emit","modelValue","props","type","default","computed","getSubjects","sort_by"],"mappings":"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","file":"js/chunk-214f1cc8.6981d8b5.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"row\"},[_c('p-block',[_c('p-block-inner',{attrs:{\"is-loading\":_vm.isLoading}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('p-form-row',{attrs:{\"id\":\"started_at\",\"name\":\"started_at\",\"required\":true,\"label\":_vm._f(\"uppercase\")(_vm.$t('start')),\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-date-time-picker',{attrs:{\"id\":\"started_at\",\"disabled\":_vm.isSaving,\"name\":\"started_at\"},model:{value:(_vm.form.started_at),callback:function ($$v) {_vm.$set(_vm.form, \"started_at\", $$v)},expression:\"form.started_at\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"ended_at\",\"name\":\"ended_at\",\"label\":_vm.$t('end'),\"required\":true,\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9 d-sm-flex\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-date-time-picker',{attrs:{\"id\":\"ended_at\",\"disabled\":_vm.isSaving,\"name\":\"ended_at\"},model:{value:(_vm.form.ended_at),callback:function ($$v) {_vm.$set(_vm.form, \"ended_at\", $$v)},expression:\"form.ended_at\"}}),_c('div',{staticClass:\"pl-sm-3 mt-3 mt-sm-0\"},[_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(30)}}},[_vm._v(\" 30\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(45)}}},[_vm._v(\" 45\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(60)}}},[_vm._v(\" 60\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(90)}}},[_vm._v(\" 90\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(120)}}},[_vm._v(\" 120\"),_c('br'),_vm._v(\"min \")])])],1)]),_c('p-form-row',{attrs:{\"label\":_vm.$t('study subject'),\"required\":true,\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('select-subject',{attrs:{\"disabled\":_vm.isSaving,\"errors\":_vm.pointForm.errors.get('subject_id')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('subject_id', null)}},model:{value:(_vm.form.subject_id),callback:function ($$v) {_vm.$set(_vm.form, \"subject_id\", $$v)},expression:\"form.subject_id\"}})],1)]),_c('p-form-row',{attrs:{\"label\":_vm.$t('photo'),\"show-asterisk-on-required\":true,\"errors\":_vm.pointForm.errors.get('photo')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('photo', null)}}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[(_vm.sheet.photo)?_c('iframe',{attrs:{\"src\":_vm.sheet.photo,\"allow\":\"autoplay\",\"width\":\"100%\",\"height\":\"360px\"}}):_vm._e(),_c('p-form-file',{ref:\"photo\",attrs:{\"id\":\"photo\",\"name\":\"photo\",\"accept\":\"image/*\",\"disabled\":_vm.isSaving},on:{\"fileChanged\":_vm.photoUploaded}})],1)]),_c('p-form-row',{attrs:{\"label\":_vm.$t('voice note'),\"errors\":_vm.pointForm.errors.get('audio')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('audio', null)}}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[(_vm.sheet.audio)?_c('iframe',{attrs:{\"src\":_vm.sheet.audio,\"allow\":\"autoplay\",\"width\":\"100%\",\"height\":\"80px\"}}):_vm._e(),_c('p-form-file',{ref:\"audio\",attrs:{\"id\":\"audio\",\"name\":\"audio\",\"accept\":\"audio/*\",\"disabled\":_vm.isSaving},on:{\"fileChanged\":_vm.audioUploaded}})],1)]),_c('p-form-row',{attrs:{\"label\":_vm.$t('video'),\"errors\":_vm.pointForm.errors.get('video')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('video', null)}}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[(_vm.sheet.video)?_c('iframe',{attrs:{\"src\":_vm.sheet.video,\"allow\":\"autoplay\",\"width\":\"100%\",\"height\":\"360px\"}}):_vm._e(),_c('p-form-file',{ref:\"video\",attrs:{\"id\":\"video\",\"name\":\"video\",\"accept\":\"video/*\",\"disabled\":_vm.isSaving},on:{\"fileChanged\":_vm.videoUploaded}})],1)]),_c('p-form-row',{attrs:{\"id\":\"institution\",\"name\":\"institution\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('institution'),\"errors\":_vm.pointForm.errors.get('institution')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('institution', null)}},model:{value:(_vm.form.institution),callback:function ($$v) {_vm.$set(_vm.form, \"institution\", $$v)},expression:\"form.institution\"}}),_c('p-form-row',{attrs:{\"id\":\"teacher\",\"name\":\"teacher\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('teacher'),\"errors\":_vm.pointForm.errors.get('teacher')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('teacher', null)}},model:{value:(_vm.form.teacher),callback:function ($$v) {_vm.$set(_vm.form, \"teacher\", $$v)},expression:\"form.teacher\"}}),_c('p-form-row',[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"mb-2 d-flex font-size-lg text-primary\"},[_c('div',{staticClass:\"mr-2\"},[_c('i',{staticClass:\"fa fa-book\"})]),_c('div',[_c('a',{staticStyle:{\"text-decoration\":\"underline\"},attrs:{\"href\":\"https://docs.google.com/spreadsheets/d/11TVngjUsDSP3wPCZkO2B6jKOGNvPSlu-7UdYHb_SzbU/edit?usp=sharing\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('access topics library here')))+\" \")])])])])]),_c('p-form-row',{attrs:{\"id\":\"competency\",\"name\":\"competency\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('competency'),\"required\":true,\"show-asterisk-on-required\":true,\"errors\":_vm.pointForm.errors.get('competency')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('competency', null)}},model:{value:(_vm.form.competency),callback:function ($$v) {_vm.$set(_vm.form, \"competency\", $$v)},expression:\"form.competency\"}}),_c('p-form-row',{attrs:{\"id\":\"learning_goals\",\"name\":\"learning_goals\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('learning goals'),\"required\":true,\"show-asterisk-on-required\":true,\"errors\":_vm.pointForm.errors.get('learning_goals')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('learning_goals', null)}},model:{value:(_vm.form.learning_goals),callback:function ($$v) {_vm.$set(_vm.form, \"learning_goals\", $$v)},expression:\"form.learning_goals\"}}),_c('p-form-row',{attrs:{\"id\":\"activities\",\"name\":\"activities\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('activities'),\"errors\":_vm.pointForm.errors.get('activities')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('activities', null)}},model:{value:(_vm.form.activities),callback:function ($$v) {_vm.$set(_vm.form, \"activities\", $$v)},expression:\"form.activities\"}}),_c('p-form-row',{attrs:{\"id\":\"grade\",\"name\":\"grade\",\"label\":_vm.$t('grade') + ' (0-100)',\"errors\":_vm.pointForm.errors.get('grade')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('grade', null)}}},[_c('div',{staticClass:\"col-1\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-number',{attrs:{\"id\":\"grade\",\"name\":\"grade\",\"is-text-right\":false,\"disabled\":_vm.isSaving,\"label\":_vm.$t('grade'),\"max\":100},model:{value:(_vm.form.grade),callback:function ($$v) {_vm.$set(_vm.form, \"grade\", $$v)},expression:\"form.grade\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"behavior\",\"name\":\"behavior\",\"label\":_vm.$t('behavior'),\"required\":true,\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-select',{attrs:{\"id\":\"behavior\",\"disabled\":_vm.isSaving,\"name\":\"behavior\",\"options\":_vm.behaviorList,\"errors\":_vm.pointForm.errors.get('behavior')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('behavior', null)}},model:{value:(_vm.form.behavior),callback:function ($$v) {_vm.$set(_vm.form, \"behavior\", $$v)},expression:\"form.behavior\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"remarks\",\"name\":\"remarks\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('remarks'),\"errors\":_vm.pointForm.errors.get('remarks')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('remarks', null)}},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}}),_c('div',[_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")]),_vm._v(\" \"+_vm._s(_vm._f(\"capitalize\")(_vm.$t('required')))+\" \")]),_c('div',{staticClass:\"text-right mb-4\"},[_c('button',{staticClass:\"btn btn-sm btn-light mr-2\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.cancel}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('cancel')))+\" \")]),(_vm.sheet.is_draft)?_c('button',{staticClass:\"btn btn-sm btn-secondary mr-2\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.saveAsDraft}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('draft')))+\" \")]):_vm._e(),_c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.onSubmit}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('save')))+\" \")])])],1)])],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form @submit.prevent=\"submitForm\">\r\n      <div class=\"row\">\r\n        <p-block>\r\n          <p-block-inner :is-loading=\"isLoading\">\r\n            <form @submit.prevent=\"onSubmit\">\r\n              <p-form-row\r\n                id=\"started_at\"\r\n                name=\"started_at\"\r\n                :required=\"true\"\r\n                :label=\" $t('start') | uppercase\"\r\n                :show-asterisk-on-required=\"true\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9\"\r\n                >\r\n                  <p-date-time-picker\r\n                    id=\"started_at\"\r\n                    v-model=\"form.started_at\"\r\n                    :disabled=\"isSaving\"\r\n                    name=\"started_at\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                id=\"ended_at\"\r\n                name=\"ended_at\"\r\n                :label=\"$t('end')\"\r\n                :required=\"true\"\r\n                :show-asterisk-on-required=\"true\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9 d-sm-flex\"\r\n                >\r\n                  <p-date-time-picker\r\n                    id=\"ended_at\"\r\n                    v-model=\"form.ended_at\"\r\n                    :disabled=\"isSaving\"\r\n                    name=\"ended_at\"\r\n                  />\r\n                  <div class=\"pl-sm-3 mt-3 mt-sm-0\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn-duration\"\r\n                      @click=\"setDuration(30)\"\r\n                    >\r\n                      30<br>min\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn-duration\"\r\n                      @click=\"setDuration(45)\"\r\n                    >\r\n                      45<br>min\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn-duration\"\r\n                      @click=\"setDuration(60)\"\r\n                    >\r\n                      60<br>min\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn-duration\"\r\n                      @click=\"setDuration(90)\"\r\n                    >\r\n                      90<br>min\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn-duration\"\r\n                      @click=\"setDuration(120)\"\r\n                    >\r\n                      120<br>min\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                :label=\"$t('study subject')\"\r\n                :required=\"true\"\r\n                :show-asterisk-on-required=\"true\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9\"\r\n                >\r\n                  <select-subject\r\n                    v-model=\"form.subject_id\"\r\n                    :disabled=\"isSaving\"\r\n                    :errors=\"pointForm.errors.get('subject_id')\"\r\n                    @errors=\"pointForm.errors.set('subject_id', null)\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                :label=\"$t('photo')\"\r\n                :show-asterisk-on-required=\"true\"\r\n                :errors=\"pointForm.errors.get('photo')\"\r\n                @errors=\"pointForm.errors.set('photo', null)\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9\"\r\n                >\r\n                  <iframe\r\n                    v-if=\"sheet.photo\"\r\n                    :src=\"sheet.photo\"\r\n                    allow=\"autoplay\"\r\n                    width=\"100%\"\r\n                    height=\"360px\"\r\n                  />\r\n                  <p-form-file\r\n                    id=\"photo\"\r\n                    ref=\"photo\"\r\n                    name=\"photo\"\r\n                    accept=\"image/*\"\r\n                    :disabled=\"isSaving\"\r\n                    @fileChanged=\"photoUploaded\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                :label=\"$t('voice note')\"\r\n                :errors=\"pointForm.errors.get('audio')\"\r\n                @errors=\"pointForm.errors.set('audio', null)\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9\"\r\n                >\r\n                  <iframe\r\n                    v-if=\"sheet.audio\"\r\n                    :src=\"sheet.audio\"\r\n                    allow=\"autoplay\"\r\n                    width=\"100%\"\r\n                    height=\"80px\"\r\n                  />\r\n                  <p-form-file\r\n                    id=\"audio\"\r\n                    ref=\"audio\"\r\n                    name=\"audio\"\r\n                    accept=\"audio/*\"\r\n                    :disabled=\"isSaving\"\r\n                    @fileChanged=\"audioUploaded\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                :label=\"$t('video')\"\r\n                :errors=\"pointForm.errors.get('video')\"\r\n                @errors=\"pointForm.errors.set('video', null)\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9\"\r\n                >\r\n                  <iframe\r\n                    v-if=\"sheet.video\"\r\n                    :src=\"sheet.video\"\r\n                    allow=\"autoplay\"\r\n                    width=\"100%\"\r\n                    height=\"360px\"\r\n                  />\r\n                  <p-form-file\r\n                    id=\"video\"\r\n                    ref=\"video\"\r\n                    name=\"video\"\r\n                    accept=\"video/*\"\r\n                    :disabled=\"isSaving\"\r\n                    @fileChanged=\"videoUploaded\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                id=\"institution\"\r\n                v-model=\"form.institution\"\r\n                name=\"institution\"\r\n                :disabled=\"isSaving\"\r\n                :label=\"$t('institution')\"\r\n                :errors=\"pointForm.errors.get('institution')\"\r\n                @errors=\"pointForm.errors.set('institution', null)\"\r\n              />\r\n\r\n              <p-form-row\r\n                id=\"teacher\"\r\n                v-model=\"form.teacher\"\r\n                name=\"teacher\"\r\n                :disabled=\"isSaving\"\r\n                :label=\"$t('teacher')\"\r\n                :errors=\"pointForm.errors.get('teacher')\"\r\n                @errors=\"pointForm.errors.set('teacher', null)\"\r\n              />\r\n\r\n              <p-form-row>\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9\"\r\n                >\r\n                  <div class=\"mb-2 d-flex font-size-lg text-primary\">\r\n                    <div class=\"mr-2\">\r\n                      <i class=\"fa fa-book\" />\r\n                    </div>\r\n                    <div>\r\n                      <a\r\n                        href=\"https://docs.google.com/spreadsheets/d/11TVngjUsDSP3wPCZkO2B6jKOGNvPSlu-7UdYHb_SzbU/edit?usp=sharing\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        style=\"text-decoration: underline;\"\r\n                      >\r\n                        {{ $t('access topics library here') | titlecase }}\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                id=\"competency\"\r\n                v-model=\"form.competency\"\r\n                name=\"competency\"\r\n                :disabled=\"isSaving\"\r\n                :label=\"$t('competency')\"\r\n                :required=\"true\"\r\n                :show-asterisk-on-required=\"true\"\r\n                :errors=\"pointForm.errors.get('competency')\"\r\n                @errors=\"pointForm.errors.set('competency', null)\"\r\n              />\r\n\r\n              <p-form-row\r\n                id=\"learning_goals\"\r\n                v-model=\"form.learning_goals\"\r\n                name=\"learning_goals\"\r\n                :disabled=\"isSaving\"\r\n                :label=\"$t('learning goals')\"\r\n                :required=\"true\"\r\n                :show-asterisk-on-required=\"true\"\r\n                :errors=\"pointForm.errors.get('learning_goals')\"\r\n                @errors=\"pointForm.errors.set('learning_goals', null)\"\r\n              />\r\n\r\n              <p-form-row\r\n                id=\"activities\"\r\n                v-model=\"form.activities\"\r\n                name=\"activities\"\r\n                :disabled=\"isSaving\"\r\n                :label=\"$t('activities')\"\r\n                :errors=\"pointForm.errors.get('activities')\"\r\n                @errors=\"pointForm.errors.set('activities', null)\"\r\n              />\r\n\r\n              <p-form-row\r\n                id=\"grade\"\r\n                name=\"grade\"\r\n                :label=\"$t('grade') + ' (0-100)'\"\r\n                :errors=\"pointForm.errors.get('grade')\"\r\n                @errors=\"pointForm.errors.set('grade', null)\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-1\"\r\n                >\r\n                  <p-form-number\r\n                    id=\"grade\"\r\n                    v-model=\"form.grade\"\r\n                    name=\"grade\"\r\n                    :is-text-right=\"false\"\r\n                    :disabled=\"isSaving\"\r\n                    :label=\"$t('grade')\"\r\n                    :max=\"100\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                id=\"behavior\"\r\n                name=\"behavior\"\r\n                :label=\"$t('behavior')\"\r\n                :required=\"true\"\r\n                :show-asterisk-on-required=\"true\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-9\"\r\n                >\r\n                  <p-select\r\n                    id=\"behavior\"\r\n                    v-model=\"form.behavior\"\r\n                    :disabled=\"isSaving\"\r\n                    name=\"behavior\"\r\n                    :options=\"behaviorList\"\r\n                    :errors=\"pointForm.errors.get('behavior')\"\r\n                    @errors=\"pointForm.errors.set('behavior', null)\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n\r\n              <p-form-row\r\n                id=\"remarks\"\r\n                v-model=\"form.remarks\"\r\n                name=\"remarks\"\r\n                :disabled=\"isSaving\"\r\n                :label=\"$t('remarks')\"\r\n                :errors=\"pointForm.errors.get('remarks')\"\r\n                @errors=\"pointForm.errors.set('remarks', null)\"\r\n              />\r\n\r\n              <div>\r\n                <span class=\"text-danger\">*</span> {{ $t('required') | capitalize }}\r\n              </div>\r\n\r\n              <div class=\"text-right mb-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-sm btn-light mr-2\"\r\n                  :disabled=\"isSaving\"\r\n                  @click=\"cancel\"\r\n                >\r\n                  {{ $t('cancel') | uppercase }}\r\n                </button>\r\n                <button\r\n                  v-if=\"sheet.is_draft\"\r\n                  type=\"button\"\r\n                  class=\"btn btn-sm btn-secondary mr-2\"\r\n                  :disabled=\"isSaving\"\r\n                  @click=\"saveAsDraft\"\r\n                >\r\n                  <i\r\n                    v-show=\"isSaving\"\r\n                    class=\"fa fa-asterisk fa-spin\"\r\n                  /> {{ $t('draft') | uppercase }}\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  class=\"btn btn-sm btn-primary\"\r\n                  :disabled=\"isSaving\"\r\n                  @click=\"onSubmit\"\r\n                >\r\n                  <i\r\n                    v-show=\"isSaving\"\r\n                    class=\"fa fa-asterisk fa-spin\"\r\n                  /> {{ $t('save') | uppercase }}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </p-block-inner>\r\n        </p-block>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/axios'\r\nimport Form from '@/utils/Form'\r\nimport SelectSubject from '../SelectSubject.vue'\r\nexport default {\r\n  name: 'PluginStudySheetEdit',\r\n  components: {\r\n    SelectSubject\r\n  },\r\n  data () {\r\n    return {\r\n      isSaving: false,\r\n      isLoading: true,\r\n      sheet: null,\r\n      form: {\r\n        started_at: null,\r\n        ended_at: null,\r\n        photo: null,\r\n        audio: null,\r\n        video: null,\r\n        subject_id: null,\r\n        institution: null,\r\n        teacher: null,\r\n        competency: null,\r\n        learning_goals: null,\r\n        activities: null,\r\n        grade: null,\r\n        behavior: null,\r\n        remarks: null,\r\n        is_draft: false\r\n      },\r\n      photo_file_id: null,\r\n      audio_file_id: null,\r\n      video_file_id: null,\r\n      pointForm: new Form({}),\r\n      behaviorList: [\r\n        { id: 'A', label: 'A - Excellent' },\r\n        { id: 'B', label: 'B - Good' },\r\n        { id: 'C', label: 'C - Need Improvement' }\r\n      ]\r\n    }\r\n  },\r\n  created () {\r\n    this.pointForm = new Form(this.form)\r\n    window.addEventListener('beforeunload', this.beforeWindowUnload)\r\n    this.getStudySheet()\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('beforeunload', this.beforeWindowUnload)\r\n  },\r\n  methods: {\r\n    getStudySheet () {\r\n      axios.get('/plugin/study/sheet/' + this.$route.params.id)\r\n        .then(response => {\r\n          this.sheet = response.data\r\n\r\n          this.form = {\r\n            started_at: this.$moment(this.sheet.started_at).format('YYYY-MM-DD HH:mm:ss'),\r\n            ended_at: this.$moment(this.sheet.ended_at).format('YYYY-MM-DD HH:mm:ss'),\r\n            photo: null,\r\n            audio: null,\r\n            video: null,\r\n            subject_id: this.sheet.subject_id,\r\n            institution: this.sheet.institution,\r\n            teacher: this.sheet.teacher,\r\n            competency: this.sheet.competency,\r\n            learning_goals: this.sheet.learning_goals,\r\n            activities: this.sheet.activities,\r\n            grade: this.sheet.grade,\r\n            behavior: this.sheet.behavior,\r\n            remarks: this.sheet.remarks,\r\n            is_draft: false\r\n          }\r\n          this.photo_file_id = this.sheet.photo_file_id\r\n          this.audio_file_id = this.sheet.audio_file_id\r\n          this.video_file_id = this.sheet.video_file_id\r\n\r\n          this.emitUpdateSheetName()\r\n        })\r\n        .finally(() => {\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    onSubmit () {\r\n      this.isSaving = true\r\n      const headers = {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n      axios.post('/plugin/study/sheet', this.getFormData(), { headers })\r\n        .then(response => {\r\n          const message = this.$t('data has been saved')\r\n          const capitalizedMessage = this.$options.filters.capitalize(message)\r\n          this.$notification.success(capitalizedMessage)\r\n          if (this.form.is_draft) {\r\n            this.$router.replace({ name: 'PluginStudySheetDraft' })\r\n          } else {\r\n            this.$router.replace({ name: 'PluginStudySheetShow', params: { id: response.data.id } })\r\n          }\r\n        })\r\n        .catch(error => {\r\n          if (error.status === 422) {\r\n            this.pointForm.errors.record(error.data.errors)\r\n          } else {\r\n            this.$notification.error(error.data.message)\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.isSaving = false\r\n        })\r\n    },\r\n    saveAsDraft () {\r\n      this.form.is_draft = true\r\n      this.onSubmit()\r\n    },\r\n    getFormData () {\r\n      const formData = new FormData()\r\n\r\n      const form = {\r\n        ...this.form,\r\n        started_at: new Date(this.form.started_at).toISOString(),\r\n        ended_at: new Date(this.form.ended_at).toISOString()\r\n      }\r\n\r\n      Object.keys(form).forEach(key => {\r\n        if (form[key] === false || form[key] === true) {\r\n          // boolean will be sent as \"true\" and does not pass the validation\r\n          formData.append(key, form[key] === false ? 0 : 1)\r\n        } else if (form[key]) { // don't append empty string or null\r\n          formData.append(key, form[key])\r\n        }\r\n      })\r\n\r\n      if (!this.form.photo && this.photo_file_id) {\r\n        formData.append('photo_file_id', this.photo_file_id)\r\n      }\r\n      if (!this.form.audio && this.audio_file_id) {\r\n        formData.append('audio_file_id', this.audio_file_id)\r\n      }\r\n      if (!this.form.video && this.video_file_id) {\r\n        formData.append('video_file_id', this.video_file_id)\r\n      }\r\n\r\n      return formData\r\n    },\r\n    emitUpdateSheetName () {\r\n      const startedAt = this.sheet.started_at ? this.$moment(this.sheet.started_at).format('DD MMM YYYY') : ''\r\n      const subjectName = this.sheet.subject?.name\r\n      const sheetName = [subjectName, startedAt].filter(_ => _).join(' - ')\r\n      this.$emit('updateSheetName', sheetName)\r\n    },\r\n    setDuration (minutes) {\r\n      const startedAt = this.$moment(this.form.started_at)\r\n      const endedAt = startedAt.add(minutes, 'minutes')\r\n      this.form.ended_at = endedAt.format('YYYY-MM-DD HH:mm:ss')\r\n    },\r\n    photoUploaded (event) {\r\n      this.form.photo = event\r\n    },\r\n    audioUploaded (event) {\r\n      this.form.audio = event\r\n    },\r\n    videoUploaded (event) {\r\n      this.form.video = event\r\n    },\r\n    cancel () {\r\n      this.$router.replace({\r\n        name: 'PluginStudySheetShow',\r\n        params: { id: this.$route.params.id }\r\n      })\r\n    },\r\n    confirmLeave () {\r\n      return window.confirm('Do you really want to leave? you have unsaved changes!')\r\n    },\r\n    beforeWindowUnload (e) {\r\n      if (!this.confirmLeave()) {\r\n      // Cancel the event\r\n        e.preventDefault()\r\n        // Chrome requires returnValue to be set\r\n        e.returnValue = ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn-duration {\r\n  padding: 0.5rem;\r\n  border: 0;\r\n  width: 3rem;\r\n  margin-right: 0.25rem;\r\n  line-height: 0.9rem;\r\n  cursor: pointer;\r\n}\r\n.btn-duration:active,\r\n.btn-duration:focus,\r\n.btn-duration:focus-visible {\r\n  outline: none;\r\n}\r\n.btn-duration:active,\r\n.btn-duration:hover,\r\n.btn-duration:focus {\r\n  filter: brightness(85%);\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=75b39282&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=75b39282&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75b39282\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('p-select',{attrs:{\"id\":\"subject\",\"name\":\"subject\",\"options\":_vm.subjects,\"label-field\":\"name\",\"errors\":_vm.errors},on:{\"errors\":function($event){return _vm.$emit('errors')}},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <p-select\r\n    id=\"subject\"\r\n    v-model=\"modelValue\"\r\n    name=\"subject\"\r\n    :options=\"subjects\"\r\n    label-field=\"name\"\r\n    :errors=\"errors\"\r\n    @errors=\"$emit('errors')\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/axios'\r\nexport default {\r\n  name: 'PluginStudySelectSubject',\r\n  props: {\r\n    value: {\r\n      type: [String, Number],\r\n      default: 0\r\n    },\r\n    errors: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      subjects: []\r\n    }\r\n  },\r\n  computed: {\r\n    modelValue: {\r\n      get () {\r\n        return this.value\r\n      },\r\n      set (value) {\r\n        this.$emit('input', value)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getSubjects()\r\n  },\r\n  methods: {\r\n    getSubjects () {\r\n      const apiParams = {\r\n        sort_by: 'name'\r\n      }\r\n      axios.get('/plugin/study/subject', { params: apiParams })\r\n        .then(response => {\r\n          this.subjects = response.data.data\r\n        })\r\n        .catch(error => {\r\n          this.$notification.error(error.data.message)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSubject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSubject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectSubject.vue?vue&type=template&id=0882f8c2&\"\nimport script from \"./SelectSubject.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectSubject.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=75b39282&prod&scoped=true&lang=css&\""],"sourceRoot":""}