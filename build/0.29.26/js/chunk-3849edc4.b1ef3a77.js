(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3849edc4"],{"055b":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex flex-nowrap",staticStyle:{"overflow-x":"auto"}},[t("router-link",{staticClass:"btn mr-5 mb-15",class:{"btn-secondary":!e.isMatch("/purchase/request")},attrs:{to:"/purchase/request","active-class":"btn-primary"}},[t("span",[e._v(e._s(e._f("uppercase")(e.$t("purchase request"))))])]),t("router-link",{staticClass:"btn mr-5 mb-15",class:{"btn-secondary":!e.isMatch("/purchase/order")},attrs:{to:"/purchase/order","active-class":"btn-primary"}},[t("span",[e._v(e._s(e._f("uppercase")(e.$t("purchase order"))))])]),t("router-link",{staticClass:"btn mr-5 mb-15",class:{"btn-secondary":!e.isMatch("/purchase/down-payment")},attrs:{to:"/purchase/down-payment","active-class":"btn-primary"}},[t("span",[e._v(e._s(e._f("uppercase")(e.$t("down payment"))))])]),t("router-link",{staticClass:"btn mr-5 mb-15",class:{"btn-secondary":!e.isMatch("/purchase/receive")},attrs:{to:"/purchase/receive","active-class":"btn-primary"}},[t("span",[e._v(e._s(e._f("uppercase")(e.$t("purchase receive"))))])]),t("router-link",{staticClass:"btn mr-5 mb-15",class:{"btn-secondary":!e.isMatch("/purchase/invoice")},attrs:{to:"/purchase/invoice","active-class":"btn-primary"}},[t("span",[e._v(e._s(e._f("uppercase")(e.$t("purchase invoice"))))])]),t("router-link",{staticClass:"btn mr-5 mb-15",class:{"btn-secondary":!e.isMatch("/purchase/payment-order")},attrs:{to:"/purchase/payment-order","active-class":"btn-primary"}},[t("span",[e._v(e._s(e._f("uppercase")(e.$t("payment order"))))])])],1)},r=[],c={data:function(){return{path:this.$route.path}},methods:{isMatch:function(e){return this.path.substring(0,e.length)==e}}},i=c,n=s("2877"),o=Object(n["a"])(i,a,r,!1,null,null,null);t["a"]=o.exports},"861c":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/purchase"}},[e._v(" "+e._s(e._f("uppercase")(e.$t("purchase")))+" ")])},r=[],c=s("2877"),i={},n=Object(c["a"])(i,a,r,!1,null,null,null);t["a"]=n.exports},b079:function(e,t,s){"use strict";s.r(t);s("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",[e.purchaseReceive?t("breadcrumb",[t("breadcrumb-purchase"),t("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/purchase/receive"}},[e._v(" "+e._s(e._f("uppercase")(e.$t("purchase receive")))+" ")]),t("span",{staticClass:"breadcrumb-item active"},[e._v(e._s(e._f("uppercase")(e.purchaseReceive.form.number)))])],1):e._e(),t("purchase-menu"),e.$permission.has("approve purchase receive")&&e.purchaseReceive?t("p-show-form-cancellation-status",{attrs:{"is-loading":e.isLoading,"cancellation-status":e.purchaseReceive.form.cancellation_status,"cancellation-approval-reason":e.purchaseReceive.form.cancellation_approval_reason,"request-cancellation-reason":e.purchaseReceive.form.request_cancellation_reason},on:{onCancellationApprove:e.onCancellationApprove,onCancellationReject:e.onCancellationReject}}):e._e(),e.purchaseReceive?t("div",{staticClass:"row"},[t("p-block",[t("p-block-inner",{attrs:{"is-loading":e.isLoading}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12"},[t("div",{staticClass:"text-right"},[t("button",{staticClass:"btn btn-sm btn-outline-secondary mr-5",on:{click:function(t){return e.print()}}},[e._v(" "+e._s(e._f("uppercase")(e.$t("print")))+" ")]),t("router-link",{staticClass:"btn btn-sm btn-outline-secondary mr-5",attrs:{to:{name:"purchase.receive.create"}}},[e._v(" "+e._s(e._f("uppercase")(e.$t("create")))+" ")]),0==e.purchaseReceive.form.done&&e.$permission.has("update purchase receive")&&1!=e.purchaseReceive.form.cancellation_status?t("router-link",{staticClass:"btn btn-sm btn-outline-secondary mr-5",attrs:{to:{name:"purchase.receive.edit",params:{id:e.purchaseReceive.id}}}},[e._v(" "+e._s(e._f("uppercase")(e.$t("edit")))+" ")]):e._e(),null!=e.purchaseReceive.form.cancellation_status&&-1!=e.purchaseReceive.form.cancellation_status||0!=e.purchaseReceive.form.done||!e.$permission.has("delete purchase receive")?e._e():t("button",{staticClass:"btn btn-sm btn-outline-secondary mr-5",on:{click:function(t){return e.$refs.formRequestDelete.open()}}},[e._v(" "+e._s(e._f("uppercase")(e.$t("delete")))+" ")]),t("m-form-request-delete",{ref:"formRequestDelete",on:{delete:function(t){return e.onDelete(t)}}})],1)])]),t("hr"),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6"},[t("h4",[e._v(e._s(e._f("uppercase")(e.$t("purchase receive"))))]),t("table",{staticClass:"table table-sm table-bordered"},[t("tr",[t("td",{staticClass:"font-weight-bold",attrs:{width:"150px"}},[e._v(" "+e._s(e._f("uppercase")(e.$t("form number")))+" ")]),t("td",[e._v(e._s(e.purchaseReceive.form.number))])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("date")))+" ")]),t("td",[e._v(" "+e._s(e._f("dateFormat")(e.purchaseReceive.date,"DD MMMM YYYY"))+" ")])]),e.purchaseReceive.purchase_order?t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("reference")))+" ")]),t("td",[e._v(e._s(e.purchaseReceive.purchase_order.form.number))])]):e._e(),e.purchaseReceive.driver?t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("warehouse")))+" ")]),t("td",[e._v(e._s(e.purchaseReceive.warehouse.name))])]):e._e(),e.purchaseReceive.driver?t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("driver")))+" ")]),t("td",[e._v(e._s(e.purchaseReceive.driver))])]):e._e(),e.purchaseReceive.license_plate?t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("license plate")))+" ")]),t("td",[e._v(e._s(e.purchaseReceive.license_plate))])]):e._e()])]),t("div",{staticClass:"col-sm-6 text-right"},[t("h6",{staticClass:"mb-5"},[e._v(" "+e._s(e._f("uppercase")(e.authUser.tenant_name))+" ")]),e.purchaseReceive.form.branch?[e._v(" "+e._s(e._f("uppercase")(e.purchaseReceive.form.branch.address))+" "),e.purchaseReceive.form.branch.phone?t("br"):e._e(),e._v(e._s(e._f("uppercase")(e.purchaseReceive.form.branch.phone))+" ")]:e._e(),t("h6",{staticClass:"mt-30 mb-5"},[e._v(" "+e._s(e._f("uppercase")(e.$t("supplier")))+" ")]),e._v(" "+e._s(e._f("uppercase")(e.purchaseReceive.supplier_name))+" "),t("div",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(e._f("uppercase")(e.purchaseReceive.supplier_address))+" "),e.purchaseReceive.supplier_phone?t("br"):e._e(),e._v(e._s(e.purchaseReceive.supplier_phone)+" "),e.purchaseReceive.supplier_email?t("br"):e._e(),e._v(e._s(e._f("uppercase")(e.purchaseReceive.supplier_email))+" ")])],2)]),t("hr"),t("point-table",{staticClass:"mt-20"},[t("tr",{attrs:{slot:"p-head"},slot:"p-head"},[t("th",{staticClass:"text-center"},[e._v(" # ")]),t("th",[e._v(e._s(e._f("uppercase")(e.$t("item"))))]),t("th",{staticClass:"text-right"},[e._v(" "+e._s(e._f("uppercase")(e.$t("quantity")))+" ")]),t("th",{attrs:{width:"50px"}})]),e._l(e.purchaseReceive.items,(function(s,a){return[t("tr",{key:a,attrs:{slot:"p-body"},slot:"p-body"},[t("th",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",[e._v(" "+e._s(s.item.label)+" "),s.production_number?[e._v(" (PID: "+e._s(s.production_number)+") ")]:e._e(),s.item.require_expiry_date?[e._v(" (E/D: "+e._s(e._f("dateFormat")(s.expiry_date,"DD MMMM YYYY"))+") ")]:e._e()],2),t("td",{staticClass:"text-right"},[e._v(" "+e._s(e._f("numberFormat")(s.quantity))+" "+e._s(s.unit)+" ")]),t("td")])]}))],2),t("div",{staticClass:"row mt-50"},[t("div",{staticClass:"col-sm-9"},[t("h6",{staticClass:"mb-0"},[e._v(" "+e._s(e._f("uppercase")(e.$t("notes")))+" ")]),t("div",{staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.purchaseReceive.form.notes)+" ")]),t("div",{staticClass:"d-sm-block d-md-none mt-10"})]),t("div",{staticClass:"col-sm-3 text-center"},[t("h6",{staticClass:"mb-0"},[e._v(" "+e._s(e._f("uppercase")(e.$t("created by")))+" ")]),t("div",{staticClass:"mb-50",staticStyle:{"font-size":"11px"}},[e._v(" "+e._s(e._f("dateFormat")(e.purchaseReceive.form.date,"DD MMMM YYYY"))+" ")]),e._v(" "+e._s(e._f("uppercase")(e.purchaseReceive.form.created_by.full_name))+" "),t("div",{staticClass:"d-sm-block d-md-none mt-10"})])])],1)],1)],1):e._e(),e.purchaseReceive?t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"row",attrs:{id:"printMe"}},[t("p-block",[t("p-block-inner",{staticStyle:{position:"relative"}},[1===e.purchaseReceive.form.cancellation_status?t("div",{staticStyle:{position:"absolute",color:"red","z-index":"100",bottom:"0",right:"0",top:"0",left:"0",display:"flex","justify-content":"center","align-items":"center"}},[t("div",{staticStyle:{"font-size":"8em",transform:"rotate(-45deg)","letter-spacing":"15px","font-weight":"700",opacity:".5"}},[e._v(" "+e._s(e._f("uppercase")(e.$t("canceled")))+" ")])]):e._e(),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-4",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[t("div",{staticStyle:{width:"200px"}},[e.imageUrl?t("img",{staticStyle:{"object-fit":"contain",width:"100%",height:"100%"},attrs:{src:e.imageUrl}}):e._e()])]),t("div",{staticClass:"col-8",staticStyle:{display:"flex","justify-content":"center","flex-direction":"column"}},[t("h1",{staticClass:"font-weight-bold text-primary"},[e._v(" "+e._s(e._f("uppercase")(e.$t("purchase down payment")))+" ")]),t("h1",{staticClass:"text-primary"},[e._v(" "+e._s(e._f("uppercase")(e.authUser.tenant_name))+" ")]),t("h4",[e._v(" "+e._s("Address : "+e.authUser.tenant_address)+" ")]),t("h4",[e._v(" "+e._s("Phone : "+e.authUser.tenant_phone)+" ")])])])]),t("div",{staticClass:"row p-10",staticStyle:{"margin-top":"30px"}},[t("div",{staticClass:"col-12",staticStyle:{padding:"15px!important"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-9"},[t("table",{staticClass:"table table-sm table-bordered"},[t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("Form")))+" ")]),t("td",{staticClass:"text-center"},[t("span",[e._v(e._s(e.purchaseReceive.form.number))])])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("Date")))+" ")]),t("td",{staticClass:"text-center"},[t("span",[e._v(e._s(e._f("dateFormat")(e.purchaseReceive.form.date,"DD MMMM YYYY")))])])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("Purchase Order")))+" ")]),e.purchaseReceive.purchase_order?t("td",{staticClass:"text-center text-primary"},[t("span",[e._v(e._s(e.purchaseReceive.purchase_order.form.number))])]):e._e()]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("Warehouse")))+" ")]),t("td",{staticClass:"text-center text-primary"},[t("span",[e._v(e._s(e.purchaseReceive.warehouse.name))])])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("Driver")))+" ")]),t("td",{staticClass:"text-center"},[t("span",[e._v(e._s(e.purchaseReceive.driver))])])]),t("tr",[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("License Plate")))+" ")]),t("td",{staticClass:"text-center"},[t("span",[e._v(e._s(e.purchaseReceive.license_plate))])])])])])]),t("div",{staticClass:"row",staticStyle:{"margin-top":"30px"}},[t("div",{staticClass:"col-12"},[t("table",{staticClass:"table table-sm table-bordered"},[t("tr",{staticClass:"text-center print-background-gray",staticStyle:{"border-color":"#adb8c8","-webkit-box-shadow":"none","box-shadow":"none"}},[t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("No")))+" ")]),t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("ITEM")))+" ")]),t("td",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e._f("uppercase")(e.$t("QUANTITY RECEIVED")))+" ")])]),e._l(e.purchaseReceive.items,(function(s,a){return t("tr",{key:s.id,staticClass:"text-center"},[t("td",[e._v(" "+e._s(a+1)+" ")]),t("td",[e._v(" "+e._s(s.item_name)+" ")]),t("td",[e._v(" "+e._s(s.quantity+" PCS")+" ")])])}))],2)])]),t("div",{staticClass:"row mt-50",staticStyle:{padding:"15px!important","margin-top":"50px"}},[t("div",{staticClass:"col-8",staticStyle:{border:"2px solid rgba(0,0,0,.3)!important",padding:"10px!important","border-radius":"3px"}},[t("h6",{staticClass:"mb-0"},[e._v(" "+e._s(e._f("uppercase")(e.$t("notes")))+" ")]),t("div",{staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.purchaseReceive.form.notes)+" ")]),t("div",{staticClass:"d-sm-block d-md-none mt-10"})]),t("div",{staticClass:"col-4 text-center p-10"},[t("h6",{staticClass:"mb-0"},[e._v(" "+e._s(e._f("uppercase")(e.$t("created by")))+" ")]),t("div",{staticClass:"mb-50",staticStyle:{"font-size":"11px"}},[e._v(" "+e._s(e._f("dateFormat")(e.purchaseReceive.form.date,"DD MMMM YYYY"))+" ")]),e._v(" "+e._s(e._f("uppercase")(e.purchaseReceive.form.created_by.full_name))+" "),t("div",{staticClass:"d-sm-block d-md-none mt-10"})])])])])])],1)],1):t("div",{staticClass:"alert alert-danger"},[e._v(" "+e._s(e.errorMessage)+" ")]),t("m-form-request-delete",{ref:"formRequestDelete",on:{delete:function(t){return e.onDelete(t)}}})],1)},r=[],c=s("c7eb"),i=s("1da1"),n=s("5530"),o=(s("7db0"),s("d3b7"),s("14d9"),s("055b")),l=s("5ae6"),p=s("861c"),u=s("feee"),d=s("2f62"),_=s("b7ae"),h=s("fa1a"),v={name:"Show",components:{PurchaseMenu:o["a"],Breadcrumb:l["a"],BreadcrumbPurchase:p["a"],PointTable:u["a"]},data:function(){return{id:this.$route.params.id,isLoading:!1,isDeleting:!1,currentLogo:null,localUrl:null,form:new _["a"]({increment_group:this.$moment().format("YYYYMM"),date:this.$moment().format("YYYY-MM-DD HH:mm:ss"),supplier_id:null,supplier_name:null,supplier_label:null,supplier_address:null,supplier_phone:null,supplier_email:null}),errorMessage:null}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(d["c"])("purchaseReceive",["purchaseReceive"])),Object(d["c"])("auth",["authUser"])),{},{imageUrl:function(){return this.localUrl||this.currentLogo&&this.currentLogo.publicUrl||null}}),watch:{$route:function(e,t){e.params.id!=t.params.id&&(this.id=e.params.id,this.purchaseReceiveRequest())}},created:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.purchaseReceiveRequest(),e.getSettingLogo();case 2:case"end":return t.stop()}}),t)})))()},methods:Object(n["a"])(Object(n["a"])({},Object(d["b"])("purchaseReceive",{find:"find",delete:"delete",cancellationApprove:"cancellationApprove",cancellationReject:"cancellationReject"})),{},{getSettingLogo:function(){var e=this;return Object(i["a"])(Object(c["a"])().mark((function t(){var s,a;return Object(c["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.onLoadingLogo=!1,t.prev=1,t.next=4,h["a"].get("/setting/logo");case 4:s=t.sent,a=s.data.data,e.currentLogo=a,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:e.onLoadingLogo=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},purchaseReceiveRequest:function(){var e=this;this.isLoading=!0,this.find({id:this.id,params:{with_archives:!0,includes:"supplier;warehouse;items.item.units;purchaseOrder.form;form.createdBy;form.branch"}}).then((function(t){e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$notification.error(t.message),e.errorMessage=t.message}))},onDelete:function(e){var t=this;this.isDeleting=!0,this.delete({id:this.id,data:{reason:e}}).then((function(e){t.isDeleting=!1,t.$notification.success("success delete purchase receive"),t.purchaseReceiveRequest()})).catch((function(e){t.isDeleting=!1,t.$notification.error(e.message),t.form.errors.record(e.errors)}))},onApprove:function(){var e=this;this.approve({id:this.id}).then((function(t){e.$notification.success("approve success"),e.purchaseOrderRequest()}))},onReject:function(e){var t=this;this.reject({id:this.id,reason:e}).then((function(e){t.$notification.success("reject success"),t.purchaseOrderRequest()}))},onCancellationApprove:function(){var e=this;this.cancellationApprove({id:this.id}).then((function(t){e.$notification.success("cancellation approved"),e.$router.push("/purchase/receive")})).catch((function(t){e.$notification.error(t.message)}))},onCancellationReject:function(e){var t=this;this.cancellationReject({id:this.id,reason:e}).then((function(e){t.$notification.success("cancellation rejected"),t.purchaseReceiveRequest()})).catch((function(e){t.$notification.error(e.message)}))},print:function(){this.$htmlToPaper("printMe")}})},m=v,f=s("2877"),b=Object(f["a"])(m,a,r,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-3849edc4.b1ef3a77.js.map