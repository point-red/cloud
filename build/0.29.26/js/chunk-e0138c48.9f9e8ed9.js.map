{"version":3,"sources":["webpack:///./src/views/sales/Breadcrumb.vue","webpack:///./src/views/sales/Breadcrumb.vue?6945","webpack:///./src/views/sales/invoice/PrintSalesInvoice.vue?ba84","webpack:///./src/views/sales/invoice/Show.vue","webpack:///./src/views/sales/invoice/PrintSalesInvoice.vue","webpack:///src/views/sales/invoice/PrintSalesInvoice.vue","webpack:///./src/views/sales/invoice/PrintSalesInvoice.vue?c458","webpack:///./src/views/sales/invoice/PrintSalesInvoice.vue?cc9b","webpack:///src/views/sales/invoice/Show.vue","webpack:///./src/views/sales/invoice/Show.vue?bb7f","webpack:///./src/views/sales/invoice/Show.vue?3c12"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_s","_f","$t","staticRenderFns","script","component","invoice","form","number","_e","isLoading","requestApprovalToUser","fullName","cancellationStatus","approvalStatus","approvalReason","on","onApprove","onReject","cancellationApprovalReason","requestCancellationReason","onCancellationApprove","onCancellationReject","$event","$refs","open","name","params","id","formRequestDelete","ref","onDelete","date","referenceable","authUser","tenant_name","branch","address","phone","customer","staticStyle","email","slot","_l","items","row","index","key","itemName","quantity","unit","price","discountValue","allocation","invoiceSubtotal","tax","amount","notes","createdByUser","approvalAt","preventDefault","sendInvoice","apply","arguments","model","value","sendInvoiceData","callback","$$v","$set","expression","directives","rawName","message","domProps","target","composing","onClose","logoUrl","tenantName","tenantAddress","tenantPhone","referenceableType","salesDeliveryNote","deliveryOrder","salesOrder","$attrs","subtotal","print","props","type","required","data","onLoad","computed","created","Promise","methods","clear","close","getSettingLogo","axiosNode","currentLogo","console","getSettingEndNote","endNote","components","SalesMenu","Breadcrumb","BreadcrumbSales","PointTable","PrintSalesInvoice","isDeleting","mapGetters","element","watch","mapActions","find","delete","approve","reject","cancellationApprove","cancellationReject","sendReport","salesInvoiceRequest","with_archives","with_origin","includes","reason"],"mappings":"kHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,cAAc,CAACE,YAAY,kBAAkBC,MAAM,CAAC,GAAK,WAAW,CAACL,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,WAAW,QAE/LC,EAAkB,G,YCDlBC,EAAS,GAKTC,EAAY,eACdD,EACAZ,EACAW,GACA,EACA,KACA,KACA,MAIa,OAAAE,E,6CCjBf,W,kFCAIb,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAEF,EAAIa,QAASX,EAAG,aAAa,CAACA,EAAG,oBAAoBA,EAAG,cAAc,CAACE,YAAY,kBAAkBC,MAAM,CAAC,GAAK,mBAAmB,CAACL,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,mBAAmB,OAAOP,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACJ,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQC,KAAKC,aAAa,GAAGf,EAAIgB,KAAKd,EAAG,cAAcA,EAAG,qCAAqC,CAACG,MAAM,CAAC,YAAY,gBAAgB,aAAaL,EAAIiB,UAAU,cAAcjB,EAAIa,QAAQC,KAAKI,sBAAsBC,SAAS,sBAAsBnB,EAAIa,QAAQC,KAAKM,mBAAmB,kBAAkBpB,EAAIa,QAAQC,KAAKO,eAAe,kBAAkBrB,EAAIa,QAAQC,KAAKQ,gBAAgBC,GAAG,CAAC,UAAYvB,EAAIwB,UAAU,SAAWxB,EAAIyB,YAAYvB,EAAG,yCAAyC,CAACG,MAAM,CAAC,YAAY,gBAAgB,aAAaL,EAAIiB,UAAU,cAAcjB,EAAIa,QAAQC,KAAKI,sBAAsBC,SAAS,sBAAsBnB,EAAIa,QAAQC,KAAKM,mBAAmB,+BAA+BpB,EAAIa,QAAQC,KAAKY,2BAA2B,8BAA8B1B,EAAIa,QAAQC,KAAKa,2BAA2BJ,GAAG,CAAC,sBAAwBvB,EAAI4B,sBAAsB,qBAAuB5B,EAAI6B,wBAAyB7B,EAAIa,QAASX,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,UAAU,CAACA,EAAG,gBAAgB,CAACG,MAAM,CAAC,aAAaL,EAAIiB,YAAY,CAACf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,6CAA6CC,MAAM,CAAC,MAAQ,kCAAkCkB,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO9B,EAAI+B,MAAM,qBAAqBC,UAAU,CAAC9B,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,SAAS,CAACE,YAAY,6CAA6CC,MAAM,CAAC,MAAQ,uBAAuBkB,GAAG,CAAC,MAAQ,kBAAMvB,EAAI+B,MAAM,iBAAiBC,UAAS,CAAC9B,EAAG,IAAI,CAACE,YAAY,oBAAoBF,EAAG,cAAc,CAACE,YAAY,wCAAwCC,MAAM,CAAC,GAAK,CAAE4B,KAAM,0BAA2B,CAACjC,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,YAAY,OAAOP,EAAG,cAAc,CAACE,YAAY,wCAAwCC,MAAM,CAAC,GAAK,CAAE4B,KAAM,qBAAsBC,OAAQ,CAAEC,GAAInC,EAAIa,QAAQsB,OAAQ,CAACnC,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,UAAU,OAA+C,MAAvCT,EAAIa,QAAQC,KAAKM,qBAAsE,GAAxCpB,EAAIa,QAAQC,KAAKM,mBAA0BlB,EAAG,SAAS,CAACE,YAAY,wCAAwCmB,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO9B,EAAI+B,MAAMK,kBAAkBJ,UAAU,CAAChC,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,YAAY,OAAOT,EAAIgB,KAAKd,EAAG,wBAAwB,CAACmC,IAAI,oBAAoBd,GAAG,CAAC,OAAS,SAASO,GAAQ,OAAO9B,EAAIsC,SAASR,QAAa,OAAO5B,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,sBAAsBP,EAAG,QAAQ,CAACE,YAAY,iCAAiC,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,mBAAmBC,MAAM,CAAC,MAAQ,UAAU,CAACL,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,iBAAiB,OAAOP,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQC,KAAKC,aAAab,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,UAAU,OAAOP,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,aAAPR,CAAqBA,EAAIa,QAAQ0B,KAAK,sBAAuBvC,EAAIa,QAAQ2B,cAAetC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,eAAe,OAAOP,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQ2B,cAAc1B,KAAKC,aAAaf,EAAIgB,SAASd,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIyC,SAASC,cAAc,OAAQ1C,EAAIa,QAAQC,KAAK6B,OAAQ,CAAC3C,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQC,KAAK6B,OAAOC,UAAU,KAAM5C,EAAIa,QAAQC,KAAK6B,OAAOE,MAAO3C,EAAG,MAAMF,EAAIgB,KAAKhB,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQC,KAAK6B,OAAOE,QAAQ,MAAM7C,EAAIgB,KAAKd,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,cAAc,OAAOT,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQiC,SAASb,OAAO,KAAK/B,EAAG,MAAM,CAAC6C,YAAY,CAAC,YAAY,SAAS,CAAC/C,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQiC,SAASF,UAAU,KAAM5C,EAAIa,QAAQiC,SAASD,MAAO3C,EAAG,MAAMF,EAAIgB,KAAKhB,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQiC,SAASD,OAAO,KAAM7C,EAAIa,QAAQiC,SAASE,MAAO9C,EAAG,MAAMF,EAAIgB,KAAKhB,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQiC,SAASE,QAAQ,QAAQ,KAAK9C,EAAG,MAAMA,EAAG,cAAc,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACG,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC/C,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIM,GAAG,SAASJ,EAAG,KAAK,CAACF,EAAIM,GAAG,UAAUJ,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,gBAAgBJ,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,aAAaJ,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,gBAAgBJ,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,aAAaJ,EAAG,KAAK,CAACF,EAAIM,GAAG,kBAAkBN,EAAIkD,GAAIlD,EAAIa,QAAQsC,OAAO,SAASC,EAAIC,GAAO,MAAO,CAACnD,EAAG,KAAK,CAACoD,IAAID,EAAMhD,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC/C,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAG8C,EAAQ,GAAG,OAAOnD,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAG6C,EAAIG,aAAarD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAII,WAAW,IAAIxD,EAAIO,GAAG6C,EAAIK,MAAM,OAAOvD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAIM,QAAQ,OAAOxD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAIO,gBAAgB,OAAOzD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAII,UAAYJ,EAAIM,MAAQN,EAAIO,iBAAiB,OAAOzD,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAG6C,EAAIQ,YAAcR,EAAIQ,WAAW3B,eAAc/B,EAAG,KAAK,CAACG,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC/C,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,mBAAmBP,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAI6D,uBAAuB3D,EAAG,QAAQA,EAAG,KAAK,CAACG,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC/C,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,mBAAmBP,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAIa,QAAQ8C,qBAAqBzD,EAAG,QAAQA,EAAG,KAAK,CAACG,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC/C,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,mBAAmBP,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAI6D,gBAAkB7D,EAAIa,QAAQ8C,qBAAqBzD,EAAG,QAAQA,EAAG,KAAK,CAACG,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC/C,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,cAAcP,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAIa,QAAQiD,WAAW5D,EAAG,QAAQA,EAAG,KAAK,CAACG,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC/C,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,gBAAgBP,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAIa,QAAQkD,cAAc7D,EAAG,SAAS,GAAGA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,WAAW,OAAOP,EAAG,MAAM,CAAC6C,YAAY,CAAC,cAAc,aAAa,CAAC/C,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIa,QAAQC,KAAKkD,OAAO,OAAO9D,EAAG,MAAM,CAACE,YAAY,iCAAiCF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,kBAAkB,OAAOP,EAAG,MAAM,CAACE,YAAY,QAAQ2C,YAAY,CAAC,YAAY,SAAS,CAAC/C,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,aAAPR,CAAqBA,EAAIa,QAAQC,KAAKyB,KAAK,iBAAiB,OAAOvC,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQC,KAAKmD,cAAc9C,WAAW,KAAKjB,EAAG,MAAM,CAACE,YAAY,iCAAiCF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,iBAAiB,OAAOP,EAAG,MAAM,CAACE,YAAY,QAAQ2C,YAAY,CAAC,YAAY,SAAS,CAAE/C,EAAIa,QAAQC,KAAKoD,WAAY,CAAClE,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,aAAPR,CAAqBA,EAAIa,QAAQC,KAAKoD,WAAW,iBAAiB,MAAM,CAAClE,EAAIM,GAAG,uBAAuB,GAAGN,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQC,KAAKI,sBAAsBC,WAAW,KAAKjB,EAAG,MAAM,CAAC6C,YAAY,CAAC,YAAY,SAAS,CAAC/C,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIa,QAAQC,KAAKI,sBAAsB8B,QAAQ,YAAY,IAAI,IAAI,GAAGhD,EAAIgB,KAAKd,EAAG,wBAAwB,CAACmC,IAAI,oBAAoBd,GAAG,CAAC,OAAS,SAASO,GAAQ,OAAO9B,EAAIsC,SAASR,OAAY5B,EAAG,cAAc,CAACmC,IAAI,oBAAoBhC,MAAM,CAAC,MAAQL,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,iBAAiB,gBAAgB,SAAS,CAACP,EAAG,OAAO,CAACqB,GAAG,CAAC,OAAS,SAASO,GAAgC,OAAxBA,EAAOqC,iBAAwBnE,EAAIoE,YAAYC,MAAM,KAAMC,cAAc,CAACpE,EAAG,aAAa,CAACmC,IAAI,qBAAqBhC,MAAM,CAAC,GAAK,qBAAqB,KAAO,QAAQ,SAAW,GAAG,WAAaL,EAAIa,QAAQiC,SAASE,MAAM,MAAQhD,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,UAAU,iBAAgB,GAAO8D,MAAM,CAACC,MAAOxE,EAAIyE,gBAAgBzB,MAAO0B,SAAS,SAAUC,GAAM3E,EAAI4E,KAAK5E,EAAIyE,gBAAiB,QAASE,IAAME,WAAW,2BAA2B3E,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,iBAAiBC,MAAM,CAAC,IAAM,yBAAyB,CAACL,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoB,eAAeE,EAAG,MAAM,CAACA,EAAG,WAAW,CAAC4E,WAAW,CAAC,CAAC7C,KAAK,QAAQ8C,QAAQ,UAAUP,MAAOxE,EAAIyE,gBAAgBO,QAASH,WAAW,4BAA4BzE,YAAY,eAAeC,MAAM,CAAC,GAAK,uBAAuB,KAAO,uBAAuB,KAAO,KAAK,KAAO,MAAM4E,SAAS,CAAC,MAASjF,EAAIyE,gBAAgBO,SAAUzD,GAAG,CAAC,MAAQ,SAASO,GAAWA,EAAOoD,OAAOC,WAAiBnF,EAAI4E,KAAK5E,EAAIyE,gBAAiB,UAAW3C,EAAOoD,OAAOV,eAAetE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,WAAW,CAACL,EAAIM,GAAG,eAAe,KAAKJ,EAAG,sBAAsB,CAACmC,IAAI,gBAAgBhC,MAAM,CAAC,QAAUL,EAAIa,QAAQ,SAAWb,EAAI6D,gBAAgB,WAAW7D,EAAI8D,QAAQ,IAEt9TpD,EAAkB,G,8HCFlBX,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,cAAc,CAACmC,IAAI,sBAAsBhC,MAAM,CAAC,MAAQL,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,wBAAwB,gBAAgB,QAAQc,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAO9B,EAAIoF,aAAa,CAAClF,EAAG,QAAQ,CAACE,YAAY,iDAAiDC,MAAM,CAAC,GAAK,wBAAwB,CAACH,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,iCAAiC2C,YAAY,CAAC,gBAAgB,SAAS,CAAC7C,EAAG,MAAM,CAAC6C,YAAY,CAAC,MAAQ,QAAQ,OAAS,QAAQ,aAAa,WAAW,CAAC7C,EAAG,MAAM,CAAC6C,YAAY,CAAC,MAAQ,QAAQ,OAAS,SAAS1C,MAAM,CAAC,IAAML,EAAIqF,QAAQ,IAAM,YAAYnF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,KAAK,CAAC6C,YAAY,CAAC,aAAa,IAAI,gBAAgB,QAAQ,CAAC/C,EAAIM,GAAG,eAAeJ,EAAG,KAAK,CAACE,YAAY,SAAS2C,YAAY,CAAC,cAAc,SAAS,CAAC/C,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIsF,YAAY,OAAOpF,EAAG,IAAI,CAACE,YAAY,SAAS2C,YAAY,CAAC,cAAc,SAAS,CAAC/C,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIuF,eAAe,OAAOrF,EAAG,IAAI,CAACE,YAAY,UAAU,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIwF,aAAa,WAAWtF,EAAG,KAAK,CAACE,YAAY,mBAAmBF,EAAG,MAAM,CAACE,YAAY,iCAAiC2C,YAAY,CAAC,aAAa,OAAO,gBAAgB,SAAS,CAAC7C,EAAG,QAAQ,CAACE,YAAY,gBAAgB2C,YAAY,CAAC,eAAe,SAAS,CAAC7C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,UAAUJ,EAAG,KAAK,CAACF,EAAIM,GAAG,OAAOJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,aAAPR,CAAqBA,EAAIa,QAAQ0B,KAAK,sBAAsBrC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,oBAAoBJ,EAAG,KAAK,CAACF,EAAIM,GAAG,OAAOJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQC,KAAKC,aAAgD,sBAAlCf,EAAIa,QAAQ4E,kBAA2CvF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,wBAAwBJ,EAAG,KAAK,CAACF,EAAIM,GAAG,OAAOJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQ6E,kBAAkBC,cAAcC,WAAW9E,KAAKC,aAAaf,EAAIgB,OAAOd,EAAG,QAAQ,CAACE,YAAY,gBAAgB2C,YAAY,CAAC,cAAc,SAAS,CAAC7C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,cAAcJ,EAAG,KAAK,CAACF,EAAIM,GAAG,OAAOJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQiC,SAASb,MAAQ,UAAU/B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,aAAaJ,EAAG,KAAK,CAACF,EAAIM,GAAG,OAAOJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQiC,SAASF,SAAW,UAAU1C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,kBAAkBJ,EAAG,KAAK,CAACF,EAAIM,GAAG,OAAOJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIa,QAAQiC,SAASD,OAAS,oBAAoB3C,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACE,YAAY,cAAc2C,YAAY,CAAC,MAAQ,SAAS,CAAC7C,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,QAAQJ,EAAG,KAAK,CAACF,EAAIM,GAAG,UAAUJ,EAAG,KAAK,CAACF,EAAIM,GAAG,cAAcJ,EAAG,KAAK,CAACF,EAAIM,GAAG,WAAWJ,EAAG,KAAK,CAACF,EAAIM,GAAG,cAAcJ,EAAG,KAAK,CAACF,EAAIM,GAAG,eAAeN,EAAIkD,GAAIlD,EAAIa,QAAQsC,OAAO,SAASC,EAAIC,GAAO,OAAOnD,EAAG,KAAK,CAACoD,IAAID,GAAO,CAACnD,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAG8C,EAAM,MAAMnD,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAG6C,EAAIG,aAAarD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAII,WAAW,IAAIxD,EAAIO,GAAG6C,EAAIK,MAAM,OAAOvD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAIM,QAAQ,OAAOxD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAIO,gBAAgB,OAAOzD,EAAG,KAAK,CAACE,YAAY,aAAa,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBoD,EAAII,UAAYJ,EAAIM,MAAQN,EAAIO,iBAAiB,YAAWzD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaC,MAAM,CAAC,QAAU,MAAM,CAACL,EAAIM,GAAG,iBAAiBJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAI6F,OAAOC,gBAAgB5F,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaC,MAAM,CAAC,QAAU,MAAM,CAACL,EAAIM,GAAG,gBAAgBJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAIa,QAAQ8C,qBAAqBzD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaC,MAAM,CAAC,QAAU,MAAM,CAACL,EAAIM,GAAG,gBAAgBJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAIa,QAAQkD,OAAS/D,EAAIa,QAAQiD,WAAW5D,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaC,MAAM,CAAC,QAAU,MAAM,CAACL,EAAIM,GAAG,WAAWJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAIa,QAAQiD,WAAW5D,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaC,MAAM,CAAC,QAAU,MAAM,CAACL,EAAIM,GAAG,aAAaJ,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,eAAPR,CAAuBA,EAAIa,QAAQkD,eAAe,GAAG7D,EAAG,OAAO,CAACF,EAAIM,GAAG,UAAUN,EAAIO,GAAGP,EAAIgE,UAAU9D,EAAG,MAAM,CAACE,YAAY,6BAA6B2C,YAAY,CAAC,aAAa,SAAS,CAAC7C,EAAG,MAAM,CAACE,YAAY,cAAc2C,YAAY,CAAC,eAAe,SAAS,CAAC7C,EAAG,KAAK,CAACF,EAAIM,GAAG,gBAAgBJ,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMF,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIa,QAAQC,KAAKmD,cAAc9C,UAAU,OAAOjB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACF,EAAIM,GAAG,iBAAiBJ,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMF,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIa,QAAQC,KAAKI,sBAAsBC,UAAU,eAAejB,EAAG,WAAWA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAAC4E,WAAW,CAAC,CAAC7C,KAAK,QAAQ8C,QAAQ,UAAUP,MAAO,sBAAuBK,WAAW,0BAA0BzE,YAAY,wCAAwCC,MAAM,CAAC,KAAO,WAAW,CAACL,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,GAAG,YAAPR,CAAoBA,EAAIS,GAAG,WAAW,YAE/tJC,EAAkB,G,uDCsNP,GACfoE,YACAiB,WAEAC,OACAnF,SACAoF,YACAC,cAGAC,gBACA,OACAC,UACAf,WACArB,WAGAqC,UACAf,sBACA,2CAEAC,yBACA,4CAKA,OAJA,gBACAA,OAGA,GAEAC,uBACA,0CAKA,OAJA,gBACAA,OAGA,IAGAc,mBAAA,oJACA,4BACAC,aACA,mBACA,wBACA,OACA,sDANA,IAQAC,SACAC,iBACA,oBACA,uBACA,yBACA,cAEAzE,gBACA,0CAEA0E,iBACA,uCAEAtB,mBACA,wBAEAuB,0BAAA,qLAEAC,4BAAA,gBAAAC,cACA,yEAEAC,kBAAA,wDALA,IAQAC,6BAAA,qLAEAH,gCAAA,gBAAAI,cACA,0EAEAF,kBAAA,wDALA,MC9RyX,I,wBCQrXlG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCkVA,GACfqG,YACAC,iBACAC,kBACAC,uBACAC,kBACAC,qBAEAnB,gBACA,OACAhE,yBACAlB,aACAsG,cACA9C,iBACAzB,SACAgC,cAIAqB,yDACAmB,4CACAA,yCACA3D,2BACA,QAWA,OAVA,wCACA,oBACA4D,2DACA,kBACAA,6CAEAA,2BAEA3B,0BAEA,KAGA4B,OACA,qBACA,2BACA,oBACA,8BAIApB,mBACA,4BAEAE,yCACAmB,+BACAC,YACAC,gBACAC,kBACAC,gBACAC,0CACAC,wCACAC,2BACA,IACAC,+BAAA,WACA,kBACA,WACAhG,WACAD,QACAkG,iBACAC,eACAC,yHAQA,kBACA,oDACA,mBACA,oCACA,oBACA,mBAGAhG,qBAAA,WACA,mBACA,aACAH,WACAgE,MACAoC,kBAEA,kBACA,gBACA,0CACA,2BACA,mBACA,gBACA,iCACA,mCAGA/G,qBAAA,WACA,cACAW,aACA,kBACA,2CACA,2BACA,mBAEA,iFAGAV,qBAAA,WACA,aACAU,WACAoG,WACA,kBACA,0CACA,2BACA,mBAEA,iFAGA3G,iCAAA,WACA,0BACAO,aACA,kBACA,iDACA,oCACA,mBAEA,qFAGAN,iCAAA,WACA,yBACAM,WACAoG,WACA,kBACA,iDACA,2BACA,mBAEA,qFAGAnE,uBAAA,8JACA,OADA,EACA,0DAEA,cACAjC,QACAa,QACAgC,YACA,OAEA,qDACA,6BACA,qCACA,mGAGA,2HAfA,OCrf4W,ICOxW,EAAY,eACd,EACAjF,EACAW,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-e0138c48.9f9e8ed9.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/sales\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('sales')))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=9d40e9e0&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintSalesInvoice.vue?vue&type=style&index=0&id=08c0c888&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.invoice)?_c('breadcrumb',[_c('breadcrumb-sales'),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/sales/invoice\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('sales invoice')))+\" \")]),_c('span',{staticClass:\"breadcrumb-item active\"},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.invoice.form.number)))])],1):_vm._e(),_c('sales-menu'),_c('p-show-form-approval-status-custom',{attrs:{\"form-name\":\"Sales Invoice\",\"is-loading\":_vm.isLoading,\"approved-by\":_vm.invoice.form.requestApprovalToUser.fullName,\"cancellation-status\":_vm.invoice.form.cancellationStatus,\"approval-status\":_vm.invoice.form.approvalStatus,\"approval-reason\":_vm.invoice.form.approvalReason},on:{\"onApprove\":_vm.onApprove,\"onReject\":_vm.onReject}}),_c('p-show-form-cancellation-status-custom',{attrs:{\"form-name\":\"Sales Invoice\",\"is-loading\":_vm.isLoading,\"approved-by\":_vm.invoice.form.requestApprovalToUser.fullName,\"cancellation-status\":_vm.invoice.form.cancellationStatus,\"cancellation-approval-reason\":_vm.invoice.form.cancellationApprovalReason,\"request-cancellation-reason\":_vm.invoice.form.requestCancellationReason},on:{\"onCancellationApprove\":_vm.onCancellationApprove,\"onCancellationReject\":_vm.onCancellationReject}}),(_vm.invoice)?_c('div',{staticClass:\"row\"},[_c('p-block',[_c('p-block-inner',{attrs:{\"is-loading\":_vm.isLoading}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"mr-3 btn btn-sm btn-outline-secondary mr-5\",attrs:{\"title\":\"Send sales invoice to customer\"},on:{\"click\":function($event){return _vm.$refs['send-report-modal'].open()}}},[_c('i',{staticClass:\"si si-paper-plane\"})]),_c('button',{staticClass:\"mr-3 btn btn-sm btn-outline-secondary mr-5\",attrs:{\"title\":\"Print sales invoice\"},on:{\"click\":() => _vm.$refs['print-invoice'].open()}},[_c('i',{staticClass:\"si si-printer\"})]),_c('router-link',{staticClass:\"btn btn-sm btn-outline-secondary mr-5\",attrs:{\"to\":{ name: 'sales.invoice.create' }}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('create')))+\" \")]),_c('router-link',{staticClass:\"btn btn-sm btn-outline-secondary mr-5\",attrs:{\"to\":{ name: 'sales.invoice.edit', params: { id: _vm.invoice.id }}}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('edit')))+\" \")]),(_vm.invoice.form.cancellationStatus == null || _vm.invoice.form.cancellationStatus == -1)?_c('button',{staticClass:\"btn btn-sm btn-outline-secondary mr-5\",on:{\"click\":function($event){return _vm.$refs.formRequestDelete.open()}}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('delete')))+\" \")]):_vm._e(),_c('m-form-request-delete',{ref:\"formRequestDelete\",on:{\"delete\":function($event){return _vm.onDelete($event)}}})],1)])]),_c('hr'),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('h4',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('sales invoice'))))]),_c('table',{staticClass:\"table table-sm table-bordered\"},[_c('tr',[_c('td',{staticClass:\"font-weight-bold\",attrs:{\"width\":\"150px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('form number')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.invoice.form.number))])]),_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('date')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.invoice.date,'DD MMMM YYYY')))])]),(_vm.invoice.referenceable)?_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('reference')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.invoice.referenceable.form.number))])]):_vm._e()])]),_c('div',{staticClass:\"col-sm-6 text-right\"},[_c('h6',{staticClass:\"mb-5\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.authUser.tenant_name))+\" \")]),(_vm.invoice.form.branch)?[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.invoice.form.branch.address))+\" \"),(_vm.invoice.form.branch.phone)?_c('br'):_vm._e(),_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.invoice.form.branch.phone))+\" \")]:_vm._e(),_c('h6',{staticClass:\"mt-30 mb-5\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('customer')))+\" \")]),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.invoice.customer.name))+\" \"),_c('div',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.invoice.customer.address))+\" \"),(_vm.invoice.customer.phone)?_c('br'):_vm._e(),_vm._v(_vm._s(_vm.invoice.customer.phone)+\" \"),(_vm.invoice.customer.email)?_c('br'):_vm._e(),_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.invoice.customer.email))+\" \")])],2)]),_c('hr'),_c('point-table',{staticClass:\"mt-20\"},[_c('tr',{attrs:{\"slot\":\"p-head\"},slot:\"p-head\"},[_c('th',{staticClass:\"text-center\"},[_vm._v(\" # \")]),_c('th',[_vm._v(\"Item\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\" Quantity \")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\" Price \")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\" Discount \")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\" Total \")]),_c('th',[_vm._v(\"Allocation\")])]),_vm._l((_vm.invoice.items),function(row,index){return [_c('tr',{key:index,attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(index + 1)+\" \")]),_c('td',[_vm._v(_vm._s(row.itemName))]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity))+\" \"+_vm._s(row.unit)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.price))+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.discountValue))+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity * (row.price - row.discountValue)))+\" \")]),_c('td',[_vm._v(_vm._s(row.allocation && row.allocation.name))])])]}),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th'),_c('td'),_c('td'),_c('td'),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('subtotal'))))])]),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoiceSubtotal)))])]),_c('td')]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th'),_c('td'),_c('td'),_c('td'),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('discount'))))])]),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoice.discountValue)))])]),_c('td')]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th'),_c('td'),_c('td'),_c('td'),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('tax base'))))])]),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoiceSubtotal - _vm.invoice.discountValue)))])]),_c('td')]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th'),_c('td'),_c('td'),_c('td'),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('tax'))))])]),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoice.tax)))])]),_c('td')]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th'),_c('td'),_c('td'),_c('td'),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('total'))))])]),_c('td',{staticClass:\"text-right\"},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoice.amount)))])]),_c('td')])],2),_c('div',{staticClass:\"row mt-50\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('notes')))+\" \")]),_c('div',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(\" \"+_vm._s(_vm.invoice.form.notes)+\" \")]),_c('div',{staticClass:\"d-sm-block d-md-none mt-10\"})]),_c('div',{staticClass:\"col-sm-3 text-center\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('requested by')))+\" \")]),_c('div',{staticClass:\"mb-50\",staticStyle:{\"font-size\":\"11px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(_vm.invoice.form.date,'DD MMMM YYYY'))+\" \")]),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.invoice.form.createdByUser.fullName))+\" \"),_c('div',{staticClass:\"d-sm-block d-md-none mt-10\"})]),_c('div',{staticClass:\"col-sm-3 text-center\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('approved by')))+\" \")]),_c('div',{staticClass:\"mb-50\",staticStyle:{\"font-size\":\"11px\"}},[(_vm.invoice.form.approvalAt)?[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(_vm.invoice.form.approvalAt,'DD MMMM YYYY'))+\" \")]:[_vm._v(\" _______________ \")]],2),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.invoice.form.requestApprovalToUser.fullName))+\" \"),_c('div',{staticStyle:{\"font-size\":\"11px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"lowercase\")(_vm.invoice.form.requestApprovalToUser.email))+\" \")])])])],1)],1)],1):_vm._e(),_c('m-form-request-delete',{ref:\"formRequestDelete\",on:{\"delete\":function($event){return _vm.onDelete($event)}}}),_c('sweet-modal',{ref:\"send-report-modal\",attrs:{\"title\":_vm._f(\"uppercase\")(_vm.$t('send invoice')),\"overlay-theme\":\"dark\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sendInvoice.apply(null, arguments)}}},[_c('p-form-row',{ref:\"send-invoice-email\",attrs:{\"id\":\"send-invoice-email\",\"type\":\"email\",\"required\":\"\",\"disabled\":!!_vm.invoice.customer.email,\"label\":_vm._f(\"uppercase\")(_vm.$t('email')),\"is-horizontal\":false},model:{value:(_vm.sendInvoiceData.email),callback:function ($$v) {_vm.$set(_vm.sendInvoiceData, \"email\", $$v)},expression:\"sendInvoiceData.email\"}}),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"col-form-label\",attrs:{\"for\":\"send-invoice-message\"}},[_vm._v(_vm._s(_vm._f(\"uppercase\")('Message')))]),_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendInvoiceData.message),expression:\"sendInvoiceData.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"send-invoice-message\",\"name\":\"send-invoice-message\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.sendInvoiceData.message)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.sendInvoiceData, \"message\", $event.target.value)}}})])]),_c('div',{staticClass:\"pull-right\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Send \")])])],1)]),_c('print-sales-invoice',{ref:\"print-invoice\",attrs:{\"invoice\":_vm.invoice,\"subtotal\":_vm.invoiceSubtotal,\"tax-base\":_vm.tax}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('sweet-modal',{ref:\"print-sales-invoice\",attrs:{\"title\":_vm._f(\"uppercase\")(_vm.$t('print sales invoice')),\"overlay-theme\":\"dark\"},on:{\"close\":function($event){return _vm.onClose()}}},[_c('table',{staticClass:\"print-sales-invoice-container m-2 mb-4 mx-auto\",attrs:{\"id\":\"print-sales-invoice\"}},[_c('thead',[_c('tr',[_c('td',[_c('div',{staticClass:\"d-flex justify-content-between\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('div',{staticStyle:{\"width\":\"110px\",\"height\":\"110px\",\"align-self\":\"center\"}},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":_vm.logoUrl,\"alt\":\"Logo\"}})]),_c('div',{staticClass:\"company-detail\"},[_c('h1',{staticStyle:{\"margin-top\":\"0\",\"margin-bottom\":\"5px\"}},[_vm._v(\" Invoice \")]),_c('h3',{staticClass:\"my-5px\",staticStyle:{\"line-height\":\"22px\"}},[_vm._v(\" \"+_vm._s(_vm.tenantName)+\" \")]),_c('p',{staticClass:\"my-5px\",staticStyle:{\"line-height\":\"15px\"}},[_vm._v(\" \"+_vm._s(_vm.tenantAddress)+\" \")]),_c('p',{staticClass:\"my-5px\"},[_vm._v(\" \"+_vm._s(_vm.tenantPhone)+\" \")])])]),_c('hr',{staticClass:\"header-divider\"}),_c('div',{staticClass:\"d-flex justify-content-between\",staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"}},[_c('table',{staticClass:\"header-detail\",staticStyle:{\"margin-right\":\"20px\"}},[_c('tr',[_c('td',[_vm._v(\"Date\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.invoice.date,'DD MMMM YYYY')))])]),_c('tr',[_c('td',[_vm._v(\"Invoice number\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.invoice.form.number))])]),(_vm.invoice.referenceableType === 'SalesDeliveryNote')?_c('tr',[_c('td',[_vm._v(\"Sales order number\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.invoice.salesDeliveryNote.deliveryOrder.salesOrder.form.number))])]):_vm._e()]),_c('table',{staticClass:\"header-detail\",staticStyle:{\"margin-left\":\"20px\"}},[_c('tr',[_c('td',[_vm._v(\"Customer\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.invoice.customer.name || '-'))])]),_c('tr',[_c('td',[_vm._v(\"Address\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.invoice.customer.address || '-'))])]),_c('tr',[_c('td',[_vm._v(\"Phone number\")]),_c('td',[_vm._v(\":\")]),_c('td',[_vm._v(_vm._s(_vm.invoice.customer.phone || '-'))])])])])])])]),_c('tbody',[_c('tr',[_c('td',[_c('table',{staticClass:\"table-items\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"No\")]),_c('th',[_vm._v(\"Item\")]),_c('th',[_vm._v(\"Quantity\")]),_c('th',[_vm._v(\"Price\")]),_c('th',[_vm._v(\"Discount\")]),_c('th',[_vm._v(\"Total\")])])]),_vm._l((_vm.invoice.items),function(row,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index+1))]),_c('td',[_vm._v(_vm._s(row.itemName))]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity))+\" \"+_vm._s(row.unit)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.price))+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.discountValue))+\" \")]),_c('td',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.quantity * (row.price - row.discountValue)))+\" \")])])}),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" Sub total \")]),_c('td',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.$attrs.subtotal)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" Discount \")]),_c('td',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoice.discountValue)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" Tax base \")]),_c('td',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoice.amount - _vm.invoice.tax)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" Tax \")]),_c('td',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoice.tax)))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" Total \")]),_c('td',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.invoice.amount)))])])],2),_c('span',[_vm._v(\"Notes: \"+_vm._s(_vm.notes))]),_c('div',{staticClass:\"d-flex justify-content-end\",staticStyle:{\"margin-top\":\"75px\"}},[_c('div',{staticClass:\"text-center\",staticStyle:{\"margin-right\":\"75px\"}},[_c('h3',[_vm._v(\"Created by\")]),_c('br'),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.invoice.form.createdByUser.fullName)+\" \")]),_c('div',{staticClass:\"text-center\"},[_c('h3',[_vm._v(\"Approved by\")]),_c('br'),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.invoice.form.requestApprovalToUser.fullName)+\" \")])])])])]),_c('tfoot')]),_c('div',{staticClass:\"pull-right\"},[_c('button',{directives:[{name:\"print\",rawName:\"v-print\",value:('print-sales-invoice'),expression:\"'print-sales-invoice'\"}],staticClass:\"btn btn-sm btn-outline-secondary mt-3\",attrs:{\"type\":\"button\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('print')))+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <sweet-modal\r\n    ref=\"print-sales-invoice\"\r\n    :title=\"$t('print sales invoice') | uppercase\"\r\n    overlay-theme=\"dark\"\r\n    @close=\"onClose()\"\r\n  >\r\n    <table\r\n      id=\"print-sales-invoice\"\r\n      class=\"print-sales-invoice-container m-2 mb-4 mx-auto\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <td>\r\n            <div\r\n              class=\"d-flex justify-content-between\"\r\n              style=\"margin-bottom: 10px;\"\r\n            >\r\n              <div style=\"width: 110px; height: 110px; align-self: center;\">\r\n                <img\r\n                  :src=\"logoUrl\"\r\n                  alt=\"Logo\"\r\n                  style=\"width: 100px; height: 100px;\"\r\n                >\r\n              </div>\r\n              <div class=\"company-detail\">\r\n                <h1 style=\"margin-top: 0; margin-bottom: 5px;\">\r\n                  Invoice\r\n                </h1>\r\n                <h3\r\n                  class=\"my-5px\"\r\n                  style=\"line-height: 22px\"\r\n                >\r\n                  {{ tenantName }}\r\n                </h3>\r\n                <p\r\n                  class=\"my-5px\"\r\n                  style=\"line-height: 15px;\"\r\n                >\r\n                  {{ tenantAddress }}\r\n                </p>\r\n                <p class=\"my-5px\">\r\n                  {{ tenantPhone }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <hr class=\"header-divider\">\r\n            <div\r\n              class=\"d-flex justify-content-between\"\r\n              style=\"margin-top: 10px; margin-bottom: 10px\"\r\n            >\r\n              <table\r\n                class=\"header-detail\"\r\n                style=\"margin-right: 20px;\"\r\n              >\r\n                <tr>\r\n                  <td>Date</td>\r\n                  <td>:</td>\r\n                  <td>{{ invoice.date | dateFormat('DD MMMM YYYY') }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Invoice number</td>\r\n                  <td>:</td>\r\n                  <td>{{ invoice.form.number }}</td>\r\n                </tr>\r\n                <tr v-if=\"invoice.referenceableType === 'SalesDeliveryNote'\">\r\n                  <td>Sales order number</td>\r\n                  <td>:</td>\r\n                  <td>{{ invoice.salesDeliveryNote.deliveryOrder.salesOrder.form.number }}</td>\r\n                </tr>\r\n              </table>\r\n              <table\r\n                class=\"header-detail\"\r\n                style=\"margin-left: 20px;\"\r\n              >\r\n                <tr>\r\n                  <td>Customer</td>\r\n                  <td>:</td>\r\n                  <td>{{ invoice.customer.name || '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Address</td>\r\n                  <td>:</td>\r\n                  <td>{{ invoice.customer.address || '-' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Phone number</td>\r\n                  <td>:</td>\r\n                  <td>{{ invoice.customer.phone || '-' }}</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>\r\n            <table\r\n              class=\"table-items\"\r\n              style=\"width: 100%;\"\r\n            >\r\n              <thead>\r\n                <tr>\r\n                  <th>No</th>\r\n                  <th>Item</th>\r\n                  <th>Quantity</th>\r\n                  <th>Price</th>\r\n                  <th>Discount</th>\r\n                  <th>Total</th>\r\n                </tr>\r\n              </thead>\r\n              <tr\r\n                v-for=\"(row, index) in invoice.items\"\r\n                :key=\"index\"\r\n              >\r\n                <td>{{ index+1 }}</td>\r\n                <td>{{ row.itemName }}</td>\r\n                <td class=\"text-right\">\r\n                  {{ row.quantity | numberFormat }} {{ row.unit }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                  {{ row.price | numberFormat }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                  {{ row.discountValue | numberFormat }}\r\n                </td>\r\n                <td class=\"text-left\">\r\n                  {{ row.quantity * (row.price - row.discountValue) | numberFormat }}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td\r\n                  colspan=\"5\"\r\n                  class=\"text-right\"\r\n                >\r\n                  Sub total\r\n                </td>\r\n                <td>{{ $attrs.subtotal | numberFormat }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td\r\n                  colspan=\"5\"\r\n                  class=\"text-right\"\r\n                >\r\n                  Discount\r\n                </td>\r\n                <td>{{ invoice.discountValue | numberFormat }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td\r\n                  colspan=\"5\"\r\n                  class=\"text-right\"\r\n                >\r\n                  Tax base\r\n                </td>\r\n                <td>{{ invoice.amount - invoice.tax | numberFormat }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td\r\n                  colspan=\"5\"\r\n                  class=\"text-right\"\r\n                >\r\n                  Tax\r\n                </td>\r\n                <td>{{ invoice.tax | numberFormat }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td\r\n                  colspan=\"5\"\r\n                  class=\"text-right\"\r\n                >\r\n                  Total\r\n                </td>\r\n                <td>{{ invoice.amount | numberFormat }}</td>\r\n              </tr>\r\n            </table>\r\n            <span>Notes: {{ notes }}</span>\r\n            <div\r\n              class=\"d-flex justify-content-end\"\r\n              style=\"margin-top: 75px;\"\r\n            >\r\n              <div\r\n                class=\"text-center\"\r\n                style=\"margin-right: 75px;\"\r\n              >\r\n                <h3>Created by</h3>\r\n                <br><br><br>\r\n                {{ invoice.form.createdByUser.fullName }}\r\n              </div>\r\n              <div class=\"text-center\">\r\n                <h3>Approved by</h3>\r\n                <br><br><br>\r\n                {{ invoice.form.requestApprovalToUser.fullName }}\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot />\r\n    </table>\r\n    <div class=\"pull-right\">\r\n      <button\r\n        v-print=\"'print-sales-invoice'\"\r\n        type=\"button\"\r\n        class=\"btn btn-sm btn-outline-secondary mt-3\"\r\n      >\r\n        {{ $t('print') | uppercase }}\r\n      </button>\r\n    </div>\r\n  </sweet-modal>\r\n</template>\r\n\r\n<script>\r\nimport axiosNode from '@/axiosNode'\r\nimport print from 'vue-print-nb'\r\nexport default {\r\n  directives: {\r\n    print\r\n  },\r\n  props: {\r\n    invoice: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      onLoad: true,\r\n      logoUrl: '',\r\n      notes: ''\r\n    }\r\n  },\r\n  computed: {\r\n    tenantName () {\r\n      return localStorage.getItem('tenantName')\r\n    },\r\n    tenantAddress () {\r\n      let tenantAddress = localStorage.getItem('tenantAddress')\r\n      if (!tenantAddress || tenantAddress === 'null') {\r\n        tenantAddress = '-'\r\n      }\r\n\r\n      return tenantAddress\r\n    },\r\n    tenantPhone () {\r\n      let tenantPhone = localStorage.getItem('tenantPhone')\r\n      if (!tenantPhone || tenantPhone === 'null') {\r\n        tenantPhone = '-'\r\n      }\r\n\r\n      return tenantPhone\r\n    }\r\n  },\r\n  async created () {\r\n    this.onLoad = true\r\n    await Promise.all([\r\n      this.getSettingLogo(),\r\n      this.getSettingEndNote()\r\n    ])\r\n    this.onLoad = false\r\n  },\r\n  methods: {\r\n    clear () {\r\n      this.mutableId = null\r\n      this.mutableLabel = null\r\n      this.$emit('choosen', '')\r\n      this.close()\r\n    },\r\n    open () {\r\n      this.$refs['print-sales-invoice'].open()\r\n    },\r\n    close () {\r\n      this.$refs['select-' + this.id].close()\r\n    },\r\n    onClose () {\r\n      this.$emit('close', true)\r\n    },\r\n    async getSettingLogo () {\r\n      try {\r\n        const { data: { data: currentLogo } } = await axiosNode.get('/setting/logo')\r\n        this.logoUrl = currentLogo.publicUrl\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    },\r\n    async getSettingEndNote () {\r\n      try {\r\n        const { data: { data: endNote } } = await axiosNode.get('/setting/end-note')\r\n        this.notes = endNote.salesInvoice\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.print-sales-invoice-container {\r\n  width: 90%;\r\n  padding: 30px;\r\n}\r\n.d-flex {\r\n  display: flex;\r\n}\r\n.d-flex-row {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.btn-action {\r\n  padding: 10px;\r\n  text-decoration: none;\r\n  border-radius: 5px;\r\n  margin: 5px 10px;\r\n  width: 75px;\r\n  text-align: center;\r\n  color: white;\r\n  background-color: rgb(100, 100, 100);\r\n}\r\n.btn-action:hover {\r\n  filter: brightness(75%);\r\n}\r\n.btn-secondary {\r\n  background-color: rgb(100, 100, 100);\r\n}\r\n.text-right {\r\n  text-align: right;\r\n}\r\n.table-items {\r\n  border: solid 1px black;\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n}\r\ntable.table-items, .table-items th, .table-items td {\r\n  border: 1px solid black;\r\n  border-collapse: collapse;\r\n}\r\n.table-items th, .table-items td {\r\n  padding: 5px;\r\n}\r\n.btn-success {\r\n  background-color: rgb(39, 168, 39);\r\n}\r\n.btn-danger {\r\n  background-color: rgb(250, 68, 68);\r\n}\r\n.action-container {\r\n  margin-top: 10px;\r\n  padding: 5px;\r\n}\r\n.justify-content-between {\r\n  justify-content: space-between;\r\n}\r\n.my-5px {\r\n  margin: 5px 0 5px 0;\r\n}\r\n.company-detail {\r\n  min-width: 200px;\r\n  max-width: 250px;\r\n}\r\n.header-divider {\r\n  height:10px;\r\n  border:none;\r\n  color:gray;\r\n  background-color:gray;\r\n}\r\n@media print {\r\n  table.header-detail tr td {\r\n    line-height: 0.5px;\r\n  }\r\n  #print-sales-invoice thead tr td {\r\n    padding-top: 20px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintSalesInvoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintSalesInvoice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintSalesInvoice.vue?vue&type=template&id=08c0c888&scoped=true&\"\nimport script from \"./PrintSalesInvoice.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintSalesInvoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintSalesInvoice.vue?vue&type=style&index=0&id=08c0c888&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08c0c888\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <breadcrumb v-if=\"invoice\">\r\n      <breadcrumb-sales />\r\n      <router-link\r\n        to=\"/sales/invoice\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ $t('sales invoice') | uppercase }}\r\n      </router-link>\r\n      <span class=\"breadcrumb-item active\">{{ invoice.form.number | uppercase }}</span>\r\n    </breadcrumb>\r\n\r\n    <sales-menu />\r\n\r\n    <p-show-form-approval-status-custom\r\n      form-name=\"Sales Invoice\"\r\n      :is-loading=\"isLoading\"\r\n      :approved-by=\"invoice.form.requestApprovalToUser.fullName\"\r\n      :cancellation-status=\"invoice.form.cancellationStatus\"\r\n      :approval-status=\"invoice.form.approvalStatus\"\r\n      :approval-reason=\"invoice.form.approvalReason\"\r\n      @onApprove=\"onApprove\"\r\n      @onReject=\"onReject\"\r\n    />\r\n\r\n    <p-show-form-cancellation-status-custom\r\n      form-name=\"Sales Invoice\"\r\n      :is-loading=\"isLoading\"\r\n      :approved-by=\"invoice.form.requestApprovalToUser.fullName\"\r\n      :cancellation-status=\"invoice.form.cancellationStatus\"\r\n      :cancellation-approval-reason=\"invoice.form.cancellationApprovalReason\"\r\n      :request-cancellation-reason=\"invoice.form.requestCancellationReason\"\r\n      @onCancellationApprove=\"onCancellationApprove\"\r\n      @onCancellationReject=\"onCancellationReject\"\r\n    />\r\n\r\n    <div\r\n      v-if=\"invoice\"\r\n      class=\"row\"\r\n    >\r\n      <p-block>\r\n        <p-block-inner :is-loading=\"isLoading\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n              <div class=\"text-right\">\r\n                <button\r\n                  class=\"mr-3 btn btn-sm btn-outline-secondary mr-5\"\r\n                  title=\"Send sales invoice to customer\"\r\n                  @click=\"$refs['send-report-modal'].open()\"\r\n                >\r\n                  <i class=\"si si-paper-plane\" />\r\n                </button>\r\n                <button\r\n                  class=\"mr-3 btn btn-sm btn-outline-secondary mr-5\"\r\n                  title=\"Print sales invoice\"\r\n                  @click=\"() => $refs['print-invoice'].open()\"\r\n                >\r\n                  <i class=\"si si-printer\" />\r\n                </button>\r\n                <router-link\r\n                  :to=\"{ name: 'sales.invoice.create' }\"\r\n                  class=\"btn btn-sm btn-outline-secondary mr-5\"\r\n                >\r\n                  {{ $t('create') | uppercase }}\r\n                </router-link>\r\n                <router-link\r\n                  :to=\"{ name: 'sales.invoice.edit', params: { id: invoice.id }}\"\r\n                  class=\"btn btn-sm btn-outline-secondary mr-5\"\r\n                >\r\n                  {{ $t('edit') | uppercase }}\r\n                </router-link>\r\n                <button\r\n                  v-if=\"invoice.form.cancellationStatus == null || invoice.form.cancellationStatus == -1\"\r\n                  class=\"btn btn-sm btn-outline-secondary mr-5\"\r\n                  @click=\"$refs.formRequestDelete.open()\"\r\n                >\r\n                  {{ $t('delete') | uppercase }}\r\n                </button>\r\n                <m-form-request-delete\r\n                  ref=\"formRequestDelete\"\r\n                  @delete=\"onDelete($event)\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-6\">\r\n              <h4>{{ $t('sales invoice') | uppercase }}</h4>\r\n              <table class=\"table table-sm table-bordered\">\r\n                <tr>\r\n                  <td\r\n                    width=\"150px\"\r\n                    class=\"font-weight-bold\"\r\n                  >\r\n                    {{ $t('form number') | uppercase }}\r\n                  </td>\r\n                  <td>{{ invoice.form.number }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td class=\"font-weight-bold\">\r\n                    {{ $t('date') | uppercase }}\r\n                  </td>\r\n                  <td>{{ invoice.date | dateFormat('DD MMMM YYYY') }}</td>\r\n                </tr>\r\n                <tr v-if=\"invoice.referenceable\">\r\n                  <td class=\"font-weight-bold\">\r\n                    {{ $t('reference') | uppercase }}\r\n                  </td>\r\n                  <td>{{ invoice.referenceable.form.number }}</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-sm-6 text-right\">\r\n              <h6 class=\"mb-5\">\r\n                {{ authUser.tenant_name | uppercase }}\r\n              </h6>\r\n              <template v-if=\"invoice.form.branch\">\r\n                {{ invoice.form.branch.address | uppercase }}\r\n                <br v-if=\"invoice.form.branch.phone\">{{ invoice.form.branch.phone | uppercase }}\r\n              </template>\r\n              <h6 class=\"mt-30 mb-5\">\r\n                {{ $t('customer') | uppercase }}\r\n              </h6>\r\n              {{ invoice.customer.name | uppercase }}\r\n              <div style=\"font-size:12px\">\r\n                {{ invoice.customer.address | uppercase }}\r\n                <br v-if=\"invoice.customer.phone\">{{ invoice.customer.phone }}\r\n                <br v-if=\"invoice.customer.email\">{{ invoice.customer.email | uppercase }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <hr>\r\n          <point-table class=\"mt-20\">\r\n            <tr slot=\"p-head\">\r\n              <th class=\"text-center\">\r\n                #\r\n              </th>\r\n              <th>Item</th>\r\n              <th class=\"text-right\">\r\n                Quantity\r\n              </th>\r\n              <th class=\"text-right\">\r\n                Price\r\n              </th>\r\n              <th class=\"text-right\">\r\n                Discount\r\n              </th>\r\n              <th class=\"text-right\">\r\n                Total\r\n              </th>\r\n              <th>Allocation</th>\r\n            </tr>\r\n            <template v-for=\"(row, index) in invoice.items\">\r\n              <tr\r\n                slot=\"p-body\"\r\n                :key=\"index\"\r\n              >\r\n                <th class=\"text-center\">\r\n                  {{ index + 1 }}\r\n                </th>\r\n                <td>{{ row.itemName }}</td>\r\n                <td class=\"text-right\">\r\n                  {{ row.quantity | numberFormat }} {{ row.unit }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                  {{ row.price | numberFormat }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                  {{ row.discountValue | numberFormat }}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                  {{ row.quantity * (row.price - row.discountValue) | numberFormat }}\r\n                </td>\r\n                <td>{{ row.allocation && row.allocation.name }}</td>\r\n              </tr>\r\n            </template>\r\n            <tr slot=\"p-body\">\r\n              <th />\r\n              <td />\r\n              <td />\r\n              <td />\r\n              <td class=\"text-right\">\r\n                <b>{{ $t('subtotal') | uppercase }}</b>\r\n              </td>\r\n              <td class=\"text-right\">\r\n                <b>{{ invoiceSubtotal | numberFormat }}</b>\r\n              </td>\r\n              <td />\r\n            </tr>\r\n            <tr slot=\"p-body\">\r\n              <th />\r\n              <td />\r\n              <td />\r\n              <td />\r\n              <td class=\"text-right\">\r\n                <b>{{ $t('discount') | uppercase }}</b>\r\n              </td>\r\n              <td class=\"text-right\">\r\n                <b>{{ invoice.discountValue | numberFormat }}</b>\r\n              </td>\r\n              <td />\r\n            </tr>\r\n            <tr slot=\"p-body\">\r\n              <th />\r\n              <td />\r\n              <td />\r\n              <td />\r\n              <td class=\"text-right\">\r\n                <b>{{ $t('tax base') | uppercase }}</b>\r\n              </td>\r\n              <td class=\"text-right\">\r\n                <b>{{ invoiceSubtotal - invoice.discountValue | numberFormat }}</b>\r\n              </td>\r\n              <td />\r\n            </tr>\r\n            <tr slot=\"p-body\">\r\n              <th />\r\n              <td />\r\n              <td />\r\n              <td />\r\n              <td class=\"text-right\">\r\n                <b>{{ $t('tax') | uppercase }}</b>\r\n              </td>\r\n              <td class=\"text-right\">\r\n                <b>{{ invoice.tax | numberFormat }}</b>\r\n              </td>\r\n              <td />\r\n            </tr>\r\n            <tr slot=\"p-body\">\r\n              <th />\r\n              <td />\r\n              <td />\r\n              <td />\r\n              <td class=\"text-right\">\r\n                <b>{{ $t('total') | uppercase }}</b>\r\n              </td>\r\n              <td class=\"text-right\">\r\n                <b>{{ invoice.amount | numberFormat }}</b>\r\n              </td>\r\n              <td />\r\n            </tr>\r\n          </point-table>\r\n          <div class=\"row mt-50\">\r\n            <div class=\"col-sm-6\">\r\n              <h6 class=\"mb-0\">\r\n                {{ $t('notes') | uppercase }}\r\n              </h6>\r\n              <div style=\"white-space: pre-wrap;\">\r\n                {{ invoice.form.notes }}\r\n              </div>\r\n              <div class=\"d-sm-block d-md-none mt-10\" />\r\n            </div>\r\n            <div class=\"col-sm-3 text-center\">\r\n              <h6 class=\"mb-0\">\r\n                {{ $t('requested by') | uppercase }}\r\n              </h6>\r\n              <div\r\n                class=\"mb-50\"\r\n                style=\"font-size:11px\"\r\n              >\r\n                {{ invoice.form.date | dateFormat('DD MMMM YYYY') }}\r\n              </div>\r\n              {{ invoice.form.createdByUser.fullName | uppercase }}\r\n              <div class=\"d-sm-block d-md-none mt-10\" />\r\n            </div>\r\n            <div class=\"col-sm-3 text-center\">\r\n              <h6 class=\"mb-0\">\r\n                {{ $t('approved by') | uppercase }}\r\n              </h6>\r\n              <div\r\n                class=\"mb-50\"\r\n                style=\"font-size:11px\"\r\n              >\r\n                <template v-if=\"invoice.form.approvalAt\">\r\n                  {{ invoice.form.approvalAt | dateFormat('DD MMMM YYYY') }}\r\n                </template>\r\n                <template v-else>\r\n                  _______________\r\n                </template>\r\n              </div>\r\n              {{ invoice.form.requestApprovalToUser.fullName | uppercase }}\r\n              <div style=\"font-size:11px\">\r\n                {{ invoice.form.requestApprovalToUser.email | lowercase }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </p-block-inner>\r\n      </p-block>\r\n    </div>\r\n\r\n    <m-form-request-delete\r\n      ref=\"formRequestDelete\"\r\n      @delete=\"onDelete($event)\"\r\n    />\r\n\r\n    <sweet-modal\r\n      ref=\"send-report-modal\"\r\n      :title=\"$t('send invoice') | uppercase\"\r\n      overlay-theme=\"dark\"\r\n    >\r\n      <form @submit.prevent=\"sendInvoice\">\r\n        <p-form-row\r\n          id=\"send-invoice-email\"\r\n          ref=\"send-invoice-email\"\r\n          v-model=\"sendInvoiceData.email\"\r\n          type=\"email\"\r\n          required\r\n          :disabled=\"!!invoice.customer.email\"\r\n          :label=\"$t('email') | uppercase\"\r\n          :is-horizontal=\"false\"\r\n        />\r\n        <div class=\"form-group\">\r\n          <label\r\n            class=\"col-form-label\"\r\n            for=\"send-invoice-message\"\r\n          >{{ 'Message' | uppercase }}</label>\r\n          <div>\r\n            <textarea\r\n              id=\"send-invoice-message\"\r\n              v-model=\"sendInvoiceData.message\"\r\n              class=\"form-control\"\r\n              name=\"send-invoice-message\"\r\n              cols=\"30\"\r\n              rows=\"10\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"pull-right\">\r\n          <button\r\n            type=\"submit\"\r\n            class=\"btn btn-primary\"\r\n          >\r\n            Send\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </sweet-modal>\r\n\r\n    <print-sales-invoice\r\n      ref=\"print-invoice\"\r\n      :invoice=\"invoice\"\r\n      :subtotal=\"invoiceSubtotal\"\r\n      :tax-base=\"tax\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SalesMenu from '../Menu'\r\nimport Breadcrumb from '@/views/Breadcrumb'\r\nimport BreadcrumbSales from '../Breadcrumb'\r\nimport PointTable from 'point-table-vue'\r\nimport PrintSalesInvoice from './PrintSalesInvoice'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    SalesMenu,\r\n    Breadcrumb,\r\n    BreadcrumbSales,\r\n    PointTable,\r\n    PrintSalesInvoice\r\n  },\r\n  data () {\r\n    return {\r\n      id: this.$route.params.id,\r\n      isLoading: false,\r\n      isDeleting: false,\r\n      sendInvoiceData: {\r\n        email: '',\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('salesInvoice', ['invoice']),\r\n    ...mapGetters('auth', ['authUser']),\r\n    invoiceSubtotal () {\r\n      var subtotal = 0\r\n      this.invoice.items.forEach(function (element) {\r\n        if (element.discountPercent > 0) {\r\n          element.total = element.quantity * (element.price - (element.price * element.discountPercent / 100))\r\n        } else if (element.discountValue > 0) {\r\n          element.total = element.quantity * (element.price - element.discountValue)\r\n        } else {\r\n          element.total = element.quantity * element.price\r\n        }\r\n        subtotal += parseFloat(element.total)\r\n      })\r\n      return subtotal\r\n    }\r\n  },\r\n  watch: {\r\n    '$route' (to, from) {\r\n      if (to.params.id != from.params.id) {\r\n        this.id = to.params.id\r\n        this.salesInvoiceRequest()\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.salesInvoiceRequest()\r\n  },\r\n  methods: {\r\n    ...mapActions('salesInvoice', {\r\n      find: 'find',\r\n      delete: 'delete',\r\n      approve: 'approve',\r\n      reject: 'reject',\r\n      cancellationApprove: 'cancellationApprove',\r\n      cancellationReject: 'cancellationReject',\r\n      sendReport: 'sendReport'\r\n    }),\r\n    salesInvoiceRequest () {\r\n      this.isLoading = true\r\n      this.find({\r\n        id: this.id,\r\n        params: {\r\n          with_archives: true,\r\n          with_origin: true,\r\n          includes: 'customer;' +\r\n            'items.item;' +\r\n            'items.allocation;' +\r\n            'salesQuotation.form;' +\r\n            'form.createdBy;' +\r\n            'form.requestApprovalTo;' +\r\n            'form.branch'\r\n        }\r\n      }).then(response => {\r\n        this.sendInvoiceData.email = this.invoice.customer.email\r\n      }).catch(error => {\r\n        this.$notification.error(error.message)\r\n      }).finally(() => {\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    onDelete (reason) {\r\n      this.isDeleting = true\r\n      this.delete({\r\n        id: this.id,\r\n        data: {\r\n          reason: reason || null\r\n        }\r\n      }).then(response => {\r\n        this.isDeleting = false\r\n        this.$notification.success('cancel success')\r\n        this.salesInvoiceRequest()\r\n      }).catch(error => {\r\n        this.isDeleting = false\r\n        this.$notification.error(error.message)\r\n        this.form.errors.record(error.errors)\r\n      })\r\n    },\r\n    onApprove () {\r\n      this.approve({\r\n        id: this.id\r\n      }).then(response => {\r\n        this.$notification.success('approve success')\r\n        this.salesInvoiceRequest()\r\n      }).catch(error => {\r\n        // console.log(error)\r\n        this.$notification.error('Something error when approving the invoice creation')\r\n      })\r\n    },\r\n    onReject (reason) {\r\n      this.reject({\r\n        id: this.id,\r\n        reason: reason\r\n      }).then(response => {\r\n        this.$notification.success('reject success')\r\n        this.salesInvoiceRequest()\r\n      }).catch(error => {\r\n        // console.log(error)\r\n        this.$notification.error('Something error when rejecting the invoice creation')\r\n      })\r\n    },\r\n    onCancellationApprove () {\r\n      this.cancellationApprove({\r\n        id: this.id\r\n      }).then(response => {\r\n        this.$notification.success('cancellation approved')\r\n        this.$router.push('/sales/invoice')\r\n      }).catch(error => {\r\n        // console.log(error)\r\n        this.$notification.error('Something error when approving the invoice cancellation')\r\n      })\r\n    },\r\n    onCancellationReject (reason) {\r\n      this.cancellationReject({\r\n        id: this.id,\r\n        reason: reason\r\n      }).then(response => {\r\n        this.$notification.success('cancellation rejected')\r\n        this.salesInvoiceRequest()\r\n      }).catch(error => {\r\n        // console.log(error)\r\n        this.$notification.error('Something error when rejecting the invoice cancellation')\r\n      })\r\n    },\r\n    async sendInvoice () {\r\n      const { email, message } = this.sendInvoiceData\r\n      try {\r\n        await this.sendReport({\r\n          id: this.id,\r\n          email,\r\n          message\r\n        })\r\n\r\n        this.sendInvoiceData.email = this.invoice.customer.email || ''\r\n        this.sendInvoiceData.message = ''\r\n        this.$refs['send-report-modal'].close()\r\n        this.$notification.success('sales invoice sent')\r\n      } catch (error) {\r\n        // console.log(error)\r\n        this.$notification.error('Something error when sending the invoice')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=25467ac5&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}