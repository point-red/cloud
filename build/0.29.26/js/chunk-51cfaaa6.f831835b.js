(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51cfaaa6"],{"208e":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/sales"}},[t._v(" "+t._s(t._f("uppercase")(t.$t("sales")))+" ")])},o=[],r=s("2877"),l={},n=Object(r["a"])(l,a,o,!1,null,null,null);e["a"]=n.exports},ff9a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[t.salesPaymentCollection?e("breadcrumb",[e("breadcrumb-sales"),e("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/sales/payment-collection"}},[t._v(" "+t._s(t._f("uppercase")(t.$t("sales payment collection")))+" ")]),e("span",{staticClass:"breadcrumb-item active"},[t._v(t._s(t._f("uppercase")(t.salesPaymentCollection.form.number)))])],1):t._e(),e("sales-menu"),t.salesPaymentCollection?e("div",{staticClass:"row"},[e("p-block",[e("p-block-inner",{attrs:{"is-loading":t.isLoading}},[e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("h4",[t._v(t._s(t._f("uppercase")(t.$t("sales payment collection"))))]),e("table",{staticClass:"table table-sm table-bordered"},[e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t._f("uppercase")(t.$t("date")))+" ")]),e("td",[t._v(t._s(t._f("dateFormat")(t.date,"DD MMMM YYYY")))])]),e("tr",[e("td",{staticClass:"font-weight-bold",attrs:{width:"150px"}},[t._v(" "+t._s(t._f("uppercase")(t.$t("form number")))+" ")]),e("td",[t._v(t._s(t.number))])]),t.payment_type?e("tr",[e("td",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t._f("uppercase")(t.$t("payment method")))+" ")]),e("td",[t._v(t._s(t._f("uppercase")(t.payment_type)))])]):t._e()])]),e("div",{staticClass:"col-sm-6 text-right"},[e("h6",{staticClass:"mb-5"},[t._v(" "+t._s(t._f("uppercase")(t.authUser.tenant_name))+" ")]),t.salesPaymentCollection.form.branch?[t._v(" "+t._s(t._f("uppercase")(t.salesPaymentCollection.form.branch.address))+" "),t.salesPaymentCollection.form.branch.phone?e("br"):t._e(),t._v(t._s(t._f("uppercase")(t.salesPaymentCollection.form.branch.phone))+" ")]:t._e(),e("h6",{staticClass:"mt-30 mb-5"},[t._v(" "+t._s(t._f("uppercase")(t.$t("customer")))+" ")]),t._v(" "+t._s(t._f("uppercase")(t.salesPaymentCollection.customer_name))+" "),e("div",{staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t._f("uppercase")(t.salesPaymentCollection.customer.customer_address))+" "),t.salesPaymentCollection.customer.customer_phone?e("br"):t._e(),t._v(t._s(t.salesPaymentCollection.customer.customer_phone)+" "),t.salesPaymentCollection.customer.customer_email?e("br"):t._e(),t._v(t._s(t._f("uppercase")(t.salesPaymentCollection.customer.customer_email))+" ")])],2)]),e("hr"),t.details.salesInvoice.length>0?e("div",[e("h5",[t._v(t._s(t._f("uppercase")(t.$t("invoice collection"))))]),e("point-table",[e("tr",{attrs:{slot:"p-head"},slot:"p-head"},[e("th",{staticClass:"text-center"},[t._v(" # ")]),e("th",{attrs:{width:"20%"}},[t._v(" Date ")]),e("th",{attrs:{width:"20%"}},[t._v(" Form Number ")]),e("th",{attrs:{width:"15%"}},[t._v(" Notes ")]),e("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v(" Available Invoice ")]),e("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v(" Invoice ")])]),t._l(t.details.salesInvoice,(function(s,a){return[e("tr",{key:a,attrs:{slot:"p-body"},slot:"p-body"},[e("th",{staticClass:"text-center"},[t._v(" "+t._s(a+1)+" ")]),e("td",[t._v(t._s(t._f("dateFormat")(s.referenceable_form_date,"DD MMMM YYYY")))]),e("td",[t._v(t._s(s.referenceable_form_number))]),e("td",[t._v(t._s(s.referenceable_form_notes))]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(s.available))+" ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(s.amount))+" ")])])]}))],2)],1):t._e(),t.details.salesDownPayment.length>0?e("div",[e("h5",[t._v(t._s(t._f("uppercase")(t.$t("down payment collection"))))]),e("point-table",[e("tr",{attrs:{slot:"p-head"},slot:"p-head"},[e("th",{staticClass:"text-center"},[t._v(" # ")]),e("th",{attrs:{width:"20%"}},[t._v(" Date ")]),e("th",{attrs:{width:"20%"}},[t._v(" Form Number ")]),e("th",{attrs:{width:"15%"}},[t._v(" Notes ")]),e("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v(" Available Down Payment ")]),e("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v(" Down Payment ")])]),t._l(t.details.salesDownPayment,(function(s,a){return[e("tr",{key:a,attrs:{slot:"p-body"},slot:"p-body"},[e("th",{staticClass:"text-center"},[t._v(" "+t._s(a+1)+" ")]),e("td",[t._v(t._s(t._f("dateFormat")(s.referenceable_form_date,"DD MMMM YYYY")))]),e("td",[t._v(t._s(s.referenceable_form_number))]),e("td",[t._v(t._s(s.referenceable_form_notes))]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(s.available))+" ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(s.amount))+" ")])])]}))],2)],1):t._e(),t.details.salesReturn.length>0?e("div",[e("h5",[t._v(t._s(t._f("uppercase")(t.$t("return collection"))))]),e("point-table",[e("tr",{attrs:{slot:"p-head"},slot:"p-head"},[e("th",{staticClass:"text-center"},[t._v(" # ")]),e("th",{attrs:{width:"20%"}},[t._v(" Date ")]),e("th",{attrs:{width:"20%"}},[t._v(" Form Number ")]),e("th",{attrs:{width:"15%"}},[t._v(" Notes ")]),e("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v(" Available Return ")]),e("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v(" Return ")])]),t._l(t.details.salesReturn,(function(s,a){return[e("tr",{key:a,attrs:{slot:"p-body"},slot:"p-body"},[e("th",{staticClass:"text-center"},[t._v(" "+t._s(a+1)+" ")]),e("td",[t._v(t._s(t._f("dateFormat")(s.referenceable_form_date,"DD MMMM YYYY")))]),e("td",[t._v(t._s(s.referenceable_form_number))]),e("td",[t._v(t._s(s.referenceable_form_notes))]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(s.available))+" ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(s.amount))+" ")])])]}))],2)],1):t._e(),t.details.other.length>0?e("div",[e("h5",[t._v(t._s(t._f("uppercase")(t.$t("other collection"))))]),e("point-table",[e("tr",{attrs:{slot:"p-head"},slot:"p-head"},[e("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v(" # ")]),e("th",{attrs:{width:"40%"}},[t._v(" Account ")]),e("th",{attrs:{width:"15%"}},[t._v(" Notes ")]),e("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v(" Amount ")]),e("th",{attrs:{width:"20%"}},[t._v(" Allocation ")])]),t._l(t.details.other,(function(s,a){return[e("tr",{key:a,attrs:{slot:"p-body"},slot:"p-body"},[e("th",{staticClass:"text-center"},[t._v(" "+t._s(a+1)+" ")]),e("td",[t._v(t._s(s.chart_of_account_name))]),e("td",[t._v(t._s(s.notes)+" ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(s.amount))+" ")]),e("td",[t._v(" "+t._s(s.allocation_name)+" ")])])]}))],2)],1):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-7"}),e("div",{staticClass:"col-sm-5"},[e("point-table",[e("tr",{attrs:{slot:"p-body"},slot:"p-body"},[e("td",[t._v("Total Invoice")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(t.total_invoice))+" ")])]),e("tr",{attrs:{slot:"p-body"},slot:"p-body"},[e("td",[t._v("Total Down Payment")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(t.total_down_payment))+" ")])]),e("tr",{attrs:{slot:"p-body"},slot:"p-body"},[e("td",[t._v("Total Return")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(t.total_return))+" ")])]),e("tr",{attrs:{slot:"p-body"},slot:"p-body"},[e("td",[t._v("Total Other")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(t.total_other))+" ")])]),e("tr",{attrs:{slot:"p-body"},slot:"p-body"},[e("td",[t._v("Total Amount")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("numberFormat")(t.amount))+" ")])])])],1)]),e("div",{staticClass:"row mt-50"},[e("div",{staticClass:"col-sm-6"},[e("h6",{staticClass:"mb-0"},[t._v(" "+t._s(t._f("uppercase")(t.$t("notes")))+" ")]),e("div",{staticStyle:{"white-space":"pre-wrap"}},[t._v(" "+t._s(t.notes)+" ")]),e("div",{staticClass:"d-sm-block d-md-none mt-10"})]),e("div",{staticClass:"col-sm-3 text-center"},[e("h6",{staticClass:"mb-0"},[t._v(" "+t._s(t._f("uppercase")(t.$t("created by")))+" ")]),e("div",{staticClass:"mb-50",staticStyle:{"font-size":"11px"}},[t._v(" "+t._s(t._f("dateFormat")(t.date,"DD MMMM YYYY"))+" ")]),t._v(" "+t._s(t._f("uppercase")(t.requestedBy))+" "),e("div",{staticClass:"d-sm-block d-md-none mt-10"})]),e("div",{staticClass:"col-sm-3 text-center"},[e("h6",{staticClass:"mb-0"},[t._v(" "+t._s(t._f("uppercase")(t.$t("approved by")))+" ")]),e("div",{staticClass:"mb-50",staticStyle:{"font-size":"11px"}},[t._v(" Â  ")]),t._v(" "+t._s(t._f("uppercase")(t.approver_name))+" ")]),e("div",{staticClass:"col-sm-12"},[e("hr"),e("button",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[t._v(" "+t._s(t._f("uppercase")(t.$t("back")))+" ")])])])])],1)],1):t._e(),e("m-form-request-delete",{ref:"formRequestDelete",on:{delete:function(e){return t.onDelete(e)}}})],1)},o=[],r=s("5530"),l=(s("d3b7"),s("159b"),s("14d9"),s("bea4")),n=s("5ae6"),i=s("208e"),_=s("feee"),c=s("2f62"),m={components:{SalesMenu:l["a"],Breadcrumb:n["a"],BreadcrumbSales:i["a"],PointTable:_["a"]},data:function(){return{id:this.$route.params.id,isLoading:!1,isDeleting:!1,total_invoice:0,total_down_payment:0,total_return:0,total_other:0,total_amount:0,source:null,requestedBy:localStorage.getItem("fullName"),approver_name:null,payment_type:null,date:null,number:null,notes:null,amount:0,details:{salesInvoice:[],salesDownPayment:[],salesReturn:[],other:[]}}},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])("salesPaymentCollection",["salesPaymentCollection"])),Object(c["c"])("auth",["authUser"])),mounted:function(){this.source=this.$route.params.source},created:function(){this.getDataFromStorage()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])("salesPaymentCollection",{generateFormNumber:"generateFormNumber"})),{},{getDataFromStorage:function(){var t=this;this.isLoading=!0,console.log(this.source);var e=JSON.parse(localStorage.getItem("paymentCollectionData"));e&&(this.total_invoice=e.form.total_invoice,this.total_down_payment=e.form.total_down_payment,this.total_return=e.form.total_return,this.total_other=e.form.total_other,this.total_amount=e.form.total_amount,this.approver_name=e.form.approver_name,this.payment_type=e.form.payment_type,this.date=e.form.date,this.notes=e.form.notes,this.amount=e.form.amount,this.number=e.form.number,e.form.details.forEach((function(e){"SalesInvoice"===e.referenceable_type?t.details.salesInvoice.push(e):"SalesDownPayment"===e.referenceable_type?t.details.salesDownPayment.push(e):"SalesReturn"===e.referenceable_type&&t.details.salesReturn.push(e)})),e.form.others.length>0&&e.form.others[0].chart_of_account_id&&(this.details.other=e.form.others),e.form.increment_group=this.$moment(e.form.date).format("YYYYMM")),"edit"!=this.source?this.generateFormNumber(e.form).then((function(e){t.number=e.data.number})).catch((function(e){t.$notification.error(e.message)})).finally((function(){t.isLoading=!1})):this.isLoading=!1},back:function(){"edit"===this.source?this.$router.push("/sales/payment-collection/"+this.id+"/edit"):this.$router.push("/sales/payment-collection/create")}})},d=m,u=s("2877"),h=Object(u["a"])(d,a,o,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-51cfaaa6.f831835b.js.map