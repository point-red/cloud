(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51cd9a81"],{"208e":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/sales"}},[t._v(" "+t._s(t._f("uppercase")(t.$t("sales")))+" ")])},a=[],i=s("2877"),c={},o=Object(i["a"])(c,r,a,!1,null,null,null);e["a"]=o.exports},c5c4:function(t,e,s){"use strict";s.r(e);s("b0c0");var r=function(){var t=this,e=t._self._c;return e("div",[e("breadcrumb",[e("breadcrumb-sales"),e("router-link",{staticClass:"breadcrumb-item",attrs:{to:{name:"sales.order.index"}}},[t._v(" "+t._s(t._f("uppercase")(t.$t("sales order")))+" ")]),e("router-link",{staticClass:"breadcrumb-item",attrs:{to:{name:"sales.order.show",params:{id:t.id}}}},[t._v(" "+t._s(t._f("uppercase")(t.deliveryOrderHistories[0]?t.deliveryOrderHistories[0].number:""))+" ")]),e("span",{staticClass:"breadcrumb-item active"},[t._v(t._s(t._f("uppercase")(t.$t("histories"))))])],1),e("sales-menu"),e("div",{staticClass:"row"},[e("p-block",[e("div",{staticClass:"input-group block"},[t.$permission.has("create sales delivery order")?e("router-link",{staticClass:"input-group-prepend",attrs:{to:"/sales/delivery-order/create"}},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fa fa-plus"})])]):t._e(),e("p-form-input",{ref:"searchText",staticClass:"btn-block",attrs:{id:"search-text",name:"search-text",placeholder:"Search",value:t.searchText},on:{input:t.filterSearch}})],1),e("hr"),e("p-block-inner",{attrs:{"is-loading":t.isLoading}},[e("point-table",[e("tr",{attrs:{slot:"p-head"},slot:"p-head"},[e("th",{staticClass:"text-center"},[t._v(" No ")]),e("th",{staticClass:"text-center"},[t._v(" Date ")]),e("th",{staticClass:"text-center"},[t._v(" Form Number ")]),e("th",{staticClass:"text-center"},[t._v(" User ")]),e("th",{staticClass:"text-center"},[t._v(" Activity ")])]),t._l(t.deliveryOrderHistories,(function(s,r){return[e("tr",{key:r,attrs:{slot:"p-body"},slot:"p-body"},[e("td",{staticClass:"text-center"},[t._v(" "+t._s(r+1)+" ")]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(t._f("dateFormat")(s.date,"DD MMMM YYYY HH:mm"))+" ")]),e("th",{staticClass:"text-center"},[e("router-link",{attrs:{to:{name:"sales.delivery-order.show",params:{id:s.formable_id}}}},[t._v(" "+t._s(s.number)+" ")])],1),e("td",{staticClass:"text-center"},[t._v(" "+t._s(s.user.name)+" ")]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(s.activity)+" ")])])]}))],2)],1),e("p-pagination",{attrs:{"current-page":t.currentPage,"last-page":t.lastPage},on:{updatePage:t.updatePage}})],1)],1)],1)},a=[],i=s("5530"),c=(s("ac1f"),s("841c"),s("14d9"),s("d3b7"),s("bea4")),o=s("5ae6"),n=s("208e"),u=s("b047"),d=s.n(u),l=s("feee"),h=s("2f62"),p={components:{SalesMenu:c["a"],Breadcrumb:o["a"],BreadcrumbSales:n["a"],PointTable:l["a"]},data:function(){return{id:this.$route.params.id,isLoading:!0,searchText:this.$route.query.search,currentPage:1*this.$route.query.page||1,lastPage:1,limit:10,isAdvanceFilter:!1,checkedRow:[],date:{start:this.$route.query.date_from?this.$moment(this.$route.query.date_from).format("YYYY-MM-DD 00:00:00"):this.$moment().format("YYYY-MM-01 00:00:00"),end:this.$route.query.date_to?this.$moment(this.$route.query.date_to).format("YYYY-MM-DD 23:59:59"):this.$moment().format("YYYY-MM-DD 23:59:59")}}},computed:Object(i["a"])({},Object(h["c"])("salesDeliveryOrderHistory",["deliveryOrderHistories","pagination"])),watch:{date:{handler:function(){this.$router.push({query:Object(i["a"])(Object(i["a"])({},this.$route.query),{},{date_from:this.date.start,date_to:this.date.end})}),this.getDeliveryOrderHistories()},deep:!0}},created:function(){this.$router.push({query:Object(i["a"])(Object(i["a"])({},this.$route.query),{},{date_from:this.date.start,date_to:this.date.end})}),this.getDeliveryOrderHistories()},updated:function(){this.lastPage=this.pagination.last_page},methods:Object(i["a"])(Object(i["a"])({},Object(h["b"])("salesDeliveryOrderHistory",["get"])),{},{filterSearch:d()((function(t){this.$router.push({query:Object(i["a"])(Object(i["a"])({},this.$route.query),{},{search:t})}),this.searchText=t,this.currentPage=1,this.getDeliveryOrderHistories()}),300),getDeliveryOrderHistories:function(){var t=this;this.isLoading=!0,this.get({id:this.id,params:{sort_by:"-user_activities.date",includes:"user",filter_like:{"form.number":this.searchText,"user_activities.activity":this.searchText},or_filter_where_has_like:[{user:{name:this.searchText}}],limit:10,page:this.currentPage}}).catch((function(e){t.$notification.error(e.message)})).finally((function(){t.isLoading=!1}))},updatePage:function(t){this.currentPage=t,this.getDeliveryOrderHistories()}})},m=p,_=s("2877"),b=Object(_["a"])(m,r,a,!1,null,"17c070d7",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-51cd9a81.db028d9b.js.map