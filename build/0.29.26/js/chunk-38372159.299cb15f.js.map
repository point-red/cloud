{"version":3,"sources":["webpack:///./src/views/purchase/Menu.vue","webpack:///src/views/purchase/Menu.vue","webpack:///./src/views/purchase/Menu.vue?b220","webpack:///./src/views/purchase/Menu.vue?07cf","webpack:///./src/views/purchase/request/Edit.vue","webpack:///src/views/purchase/request/Edit.vue","webpack:///./src/views/purchase/request/Edit.vue?1950","webpack:///./src/views/purchase/request/Edit.vue?b5ad","webpack:///./src/views/purchase/Breadcrumb.vue","webpack:///./src/views/purchase/Breadcrumb.vue?f3d8"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","class","isMatch","attrs","_v","_s","_f","$t","staticRenderFns","data","path","methods","component","name","params","id","purchaseRequest","form","number","on","$event","preventDefault","onSubmit","apply","arguments","isLoading","errors","get","set","model","value","required_date","callback","$$v","$set","expression","authUser","tenant_name","branch","address","_e","phone","slot","toggleMore","_l","items","row","index","key","$refs","item","open","item_name","item_id","notes","units","unit","label","converter","chooseUnit","quantity","isSaving","more","allocation","allocation_name","directives","rawName","domProps","target","composing","date","requestedBy","approver_name","chooseApprover","request_approval_to","approver_email","ref","chooseItem","chooseAllocation","components","Breadcrumb","BreadcrumbPurchase","PointTable","PurchaseMenu","totalPrice","computed","mapGetters","created","join","fields","includes","response","price","allocation_id","mapActions","addItemRow","isNeedNewRow","element","then","json","script"],"mappings":"kHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,qBAAqBC,YAAY,CAAC,aAAa,SAAS,CAACH,EAAG,cAAc,CAACE,YAAY,iBAAiBE,MAAM,CAAC,iBAAkBN,EAAIO,QAAQ,sBAAsBC,MAAM,CAAC,GAAK,oBAAoB,eAAe,gBAAgB,CAACN,EAAG,OAAO,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,2BAA2BV,EAAG,cAAc,CAACE,YAAY,iBAAiBE,MAAM,CAAC,iBAAkBN,EAAIO,QAAQ,oBAAoBC,MAAM,CAAC,GAAK,kBAAkB,eAAe,gBAAgB,CAACN,EAAG,OAAO,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,yBAAyBV,EAAG,cAAc,CAACE,YAAY,iBAAiBE,MAAM,CAAC,iBAAkBN,EAAIO,QAAQ,2BAA2BC,MAAM,CAAC,GAAK,yBAAyB,eAAe,gBAAgB,CAACN,EAAG,OAAO,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,uBAAuBV,EAAG,cAAc,CAACE,YAAY,iBAAiBE,MAAM,CAAC,iBAAkBN,EAAIO,QAAQ,sBAAsBC,MAAM,CAAC,GAAK,oBAAoB,eAAe,gBAAgB,CAACN,EAAG,OAAO,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,2BAA2BV,EAAG,cAAc,CAACE,YAAY,iBAAiBE,MAAM,CAAC,iBAAkBN,EAAIO,QAAQ,sBAAsBC,MAAM,CAAC,GAAK,oBAAoB,eAAe,gBAAgB,CAACN,EAAG,OAAO,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,2BAA2BV,EAAG,cAAc,CAACE,YAAY,iBAAiBE,MAAM,CAAC,iBAAkBN,EAAIO,QAAQ,4BAA4BC,MAAM,CAAC,GAAK,0BAA0B,eAAe,gBAAgB,CAACN,EAAG,OAAO,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,yBAAyB,IAE9mDC,EAAkB,GC8DP,GACfC,gBACA,OACAC,wBAGAC,SACAT,oBACA,6CCxE6V,I,YCOzVU,EAAY,eACd,EACAlB,EACAc,GACA,EACA,KACA,KACA,MAIa,OAAAI,E,oDClBf,IAAIlB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,aAAa,CAACA,EAAG,uBAAuBA,EAAG,cAAc,CAACE,YAAY,kBAAkBI,MAAM,CAAC,GAAK,CAAEU,KAAM,4BAA6B,CAAClB,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,sBAAsB,OAAOV,EAAG,cAAc,CAACE,YAAY,kBAAkBI,MAAM,CAAC,GAAK,CAAEU,KAAM,wBAAyBC,OAAQ,CAAEC,GAAIpB,EAAIoB,OAAQ,CAACpB,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIqB,gBAAgBC,KAAKC,SAAS,OAAOrB,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,cAAc,GAAGV,EAAG,iBAAiBA,EAAG,OAAO,CAACsB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwB1B,EAAI2B,SAASC,MAAM,KAAMC,cAAc,CAAC3B,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,UAAU,CAACM,MAAM,CAAC,QAAS,IAAQ,CAACN,EAAG,gBAAgB,CAACM,MAAM,CAAC,aAAaR,EAAI8B,YAAY,CAAC5B,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,yBAAyBV,EAAG,QAAQ,CAACE,YAAY,iCAAiC,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,mBAAmBI,MAAM,CAAC,MAAQ,UAAU,CAACR,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,iBAAiB,OAAOV,EAAG,KAAK,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAIqB,gBAAgBC,KAAKC,aAAarB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,mBAAmB,OAAOV,EAAG,KAAK,CAACA,EAAG,gBAAgB,CAACM,MAAM,CAAC,GAAK,gBAAgB,KAAO,gBAAgB,MAAQR,EAAIY,GAAG,iBAAiB,OAASZ,EAAIsB,KAAKS,OAAOC,IAAI,kBAAkBR,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOzB,EAAIsB,KAAKS,OAAOE,IAAI,gBAAiB,QAAQC,MAAM,CAACC,MAAOnC,EAAIsB,KAAKc,cAAeC,SAAS,SAAUC,GAAMtC,EAAIuC,KAAKvC,EAAIsB,KAAM,gBAAiBgB,IAAME,WAAW,yBAAyB,SAAStC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIyC,SAASC,cAAc,OAAQ1C,EAAIsB,KAAKqB,OAAQ,CAAC3C,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIsB,KAAKqB,OAAOC,WAAY5C,EAAIsB,KAAKqB,OAAOC,QAAS1C,EAAG,MAAMF,EAAI6C,KAAK7C,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIsB,KAAKqB,OAAOG,SAAU9C,EAAIsB,KAAKqB,OAAOG,MAAO5C,EAAG,MAAMF,EAAI6C,MAAM7C,EAAI6C,MAAM,KAAK3C,EAAG,MAAMA,EAAG,cAAc,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACM,MAAM,CAAC,KAAO,UAAUuC,KAAK,UAAU,CAAC7C,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIS,GAAG,SAASP,EAAG,KAAK,CAACF,EAAIS,GAAG,UAAUP,EAAG,KAAK,CAACF,EAAIS,GAAG,WAAWP,EAAG,KAAK,CAACF,EAAIS,GAAG,cAAcP,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,mCAAmCI,MAAM,CAAC,KAAO,UAAUgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIgD,gBAAgB,CAAC9C,EAAG,IAAI,CAACE,YAAY,2BAA2BJ,EAAIiD,GAAIjD,EAAIsB,KAAK4B,OAAO,SAASC,EAAIC,GAAO,MAAO,CAAClD,EAAG,KAAK,CAACmD,IAAID,EAAM5C,MAAM,CAAC,KAAO,UAAUuC,KAAK,UAAU,CAAC7C,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIS,GAAG,IAAIT,EAAIU,GAAG0C,EAAQ,GAAG,OAAOlD,EAAG,KAAK,CAACA,EAAG,OAAO,CAACE,YAAY,cAAcoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIsD,MAAMC,KAAKC,KAAKJ,MAAU,CAACpD,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBmD,EAAIM,WAAazD,EAAIY,GAAG,YAAY,SAASV,EAAG,KAAK,CAACA,EAAG,eAAe,CAACM,MAAM,CAAC,GAAK,SAAW4C,EAAM,KAAO,SAAWA,EAAM,SAA0B,MAAfD,EAAIO,SAAiBxB,MAAM,CAACC,MAAOgB,EAAIQ,MAAOtB,SAAS,SAAUC,GAAMtC,EAAIuC,KAAKY,EAAK,QAASb,IAAME,WAAW,gBAAgB,GAAGtC,EAAG,KAAK,CAACA,EAAG,aAAa,CAACM,MAAM,CAAC,GAAK,YAAc4C,EAAM,KAAO,YAAcA,EAAM,SAA0B,MAAfD,EAAIO,QAAgB,UAAUP,EAAIO,QAAQ,MAAQP,EAAIS,MAAM,KAAO,CAChxG1C,KAAMiC,EAAIU,KACVC,MAAOX,EAAIU,KACXE,UAAWZ,EAAIY,YACdvC,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOzB,EAAIgE,WAAWvC,EAAQ0B,KAAOjB,MAAM,CAACC,MAAOgB,EAAIc,SAAU5B,SAAS,SAAUC,GAAMtC,EAAIuC,KAAKY,EAAK,WAAYb,IAAME,WAAW,mBAAmB,GAAGtC,EAAG,KAAK,CAAGF,EAAIkE,SAA+LlE,EAAI6C,KAAzL3C,EAAG,SAAS,CAACE,YAAY,mCAAmCI,MAAM,CAAC,KAAO,UAAUgB,GAAG,CAAC,MAAQ,SAASC,GAAQ0B,EAAIgB,MAAQhB,EAAIgB,QAAQ,CAACjE,EAAG,IAAI,CAACE,YAAY,2BAAqC+C,EAAIgB,MAAQhB,EAAIO,QAAS,CAACxD,EAAG,KAAK,CAACmD,IAAI,OAAOD,EAAMhD,YAAY,gBAAgBI,MAAM,CAAC,KAAO,UAAUuC,KAAK,UAAU,CAAC7C,EAAG,KAAK,CAACE,YAAY,kBAAkBF,EAAG,KAAK,CAACM,MAAM,CAAC,QAAU,MAAM,CAACN,EAAG,aAAa,CAACM,MAAM,CAAC,GAAK,aAAa,KAAO,aAAa,MAAQR,EAAIY,GAAG,gBAAgB,CAACV,EAAG,MAAM,CAACE,YAAY,OAAOI,MAAM,CAAC,KAAO,QAAQuC,KAAK,QAAQ,CAAC7C,EAAG,OAAO,CAACE,YAAY,cAAcoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAIsD,MAAMc,WAAWZ,KAAKJ,MAAU,CAACpD,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBmD,EAAIkB,iBAAmBrE,EAAIY,GAAG,YAAY,YAAY,GAAGV,EAAG,SAASF,EAAI6C,UAAS,GAAG3C,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,WAAW,CAACoE,WAAW,CAAC,CAACpD,KAAK,QAAQqD,QAAQ,UAAUpC,MAAOnC,EAAIsB,KAAKqC,MAAOnB,WAAW,eAAepC,YAAY,eAAeI,MAAM,CAAC,KAAO,IAAI,YAAc,SAASgE,SAAS,CAAC,MAASxE,EAAIsB,KAAKqC,OAAQnC,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOgD,OAAOC,WAAiB1E,EAAIuC,KAAKvC,EAAIsB,KAAM,QAASG,EAAOgD,OAAOtC,WAAWnC,EAAIS,GAAG,KAAKP,EAAG,MAAM,CAACE,YAAY,iCAAiCF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,kBAAkB,OAAOV,EAAG,MAAM,CAACE,YAAY,QAAQC,YAAY,CAAC,YAAY,SAAS,CAACL,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,aAAPX,CAAqBA,EAAIsB,KAAKqD,KAAK,iBAAiB,OAAO3E,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAI4E,cAAc,KAAK1E,EAAG,MAAM,CAACE,YAAY,iCAAiCF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,iBAAiB,OAAOV,EAAG,MAAM,CAACE,YAAY,QAAQC,YAAY,CAAC,YAAY,SAAS,CAACL,EAAIS,GAAG,uBAAuBP,EAAG,SAAS,CAACM,MAAM,CAAC,GAAK,OAAO,MAAQR,EAAIsB,KAAKuD,cAAc,OAAS7E,EAAIsB,KAAKS,OAAOC,IAAI,wBAAwBR,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOzB,EAAIsB,KAAKS,OAAOE,IAAI,sBAAuB,OAAO,QAAUjC,EAAI8E,gBAAgB5C,MAAM,CAACC,MAAOnC,EAAIsB,KAAKyD,oBAAqB1C,SAAS,SAAUC,GAAMtC,EAAIuC,KAAKvC,EAAIsB,KAAM,sBAAuBgB,IAAME,WAAW,8BAA8BxC,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIsB,KAAKuD,gBAAgB,KAAM7E,EAAIsB,KAAK0D,eAAgB9E,EAAG,MAAMF,EAAI6C,KAAK7C,EAAIS,GAAG,KAAKP,EAAG,OAAO,CAACG,YAAY,CAAC,YAAY,QAAQ,CAACL,EAAIS,GAAGT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIsB,KAAK0D,qBAAqB,GAAG9E,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAQF,EAAI8B,UAAmT9B,EAAI6C,KAA5S3C,EAAG,SAAS,CAACE,YAAY,yBAAyBI,MAAM,CAAC,KAAO,SAAS,SAAWR,EAAIkE,WAAW,CAAChE,EAAG,IAAI,CAACoE,WAAW,CAAC,CAACpD,KAAK,OAAOqD,QAAQ,SAASpC,MAAOnC,EAAIkE,SAAU1B,WAAW,aAAapC,YAAY,2BAA2BJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,UAAU,YAAqB,IAAI,IAAI,KAAKV,EAAG,SAAS,CAAC+E,IAAI,OAAOzD,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOzB,EAAIkF,WAAWzD,OAAYvB,EAAG,SAAS,CAAC+E,IAAI,WAAWzD,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOzB,EAAI8E,eAAerD,OAAYvB,EAAG,eAAe,CAAC+E,IAAI,aAAazD,GAAG,CAAC,QAAU,SAASC,GAAQ,OAAOzB,EAAImF,iBAAiB1D,QAAa,IAEn2GZ,EAAkB,G,gLCsPP,GACfuE,YACAC,kBACAC,0BACAC,kBACAC,qBAEA1E,gBACA,OACAM,yBACAU,aACAoC,YACAuB,aACAb,iBACAtD,iBACAF,yBACAuD,kDACAvC,mBACA2C,yBACAF,mBACAG,oBACArB,WACAT,aAIAwC,0CACAC,qCACAA,uDAEAC,mBAAA,WACA,kBACA,WACAxE,WACAD,QACA0E,uBACAC,4BACAC,kGAMA,kBACA,2CACA,kDAEA,eACA,+CACA,yDACA,0CACA,+BACA,8DACA,+DACA,4DACA,iCACAC,oCACA,mBACAtC,kBACAD,uBACAQ,oBACAgC,cACApC,YACAE,sBACAH,mBACAsC,8BACA7B,oDACAV,cACAQ,aAGA,kBACA,mBACA,eACA,qCAGAnD,yCACAmF,yDACAC,sBACA,sBACA1C,aACAD,eACAI,UACAE,eACAE,cACAiC,mBACA7B,qBACAV,WACAQ,QACAP,QACAE,SACA5C,QACA6C,oBAIAoB,6BACA,+BACAhC,qBACAA,0BAEA2B,2BACA,gCACA,kCAEAI,uBACA,+BACA,cACA,sBACA,CACA/B,eACAA,oBACAA,gBACAA,+BACA,gCACAA,eACAA,4BAGA,SACA,qCACA,kBACAkD,SAGA,GACA,oBAIArC,yBACAb,eACAA,yBAEAH,sBACA,0CACA,qBAEA,qCACAsD,aAGA3E,oBAAA,WAEA,GADA,iBACA,oCAMA,OALA,oDACA,sBACA,yBACAoD,oDAIA,wEACA,2BACA,gFAEA,wEACA,2BACA,gFAEA,uBACAwB,kBACA,cACA,eACA,0CACA,kDACA,mBACA,cACA,+BACA,SACA,WACAC,sEAEA,mDC1a4W,I,YCOxWvF,EAAY,eACd,EACAlB,EACAc,GACA,EACA,KACA,KACA,MAIa,aAAAI,E,6CClBf,IAAIlB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,cAAc,CAACE,YAAY,kBAAkBI,MAAM,CAAC,GAAK,cAAc,CAACR,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,GAAG,YAAPX,CAAoBA,EAAIY,GAAG,cAAc,QAErMC,EAAkB,G,YCDlB4F,EAAS,GAKTxF,EAAY,eACdwF,EACA1G,EACAc,GACA,EACA,KACA,KACA,MAIa,OAAAI,E","file":"js/chunk-38372159.299cb15f.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"d-flex flex-nowrap\",staticStyle:{\"overflow-x\":\"auto\"}},[_c('router-link',{staticClass:\"btn mr-5 mb-15\",class:{'btn-secondary': !_vm.isMatch('/purchase/request')},attrs:{\"to\":\"/purchase/request\",\"active-class\":\"btn-primary\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('purchase request'))))])]),_c('router-link',{staticClass:\"btn mr-5 mb-15\",class:{'btn-secondary': !_vm.isMatch('/purchase/order')},attrs:{\"to\":\"/purchase/order\",\"active-class\":\"btn-primary\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('purchase order'))))])]),_c('router-link',{staticClass:\"btn mr-5 mb-15\",class:{'btn-secondary': !_vm.isMatch('/purchase/down-payment')},attrs:{\"to\":\"/purchase/down-payment\",\"active-class\":\"btn-primary\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('down payment'))))])]),_c('router-link',{staticClass:\"btn mr-5 mb-15\",class:{'btn-secondary': !_vm.isMatch('/purchase/receive')},attrs:{\"to\":\"/purchase/receive\",\"active-class\":\"btn-primary\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('purchase receive'))))])]),_c('router-link',{staticClass:\"btn mr-5 mb-15\",class:{'btn-secondary': !_vm.isMatch('/purchase/invoice')},attrs:{\"to\":\"/purchase/invoice\",\"active-class\":\"btn-primary\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('purchase invoice'))))])]),_c('router-link',{staticClass:\"btn mr-5 mb-15\",class:{'btn-secondary': !_vm.isMatch('/purchase/payment-order')},attrs:{\"to\":\"/purchase/payment-order\",\"active-class\":\"btn-primary\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('payment order'))))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"d-flex flex-nowrap\"\r\n    style=\"overflow-x:auto\"\r\n  >\r\n    <router-link\r\n      to=\"/purchase/request\"\r\n      class=\"btn mr-5 mb-15\"\r\n      :class=\"{'btn-secondary': !isMatch('/purchase/request')}\"\r\n      active-class=\"btn-primary\"\r\n    >\r\n      <span>{{ $t('purchase request') | uppercase }}</span>\r\n    </router-link>\r\n    <router-link\r\n      to=\"/purchase/order\"\r\n      class=\"btn mr-5 mb-15\"\r\n      :class=\"{'btn-secondary': !isMatch('/purchase/order')}\"\r\n      active-class=\"btn-primary\"\r\n    >\r\n      <span>{{ $t('purchase order') | uppercase }}</span>\r\n    </router-link>\r\n    <router-link\r\n      to=\"/purchase/down-payment\"\r\n      class=\"btn mr-5 mb-15\"\r\n      :class=\"{'btn-secondary': !isMatch('/purchase/down-payment')}\"\r\n      active-class=\"btn-primary\"\r\n    >\r\n      <span>{{ $t('down payment') | uppercase }}</span>\r\n    </router-link>\r\n    <router-link\r\n      to=\"/purchase/receive\"\r\n      class=\"btn mr-5 mb-15\"\r\n      :class=\"{'btn-secondary': !isMatch('/purchase/receive')}\"\r\n      active-class=\"btn-primary\"\r\n    >\r\n      <span>{{ $t('purchase receive') | uppercase }}</span>\r\n    </router-link>\r\n    <router-link\r\n      to=\"/purchase/invoice\"\r\n      class=\"btn mr-5 mb-15\"\r\n      :class=\"{'btn-secondary': !isMatch('/purchase/invoice')}\"\r\n      active-class=\"btn-primary\"\r\n    >\r\n      <span>{{ $t('purchase invoice') | uppercase }}</span>\r\n    </router-link>\r\n    <!-- <router-link\r\n      to=\"/purchase/return\"\r\n      class=\"btn mr-5 mb-15\"\r\n      :class=\"{'btn-secondary': !isMatch('/purchase/return')}\"\r\n      active-class=\"btn-primary\">\r\n      <span>{{ $t('return') | uppercase }}</span>\r\n    </router-link> -->\r\n    <router-link\r\n      to=\"/purchase/payment-order\"\r\n      class=\"btn mr-5 mb-15\"\r\n      :class=\"{'btn-secondary': !isMatch('/purchase/payment-order')}\"\r\n      active-class=\"btn-primary\"\r\n    >\r\n      <span>{{ $t('payment order') | uppercase }}</span>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      path: this.$route.path\r\n    }\r\n  },\r\n  methods: {\r\n    isMatch (value) {\r\n      return this.path.substring(0, value.length) == value\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=cca19120&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('breadcrumb',[_c('breadcrumb-purchase'),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":{ name: 'purchase.request.index' }}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('purchase request')))+\" \")]),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":{ name: 'purchase.request.show', params: { id: _vm.id }}}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.purchaseRequest.form.number))+\" \")]),_c('span',{staticClass:\"breadcrumb-item active\"},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('edit'))))])],1),_c('purchase-menu'),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"row\"},[_c('p-block',{attrs:{\"header\":false}},[_c('p-block-inner',{attrs:{\"is-loading\":_vm.isLoading}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('h4',[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('purchase request'))))]),_c('table',{staticClass:\"table table-sm table-bordered\"},[_c('tr',[_c('td',{staticClass:\"font-weight-bold\",attrs:{\"width\":\"150px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('form number')))+\" \")]),_c('td',[_vm._v(_vm._s(_vm.purchaseRequest.form.number))])]),_c('tr',[_c('td',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('required date')))+\" \")]),_c('td',[_c('p-date-picker',{attrs:{\"id\":\"required-date\",\"name\":\"required-date\",\"label\":_vm.$t('required date'),\"errors\":_vm.form.errors.get('required_date')},on:{\"errors\":function($event){return _vm.form.errors.set('required_date', null)}},model:{value:(_vm.form.required_date),callback:function ($$v) {_vm.$set(_vm.form, \"required_date\", $$v)},expression:\"form.required_date\"}})],1)])])]),_c('div',{staticClass:\"col-sm-6 text-right\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.authUser.tenant_name))+\" \")]),(_vm.form.branch)?[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.form.branch.address))),(_vm.form.branch.address)?_c('br'):_vm._e(),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.form.branch.phone))),(_vm.form.branch.phone)?_c('br'):_vm._e()]:_vm._e()],2)]),_c('hr'),_c('point-table',{staticClass:\"mt-20\"},[_c('tr',{attrs:{\"slot\":\"p-head\"},slot:\"p-head\"},[_c('th',{staticClass:\"text-center\"},[_vm._v(\" # \")]),_c('th',[_vm._v(\"Item\")]),_c('th',[_vm._v(\"Notes\")]),_c('th',[_vm._v(\"Quantity\")]),_c('th',[_c('button',{staticClass:\"btn btn-sm btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleMore()}}},[_c('i',{staticClass:\"fa fa-ellipsis-h\"})])])]),_vm._l((_vm.form.items),function(row,index){return [_c('tr',{key:index,attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(index + 1)+\" \")]),_c('td',[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.item.open(index)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(row.item_name || _vm.$t('select')))+\" \")])]),_c('td',[_c('p-form-input',{attrs:{\"id\":'notes-' + index,\"name\":'notes-' + index,\"disabled\":row.item_id == null},model:{value:(row.notes),callback:function ($$v) {_vm.$set(row, \"notes\", $$v)},expression:\"row.notes\"}})],1),_c('td',[_c('p-quantity',{attrs:{\"id\":'quantity-' + index,\"name\":'quantity-' + index,\"disabled\":row.item_id == null,\"item-id\":row.item_id,\"units\":row.units,\"unit\":{\n                      name: row.unit,\n                      label: row.unit,\n                      converter: row.converter\n                    }},on:{\"choosen\":function($event){return _vm.chooseUnit($event, row)}},model:{value:(row.quantity),callback:function ($$v) {_vm.$set(row, \"quantity\", $$v)},expression:\"row.quantity\"}})],1),_c('td',[(!_vm.isSaving)?_c('button',{staticClass:\"btn btn-sm btn-outline-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){row.more = !row.more}}},[_c('i',{staticClass:\"fa fa-ellipsis-h\"})]):_vm._e()])]),(row.more && row.item_id)?[_c('tr',{key:'ext-'+index,staticClass:\"bg-gray-light\",attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th',{staticClass:\"bg-gray-light\"}),_c('td',{attrs:{\"colspan\":\"4\"}},[_c('p-form-row',{attrs:{\"id\":\"allocation\",\"name\":\"allocation\",\"label\":_vm.$t('allocation')}},[_c('div',{staticClass:\"mt-5\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"select-link\",on:{\"click\":function($event){return _vm.$refs.allocation.open(index)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(row.allocation_name || _vm.$t('select')))+\" \")])])])],1),_c('td')])]:_vm._e()]})],2),_c('div',{staticClass:\"row mt-50\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.notes),expression:\"form.notes\"}],staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"placeholder\":\"Notes\"},domProps:{\"value\":(_vm.form.notes)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"notes\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"d-sm-block d-md-none mt-10\"})]),_c('div',{staticClass:\"col-sm-3 text-center\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('requested by')))+\" \")]),_c('div',{staticClass:\"mb-50\",staticStyle:{\"font-size\":\"11px\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(_vm.form.date,'DD MMMM YYYY'))+\" \")]),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.requestedBy))+\" \"),_c('div',{staticClass:\"d-sm-block d-md-none mt-10\"})]),_c('div',{staticClass:\"col-sm-3 text-center\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('approved by')))+\" \")]),_c('div',{staticClass:\"mb-50\",staticStyle:{\"font-size\":\"11px\"}},[_vm._v(\" _______________ \")]),_c('m-user',{attrs:{\"id\":'user',\"label\":_vm.form.approver_name,\"errors\":_vm.form.errors.get('request_approval_to')},on:{\"errors\":function($event){return _vm.form.errors.set('request_approval_to', null)},\"choosen\":_vm.chooseApprover},model:{value:(_vm.form.request_approval_to),callback:function ($$v) {_vm.$set(_vm.form, \"request_approval_to\", $$v)},expression:\"form.request_approval_to\"}}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.form.approver_name))+\" \"),(_vm.form.approver_email)?_c('br'):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"9px\"}},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.form.approver_email)))])],1),_c('div',{staticClass:\"col-sm-12\"},[_c('hr'),(!_vm.isLoading)?_c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isSaving}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('save')))+\" \")]):_vm._e()])])],1)],1)],1)]),_c('m-item',{ref:\"item\",on:{\"choosen\":function($event){return _vm.chooseItem($event)}}}),_c('m-user',{ref:\"approver\",on:{\"choosen\":function($event){return _vm.chooseApprover($event)}}}),_c('m-allocation',{ref:\"allocation\",on:{\"choosen\":function($event){return _vm.chooseAllocation($event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <breadcrumb>\r\n      <breadcrumb-purchase />\r\n      <router-link\r\n        :to=\"{ name: 'purchase.request.index' }\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ $t('purchase request') | uppercase }}\r\n      </router-link>\r\n      <router-link\r\n        :to=\"{ name: 'purchase.request.show', params: { id: id }}\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ purchaseRequest.form.number | uppercase }}\r\n      </router-link>\r\n      <span class=\"breadcrumb-item active\">{{ $t('edit') | uppercase }}</span>\r\n    </breadcrumb>\r\n\r\n    <purchase-menu />\r\n\r\n    <form @submit.prevent=\"onSubmit\">\r\n      <div class=\"row\">\r\n        <p-block :header=\"false\">\r\n          <p-block-inner :is-loading=\"isLoading\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-6\">\r\n                <h4>{{ $t('purchase request') | uppercase }}</h4>\r\n                <table class=\"table table-sm table-bordered\">\r\n                  <tr>\r\n                    <td\r\n                      width=\"150px\"\r\n                      class=\"font-weight-bold\"\r\n                    >\r\n                      {{ $t('form number') | uppercase }}\r\n                    </td>\r\n                    <td>{{ purchaseRequest.form.number }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class=\"font-weight-bold\">\r\n                      {{ $t('required date') | uppercase }}\r\n                    </td>\r\n                    <td>\r\n                      <p-date-picker\r\n                        id=\"required-date\"\r\n                        v-model=\"form.required_date\"\r\n                        name=\"required-date\"\r\n                        :label=\"$t('required date')\"\r\n                        :errors=\"form.errors.get('required_date')\"\r\n                        @errors=\"form.errors.set('required_date', null)\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n              <div class=\"col-sm-6 text-right\">\r\n                <h6 class=\"mb-0\">\r\n                  {{ authUser.tenant_name | uppercase }}\r\n                </h6>\r\n                <template v-if=\"form.branch\">\r\n                  {{ form.branch.address | uppercase }}<br v-if=\"form.branch.address\">\r\n                  {{ form.branch.phone | uppercase }}<br v-if=\"form.branch.phone\">\r\n                </template>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n            <point-table class=\"mt-20\">\r\n              <tr slot=\"p-head\">\r\n                <th class=\"text-center\">\r\n                  #\r\n                </th>\r\n                <th>Item</th>\r\n                <th>Notes</th>\r\n                <th>Quantity</th>\r\n                <th>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-sm btn-outline-secondary\"\r\n                    @click=\"toggleMore()\"\r\n                  >\r\n                    <i class=\"fa fa-ellipsis-h\" />\r\n                  </button>\r\n                </th>\r\n              </tr>\r\n              <template v-for=\"(row, index) in form.items\">\r\n                <tr\r\n                  slot=\"p-body\"\r\n                  :key=\"index\"\r\n                >\r\n                  <th class=\"text-center\">\r\n                    {{ index + 1 }}\r\n                  </th>\r\n                  <td>\r\n                    <span\r\n                      class=\"select-link\"\r\n                      @click=\"$refs.item.open(index)\"\r\n                    >\r\n                      {{ row.item_name || $t('select') | uppercase }}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <p-form-input\r\n                      :id=\"'notes-' + index\"\r\n                      v-model=\"row.notes\"\r\n                      :name=\"'notes-' + index\"\r\n                      :disabled=\"row.item_id == null\"\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <p-quantity\r\n                      :id=\"'quantity-' + index\"\r\n                      v-model=\"row.quantity\"\r\n                      :name=\"'quantity-' + index\"\r\n                      :disabled=\"row.item_id == null\"\r\n                      :item-id=\"row.item_id\"\r\n                      :units=\"row.units\"\r\n                      :unit=\"{\r\n                        name: row.unit,\r\n                        label: row.unit,\r\n                        converter: row.converter\r\n                      }\"\r\n                      @choosen=\"chooseUnit($event, row)\"\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      v-if=\"!isSaving\"\r\n                      type=\"button\"\r\n                      class=\"btn btn-sm btn-outline-secondary\"\r\n                      @click=\"row.more = !row.more\"\r\n                    >\r\n                      <i class=\"fa fa-ellipsis-h\" />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n                <template v-if=\"row.more && row.item_id\">\r\n                  <tr\r\n                    slot=\"p-body\"\r\n                    :key=\"'ext-'+index\"\r\n                    class=\"bg-gray-light\"\r\n                  >\r\n                    <th class=\"bg-gray-light\" />\r\n                    <td colspan=\"4\">\r\n                      <p-form-row\r\n                        id=\"allocation\"\r\n                        name=\"allocation\"\r\n                        :label=\"$t('allocation')\"\r\n                      >\r\n                        <div\r\n                          slot=\"body\"\r\n                          class=\"mt-5\"\r\n                        >\r\n                          <span\r\n                            class=\"select-link\"\r\n                            @click=\"$refs.allocation.open(index)\"\r\n                          >\r\n                            {{ row.allocation_name || $t('select') | uppercase }}\r\n                          </span>\r\n                        </div>\r\n                      </p-form-row>\r\n                    </td>\r\n                    <td />\r\n                  </tr>\r\n                </template>\r\n              </template>\r\n            </point-table>\r\n            <div class=\"row mt-50\">\r\n              <div class=\"col-sm-6\">\r\n                <textarea\r\n                  v-model=\"form.notes\"\r\n                  rows=\"5\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Notes\"\r\n                />\r\n                <div class=\"d-sm-block d-md-none mt-10\" />\r\n              </div>\r\n              <div class=\"col-sm-3 text-center\">\r\n                <h6 class=\"mb-0\">\r\n                  {{ $t('requested by') | uppercase }}\r\n                </h6>\r\n                <div\r\n                  class=\"mb-50\"\r\n                  style=\"font-size:11px\"\r\n                >\r\n                  {{ form.date | dateFormat('DD MMMM YYYY') }}\r\n                </div>\r\n                {{ requestedBy | uppercase }}\r\n                <div class=\"d-sm-block d-md-none mt-10\" />\r\n              </div>\r\n              <div class=\"col-sm-3 text-center\">\r\n                <h6 class=\"mb-0\">\r\n                  {{ $t('approved by') | uppercase }}\r\n                </h6>\r\n                <div\r\n                  class=\"mb-50\"\r\n                  style=\"font-size:11px\"\r\n                >\r\n                  _______________\r\n                </div>\r\n                <m-user\r\n                  :id=\"'user'\"\r\n                  v-model=\"form.request_approval_to\"\r\n                  :label=\"form.approver_name\"\r\n                  :errors=\"form.errors.get('request_approval_to')\"\r\n                  @errors=\"form.errors.set('request_approval_to', null)\"\r\n                  @choosen=\"chooseApprover\"\r\n                />\r\n                {{ form.approver_name | uppercase }}\r\n                <br v-if=\"form.approver_email\"> <span style=\"font-size:9px\">{{ form.approver_email | uppercase }}</span>\r\n              </div>\r\n              <div class=\"col-sm-12\">\r\n                <hr>\r\n                <button\r\n                  v-if=\"!isLoading\"\r\n                  type=\"submit\"\r\n                  class=\"btn btn-sm btn-primary\"\r\n                  :disabled=\"isSaving\"\r\n                >\r\n                  <i\r\n                    v-show=\"isSaving\"\r\n                    class=\"fa fa-asterisk fa-spin\"\r\n                  /> {{ $t('save') | uppercase }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </p-block-inner>\r\n        </p-block>\r\n      </div>\r\n    </form>\r\n    <m-item\r\n      ref=\"item\"\r\n      @choosen=\"chooseItem($event)\"\r\n    />\r\n    <m-user\r\n      ref=\"approver\"\r\n      @choosen=\"chooseApprover($event)\"\r\n    />\r\n    <m-allocation\r\n      ref=\"allocation\"\r\n      @choosen=\"chooseAllocation($event)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Breadcrumb from '@/views/Breadcrumb'\r\nimport BreadcrumbPurchase from '@/views/purchase/Breadcrumb'\r\nimport Form from '@/utils/Form'\r\nimport PurchaseMenu from '../Menu'\r\nimport PointTable from 'point-table-vue'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    Breadcrumb,\r\n    BreadcrumbPurchase,\r\n    PointTable,\r\n    PurchaseMenu\r\n  },\r\n  data () {\r\n    return {\r\n      id: this.$route.params.id,\r\n      isLoading: true,\r\n      isSaving: false,\r\n      totalPrice: 0,\r\n      requestedBy: null,\r\n      form: new Form({\r\n        id: this.$route.params.id,\r\n        date: this.$moment().format('YYYY-MM-DD HH:mm:ss'),\r\n        required_date: null,\r\n        request_approval_to: null,\r\n        approver_name: null,\r\n        approver_email: null,\r\n        notes: null,\r\n        items: []\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('auth', ['authUser']),\r\n    ...mapGetters('purchaseRequest', ['purchaseRequest'])\r\n  },\r\n  created () {\r\n    this.isLoading = true\r\n    this.find({\r\n      id: this.id,\r\n      params: {\r\n        join: 'form,items,item',\r\n        fields: 'purchase_request.*',\r\n        includes: 'items.item.units;' +\r\n          'items.allocation;' +\r\n          'form.branch;' +\r\n          'form.createdBy;' +\r\n          'form.requestApprovalTo'\r\n      }\r\n    }).then(response => {\r\n      if (!this.$formRules.allowedToUpdate(response.data.form)) {\r\n        this.$router.replace('/purchase/request/' + response.data.id)\r\n      }\r\n      this.isLoading = false\r\n      this.requestedBy = response.data.form.created_by.full_name\r\n      this.form.edited_form_number = response.data.form.edited_form_number\r\n      this.form.required_date = response.data.required_date\r\n      this.form.notes = response.data.form.notes\r\n      this.form.request_approval_to = response.data.form.request_approval_to.id\r\n      this.form.approver_name = response.data.form.request_approval_to.full_name\r\n      this.form.approver_email = response.data.form.request_approval_to.email\r\n      this.form.branch = response.data.form.branch\r\n      response.data.items.forEach((item, keyItem) => {\r\n        this.form.items.push({\r\n          item_id: item.item_id,\r\n          item_name: item.item.label,\r\n          quantity: item.quantity,\r\n          price: item.price,\r\n          unit: item.unit,\r\n          converter: item.converter,\r\n          units: item.item.units,\r\n          allocation_id: item.allocation_id,\r\n          allocation_name: item.allocation ? item.allocation.name : null,\r\n          notes: item.notes,\r\n          more: false\r\n        })\r\n      })\r\n      this.addItemRow()\r\n    }).catch(error => {\r\n      this.isLoading = false\r\n      this.$notification.error(error.message)\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions('purchaseRequest', ['find', 'update']),\r\n    addItemRow () {\r\n      this.form.items.push({\r\n        item_id: null,\r\n        item_name: null,\r\n        unit: null,\r\n        converter: null,\r\n        quantity: null,\r\n        allocation_id: null,\r\n        allocation_name: null,\r\n        notes: null,\r\n        more: false,\r\n        units: [{\r\n          label: '',\r\n          name: '',\r\n          converter: null\r\n        }]\r\n      })\r\n    },\r\n    chooseAllocation (value) {\r\n      const row = this.form.items[value.index]\r\n      row.allocation_id = value.id\r\n      row.allocation_name = value.name\r\n    },\r\n    chooseApprover (value) {\r\n      this.form.approver_name = value.label\r\n      this.form.approver_email = value.email\r\n    },\r\n    chooseItem (item) {\r\n      const row = this.form.items[item.index]\r\n      if (item.id == null) {\r\n        this.clearItem(row)\r\n      } else {\r\n        row.item_id = item.id\r\n        row.item_name = item.label\r\n        row.units = item.units\r\n        row.units.forEach((unit, keyUnit) => {\r\n          if (unit.id == item.unit_default_purchase) {\r\n            row.unit = unit.label\r\n            row.converter = unit.converter\r\n          }\r\n        })\r\n        let isNeedNewRow = true\r\n        this.form.items.forEach(element => {\r\n          if (element.item_id == null) {\r\n            isNeedNewRow = false\r\n          }\r\n        })\r\n        if (isNeedNewRow) {\r\n          this.addItemRow()\r\n        }\r\n      }\r\n    },\r\n    chooseUnit (unit, row) {\r\n      row.unit = unit.label\r\n      row.converter = unit.converter\r\n    },\r\n    toggleMore () {\r\n      const isMoreActive = this.form.items.some(function (el, index) {\r\n        return el.more === false\r\n      })\r\n      this.form.items.forEach(element => {\r\n        element.more = isMoreActive\r\n      })\r\n    },\r\n    onSubmit () {\r\n      this.isSaving = true\r\n      if (this.form.request_approval_to == null) {\r\n        this.$notification.error('approval cannot be null')\r\n        this.isSaving = false\r\n        this.form.errors.record({\r\n          request_approval_to: ['Approver should not empty']\r\n        })\r\n        return\r\n      }\r\n      this.form.increment_group = this.$moment(this.form.date).format('YYYYMM')\r\n      if (this.form.items.length > 1) {\r\n        this.form.items = this.form.items.filter(item => item.item_id !== null)\r\n      }\r\n      this.form.increment_group = this.$moment(this.form.date).format('YYYYMM')\r\n      if (this.form.items.length > 1) {\r\n        this.form.items = this.form.items.filter(item => item.item_id !== null)\r\n      }\r\n      this.update(this.form)\r\n        .then(response => {\r\n          this.isSaving = false\r\n          this.form.reset()\r\n          this.$notification.success('Update success')\r\n          this.$router.push('/purchase/request/' + response.data.id)\r\n        }).catch(error => {\r\n          this.isSaving = false\r\n          this.form.errors.record(error.errors)\r\n          let json = ''\r\n          if (error.errors) {\r\n            json = '<pre class=\"text-left\">' + JSON.stringify(error.errors, null, 2) + '</pre>'\r\n          }\r\n          this.$alert.error('Error Message', error.message + json)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=7dcbf5c2&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/purchase\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('purchase')))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=7c7e1bae&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}