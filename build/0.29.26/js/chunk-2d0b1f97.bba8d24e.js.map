{"version":3,"sources":["webpack:///./src/views/TenantStorage.vue","webpack:///src/views/TenantStorage.vue","webpack:///./src/views/TenantStorage.vue?6c5f","webpack:///./src/views/TenantStorage.vue?a952"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","_f","$t","ref","attrs","searchText","on","filterSearch","isLoading","slot","_l","cloudStorages","cloudStorage","index","key","id","file_name","expired_at","_e","download_url","currentPage","lastPage","updatePage","staticRenderFns","components","PointTable","data","computed","mapGetters","created","updated","methods","mapActions","getCloudStorageRequest","params","sort_by","limit","is_user_protected","is_project_protected","page","query","search","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACJ,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,GAAG,YAAPP,CAAoBA,EAAIQ,GAAG,oBAAoBN,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,UAAU,CAACA,EAAG,eAAe,CAACO,IAAI,aAAaC,MAAM,CAAC,GAAK,cAAc,KAAO,cAAc,YAAc,SAAS,MAAQV,EAAIW,YAAYC,GAAG,CAAC,MAAQZ,EAAIa,gBAAgBX,EAAG,MAAMA,EAAG,gBAAgB,CAACQ,MAAM,CAAC,aAAaV,EAAIc,YAAY,CAACZ,EAAG,cAAc,CAACA,EAAG,KAAK,CAACQ,MAAM,CAAC,KAAO,UAAUK,KAAK,UAAU,CAACb,EAAG,KAAK,CAACF,EAAIK,GAAG,OAAOH,EAAG,KAAK,CAACF,EAAIK,GAAG,eAAeH,EAAG,KAAK,CAACF,EAAIK,GAAG,qBAAqBH,EAAG,KAAK,CAACF,EAAIK,GAAG,oBAAoBL,EAAIgB,GAAIhB,EAAIiB,eAAe,SAASC,EAAaC,GAAO,OAAOjB,EAAG,KAAK,CAACkB,IAAIF,EAAaG,GAAGX,MAAM,CAAC,KAAO,UAAUK,KAAK,UAAU,CAACb,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGa,EAAQ,MAAMjB,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGY,EAAaI,cAAcpB,EAAG,KAAK,CAAEgB,EAAaK,WAAY,CAACvB,EAAIK,GAAG,IAAIL,EAAIM,GAAGN,EAAIO,GAAG,aAAPP,CAAqBkB,EAAaK,WAAW,sBAAsB,MAAMvB,EAAIwB,MAAM,GAAGtB,EAAG,KAAK,CAACA,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAOQ,EAAaO,eAAe,CAACzB,EAAIK,GAAGL,EAAIM,GAAGY,EAAaO,yBAAwB,IAAI,GAAGvB,EAAG,eAAe,CAACQ,MAAM,CAAC,eAAeV,EAAI0B,YAAY,YAAY1B,EAAI2B,UAAUf,GAAG,CAAC,WAAaZ,EAAI4B,eAAe,IAAI,MAErzCC,EAAkB,G,yFC0DP,GACfC,YACAC,mBAEAC,gBACA,OACAlB,aACAH,oCACAe,wCACAC,aAGAM,2BACAC,+DAEAC,mBACA,+BAEAC,mBACA,yCAEAC,yCACAC,4CACAV,uBACA,mBACA,+BAEAW,kCAAA,WACA,kBACA,UACAC,QACAC,oBACAC,SACAC,qBACAC,wBACAC,sBACAvB,6BAEA,kBACA,kBACA,mBACA,mBAGAT,8BACA,mBAAAiC,OAAAC,YACA,kBACA,mBACA,gCACA,QC7GuV,I,YCOnVC,EAAY,eACd,EACAjD,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d0b1f97.bba8d24e.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"block\"},[_c('nav',{staticClass:\"breadcrumb bg-white push\"},[_c('span',{staticClass:\"breadcrumb-item active\"},[_vm._v(_vm._s(_vm._f(\"titlecase\")(_vm.$t('storage'))))])])]),_c('div',{staticClass:\"row\"},[_c('p-block',[_c('p-form-input',{ref:\"searchText\",attrs:{\"id\":\"search-text\",\"name\":\"search-text\",\"placeholder\":\"Search\",\"value\":_vm.searchText},on:{\"input\":_vm.filterSearch}}),_c('hr'),_c('p-block-inner',{attrs:{\"is-loading\":_vm.isLoading}},[_c('point-table',[_c('tr',{attrs:{\"slot\":\"p-head\"},slot:\"p-head\"},[_c('th',[_vm._v(\"#\")]),_c('th',[_vm._v(\"File Name\")]),_c('th',[_vm._v(\"File Expired at\")]),_c('th',[_vm._v(\"Download URL\")])]),_vm._l((_vm.cloudStorages),function(cloudStorage,index){return _c('tr',{key:cloudStorage.id,attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('th',[_vm._v(_vm._s(index + 1))]),_c('td',[_vm._v(_vm._s(cloudStorage.file_name))]),_c('td',[(cloudStorage.expired_at)?[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormat\")(cloudStorage.expired_at,'DD MMM YYYY HH:mm'))+\" \")]:_vm._e()],2),_c('td',[_c('a',{attrs:{\"href\":cloudStorage.download_url}},[_vm._v(_vm._s(cloudStorage.download_url))])])])})],2)],1),_c('p-pagination',{attrs:{\"current-page\":_vm.currentPage,\"last-page\":_vm.lastPage},on:{\"updatePage\":_vm.updatePage}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"block\">\r\n      <nav class=\"breadcrumb bg-white push\">\r\n        <span class=\"breadcrumb-item active\">{{ $t('storage') | titlecase }}</span>\r\n      </nav>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <p-block>\r\n        <p-form-input\r\n          id=\"search-text\"\r\n          ref=\"searchText\"\r\n          name=\"search-text\"\r\n          placeholder=\"Search\"\r\n          :value=\"searchText\"\r\n          @input=\"filterSearch\"\r\n        />\r\n\r\n        <hr>\r\n\r\n        <p-block-inner :is-loading=\"isLoading\">\r\n          <point-table>\r\n            <tr slot=\"p-head\">\r\n              <th>#</th>\r\n              <th>File Name</th>\r\n              <th>File Expired at</th>\r\n              <th>Download URL</th>\r\n            </tr>\r\n            <tr\r\n              v-for=\"(cloudStorage, index) in cloudStorages\"\r\n              :key=\"cloudStorage.id\"\r\n              slot=\"p-body\"\r\n            >\r\n              <th>{{ index + 1 }}</th>\r\n              <td>{{ cloudStorage.file_name }}</td>\r\n              <td>\r\n                <template v-if=\"cloudStorage.expired_at\">\r\n                  {{ cloudStorage.expired_at | dateFormat('DD MMM YYYY HH:mm') }}\r\n                </template>\r\n              </td>\r\n              <td><a :href=\"cloudStorage.download_url\">{{ cloudStorage.download_url }}</a></td>\r\n            </tr>\r\n          </point-table>\r\n        </p-block-inner>\r\n        <p-pagination\r\n          :current-page=\"currentPage\"\r\n          :last-page=\"lastPage\"\r\n          @updatePage=\"updatePage\"\r\n        />\r\n      </p-block>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PointTable from 'point-table-vue'\r\nimport debounce from 'lodash/debounce'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    PointTable\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: true,\r\n      searchText: this.$route.query.search,\r\n      currentPage: this.$route.query.page * 1 || 1,\r\n      lastPage: 1\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('cloudStorage', ['cloudStorages', 'pagination'])\r\n  },\r\n  created () {\r\n    this.getCloudStorageRequest()\r\n  },\r\n  updated () {\r\n    this.lastPage = this.pagination.last_page\r\n  },\r\n  methods: {\r\n    ...mapActions('cloudStorage', ['get']),\r\n    updatePage (value) {\r\n      this.currentPage = value\r\n      this.getCloudStorageRequest()\r\n    },\r\n    getCloudStorageRequest () {\r\n      this.isLoading = true\r\n      this.get({\r\n        params: {\r\n          sort_by: 'file_name',\r\n          limit: 20,\r\n          is_user_protected: true,\r\n          is_project_protected: true,\r\n          page: this.currentPage,\r\n          file_name: this.searchText\r\n        }\r\n      }).then(response => {\r\n        this.isLoading = false\r\n      }).catch(error => {\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    filterSearch: debounce(function (value) {\r\n      this.$router.push({ query: { search: value } })\r\n      this.searchText = value\r\n      this.currentPage = 1\r\n      this.getCloudStorageRequest()\r\n    }, 300)\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TenantStorage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TenantStorage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TenantStorage.vue?vue&type=template&id=63fab565&\"\nimport script from \"./TenantStorage.vue?vue&type=script&lang=js&\"\nexport * from \"./TenantStorage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}