(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cac5637"],{"0c17":function(t,e,a){"use strict";a("6e40")},"26e9":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/plugin/play-book"}},[t._v(" "+t._s(t._f("uppercase")(t.$t("play book")))+" ")])},r=[],i=a("2877"),c={},o=Object(i["a"])(c,s,r,!1,null,null,null);e["a"]=o.exports},"3fa2":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"nav nav-tabs nav-tabs-alt mb-10",attrs:{"data-toggle":"tabs",role:"tablist"}},[t._t("default"),t.$permission.has("create play book procedure")?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/plugin/play-book/approval/procedure","active-class":"active"}},[e("span",[t._v(t._s(t._f("uppercase")(t.$t("procedure"))))])])],1):t._e(),t.$permission.has("create play book instruction")?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/plugin/play-book/approval/instruction","active-class":"active"}},[e("span",[t._v(t._s(t._f("uppercase")(t.$t("instruction"))))])])],1):t._e(),t._t("right")],2)},r=[],i=a("2877"),c={},o=Object(i["a"])(c,s,r,!1,null,null,null);e["a"]=o.exports},"6e40":function(t,e,a){},"90de":function(t,e,a){"use strict";a.r(e);var s=a("ade3"),r=(a("99af"),a("fb6a"),a("b0c0"),function(){var t=this,e=t._self._c;return e("div",[e("breadcrumb",[e("breadcrumb-plugin"),e("breadcrumb-play-book"),e("span",{staticClass:"breadcrumb-item active"},[t._v(t._s(t._f("uppercase")("Approval")))]),e("router-link",{staticClass:"breadcrumb-item",attrs:{to:"/plugin/play-book/approval/procedure"}},[t._v(" "+t._s(t._f("uppercase")("Procedure"))+" ")]),e("span",{staticClass:"breadcrumb-item active"},[t._v(t._s(t._f("uppercase")("Sent")))])],1),e("tab-menu"),e("div",{staticClass:"row"},[e("p-block",[e("div",{staticClass:"input-group block mb-5"},[e("router-link",{staticClass:"btn btn-outline-primary mr-3",attrs:{to:"/plugin/play-book/approval/procedure"}},[e("i",{staticClass:"fa fa-arrow-left mr-2"}),t._v(" List ")]),t.selectedIds.length?e("button",{staticClass:"btn btn-primary mr-3",on:{click:function(e){return t.$refs.modelSendProcedureRequest.open()}}},[t._v(" Sent "+t._s(t.selectedIds.length)+" "+t._s("Request".concat(t.selectedIds.length>1?"s":""))+" "),e("i",{staticClass:"fa fa-paper-plane"})]):t._e(),e("p-form-input",{ref:"searchText",staticClass:"btn-block",attrs:{id:"search-text",name:"search-text",placeholder:"Search",value:t.searchText},on:{input:t.filterSearch}})],1),e("hr"),e("p-block-inner",{attrs:{"is-loading":t.isLoading}},[e("point-table",[e("tr",{attrs:{slot:"p-head"},slot:"p-head"},[e("th",[t._v("#")]),e("th",[t._v("Code")]),e("th",[t._v("Name")]),e("th",[t._v("Action")]),e("th",[t._v("Note")]),e("th",[t._v("Status")]),e("th",{staticClass:"text-center"},[t._v(" Edit ")])]),t._l(t.procedures,(function(a){return e("tr",{key:a.id,attrs:{slot:"p-body"},slot:"p-body"},[e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ids[a.id],expression:"form.ids[procedure.id]"}],staticStyle:{"min-width":"auto"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.ids[a.id])?t._i(t.form.ids[a.id],null)>-1:t.form.ids[a.id]},on:{change:function(e){var s=t.form.ids[a.id],r=e.target,i=!!r.checked;if(Array.isArray(s)){var c=null,o=t._i(s,c);r.checked?o<0&&t.$set(t.form.ids,a.id,s.concat([c])):o>-1&&t.$set(t.form.ids,a.id,s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.form.ids,a.id,i)}}})]),e("td",[t._v(t._s(a.code))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(t._f("uppercase")(a.approval_action)))]),e("td",[t._v(t._s(a.note))]),e("td",[e("span",{staticClass:"badge",class:Object(s["a"])({},a.approved_at?"badge-success":"badge-secondary",!0)},[t._v(" "+t._s(a.approved_at?"APPROVED":"PENDING")+" ")])]),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-light",on:{click:function(e){t.procedureIdToEdit=a.id,t.$refs.modalEditProcedure.open()}}},[e("i",{staticClass:"fa fa-edit"})])])])})),t.procedures.length<1?e("tr",{staticClass:"text-center",attrs:{slot:"p-body"},slot:"p-body"},[e("td",{staticClass:"my-2 py-5",attrs:{colspan:"7"}},[t._v(" No data ")])]):t._e()],2)],1),e("p-pagination",{attrs:{"current-page":t.page,"last-page":t.lastPage},on:{updatePage:t.updatePage}})],1)],1),e("m-send-procedure-request",{ref:"modelSendProcedureRequest",attrs:{ids:t.selectedIds},on:{added:t.getProcedures}}),e("m-edit-procedure",{ref:"modalEditProcedure",attrs:{"procedure-id":t.procedureIdToEdit},on:{added:t.getProcedures}})],1)}),i=[],c=a("c7eb"),o=a("1da1"),n=a("5530"),d=(a("ac1f"),a("841c"),a("14d9"),a("5ae6")),u=a("bc27"),l=a("26e9"),p=a("3fa2"),b=a("b047"),f=a.n(b),h=a("feee"),v=a("2f62"),m={components:{Breadcrumb:d["a"],BreadcrumbPlugin:u["a"],BreadcrumbPlayBook:l["a"],PointTable:h["a"],TabMenu:p["a"]},data:function(){return{isLoading:!0,searchText:this.$route.query.search,page:1*this.$route.query.page||1,limit:10,lastPage:1,isAdvanceFilter:!1,statusId:this.$route.query.statusId,statusLabel:null,form:{ids:{}},procedureIdToEdit:null}},computed:Object(n["a"])(Object(n["a"])({},Object(v["c"])("pluginPlayBookProcedureApproval",["procedures","pagination"])),{},{selectedIds:function(){var t=[];for(var e in this.form.ids)this.form.ids[e]&&t.push(e);return t}}),mounted:function(){var t=this;this.getProcedures(),this.$nextTick((function(){t.$refs.searchText.setFocus()}))},updated:function(){this.lastPage=this.pagination.last_page},methods:Object(n["a"])(Object(n["a"])({},Object(v["b"])("pluginPlayBookProcedureApproval",["get"])),{},{filterSearch:f()((function(t){this.$router.push({query:{search:t,statusId:this.statusId}}),this.searchText=t,this.page=1,this.getProcedures()}),300),getProcedures:function(){var t=this;return Object(o["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.form.ids={},e.next=5,t.get({search:t.searchText,page:t.page,limit:t.limit,status:t.status,want:"send"});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,t.isLoading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})))()},updatePage:function(t){this.page=t,this.getProcedures()}})},_=m,g=(a("0c17"),a("2877")),k=Object(g["a"])(_,r,i,!1,null,null,null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-5cac5637.e41ac3eb.js.map