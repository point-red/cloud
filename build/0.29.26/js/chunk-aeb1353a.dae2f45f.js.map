{"version":3,"sources":["webpack:///./src/views/pos/Breadcrumb.vue","webpack:///./src/views/pos/Breadcrumb.vue?3bcc","webpack:///./src/views/pos/open-bill/ServiceModal.vue","webpack:///src/views/pos/open-bill/ServiceModal.vue","webpack:///./src/views/pos/open-bill/ServiceModal.vue?20ee","webpack:///./src/views/pos/open-bill/ServiceModal.vue?f5bd","webpack:///./src/views/pos/open-bill/DiscountModal.vue","webpack:///src/views/pos/open-bill/DiscountModal.vue","webpack:///./src/views/pos/open-bill/DiscountModal.vue?a4ac","webpack:///./src/views/pos/open-bill/DiscountModal.vue?ffe3","webpack:///./src/views/pos/open-bill/ItemModal.vue","webpack:///src/views/pos/open-bill/ItemModal.vue","webpack:///./src/views/pos/open-bill/ItemModal.vue?c5d2","webpack:///./src/views/pos/open-bill/ItemModal.vue?c581","webpack:///./src/views/pos/open-bill/Edit.vue","webpack:///src/views/pos/open-bill/Edit.vue","webpack:///./src/views/pos/open-bill/Edit.vue?e8c5","webpack:///./src/views/pos/open-bill/Edit.vue?19df"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_s","_f","$t","staticRenderFns","script","component","ref","id","isLoading","title","slot","model","value","service_name","callback","$$v","expression","price","isSaving","quantity","discount_percent","directives","name","rawName","notes","domProps","on","$event","target","composing","close","props","type","required","data","index","methods","show","service","item_name","unit","label","production_number","expiry_date","item","params","bill","form","number","scopedSlots","_u","key","fn","$permission","has","_e","proxy","isGroupLoading","_l","itemGroups","group","currentGroup","currentGroupType","staticStyle","selectGroup","serviceGroups","isDeleting","filterSearch","searchText","itemList","groupItemList","includes","item_id","item_unit","chooseItem","serviceList","groupServiceList","service_id","chooseService","length","currentPageItem","lastPageItem","updatePageItem","currentPageService","lastPageService","updatePageService","chooseCustomer","customer_id","$set","items_temporary","row","showItem","error","total","services","showService","total_quantity","subtotal","showDiscount","amount","nativeOn","calculate","paid","change","charge","save","onDelete","updateDiscount","updateItem","deleteItem","updateService","deleteService","selectedItem","require_expiry_date","require_production_number","warehouse_id","inventories","addInventory","components","Breadcrumb","BreadcrumbPos","DiscountModal","ItemModal","ServiceModal","increment_group","date","customer_name","pricing_group_id","approver_id","discount_value","tax_base","tax","type_of_tax","items","is_done","item_unit_id","converter","stock","computed","mapGetters","paginationItem","paginationService","watch","created","filter_form","newItem","existing","updated","mapActions","findCustomer","getItemGroups","getServiceGroups","getPriceListItem","getPriceListService","findBill","updateBill","deleteBill","getItemGroupRequest","getServiceGroupRequest","getItemRequest","filter_like","filter_has","sort_by","page","getServiceRequest","requestAllData","Promise","requestPriceListData","existingItem","existingService","newService","updateDisplayedData","validate","itemValid","setItems","posItem","then"],"mappings":"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sBAAsB/E,EAAIuH,aAAaC,oBAAoB,4BAA4BxH,EAAIuH,aAAaE,0BAA0B,eAAezH,EAAIsD,KAAKoE,aAAa,YAAc1H,EAAIuH,aAAaI,YAAY,UAAS,EAAK,YAAY3H,EAAIuH,aAAazE,UAAU,aAAa9C,EAAIuH,aAAa/F,MAAM,YAAYxB,EAAIuH,aAAavC,WAAW/C,GAAG,CAAC,IAAM,SAASC,GAAQ,OAAOlC,EAAI4H,aAAa1F,EAAQlC,EAAIuH,mBAAmB,IAE37W7G,EAAkB,G,iNCqbP,GACfmH,YACAC,kBACAC,qBACAC,qBACAC,iBACAC,qBAEAzF,gBACA,OACA3B,yBACAW,YACAV,aACAiD,kBACAS,cACAE,cACAP,kBACAC,sBACAO,YACAM,eACAL,iBACAM,oBACAI,gDACAG,sDACAF,eACAG,kBACArC,iBACAxC,yBACAqH,gDACAC,kDACAtC,iBACAuC,mBACAC,oBACAC,iBACAxG,WACAyE,WACA7E,mBACA6G,iBACAC,WACAC,MACAC,sBACApC,iBACAG,SACAG,OACAC,SACAd,mBACA4C,SACAvC,YACAwC,UACAnB,iBAEAH,cACAxC,UACAjC,eACAkC,eACA8D,eACA/F,UACAgG,YACArH,WACAF,QACAgH,iBACA7G,mBACAyE,QACAkC,oBACAvG,WACAoE,WACA6C,QACAxB,sBACAC,4BACAE,kBAIAsB,sGACAC,+CACAA,kCACAhF,uBAEAgF,qCACA1E,0BAEA0E,sCACAN,cACAO,+BAEAD,yCACA7C,oBACA+C,kCAEAF,oCAEAG,OACA,mCACA,oBACA,gCACA,sBACA,6CACA,+BAEA,oCACA,yBACA,gDACA,kCAGA,6BAGA,yCACA,yCACA,kBACA,mBACAvI,2BACA,kBACA,wDACA,4BACA,mBACA,uCAKAwI,mBAAA,WACA,uBACA,eACAxI,WACAsC,QACAmG,4BACAzE,6EAEA,kBACA,mBACA,2CACA,gCAEA,6BACA,yDACA,sCACA,0CACA,4EACA,0BACA,4DACA,sCACA,oCACA,wCACA,0BACA,oCACA,qEACA,kBACA,sBASA,GARA0E,cACAA,oBACAA,UACAA,aACAA,iDACAA,6DACAA,2CACAA,iBACA,8DACA,qGACA,OACAA,oBACA9H,oBACAwB,0BACAD,wCAEA,mCACA,CACA,gCACAwG,uBACAA,oBACA/H,oBACAwB,0BACAD,wCAEA,kCAGA,kCAGA,uCACA,sBACAmC,wBACAhE,4BACAM,gCACAF,0BACAgH,4CACA7G,gDACAyE,QACAkC,yCACAvG,sBAGA,mBACA,oBACA,qCAGA2H,mBACA,2BACA,iDAEA,8BACA,wDAGA/G,oHACAgH,iCACAC,uBAEAD,kCACAE,uBAEAF,qCACAG,0BAEAH,sCACAI,0BAEAJ,yCACAK,6BAEAL,0BACAM,gBACAC,oBACAC,uBACA,IACAC,+BACA,2BACAhH,QACA0B,qBAIAuF,kCACA,8BACAjH,QACA0B,wBAIAwF,0BACA,8BACAlH,QACAmH,aACA1I,qBACA,+BAEAyG,4CACAkC,gCACA1F,8BACA2F,qBACAC,8BAIAC,6BACA,iCACAvH,QACAmH,aACA1I,sBAEAyG,4CACAkC,oBACA1F,kBACA2F,wBACAC,iCAIAE,0BAAA,WACA,uBACAC,yIACA,kCACA,iBACA,iBACA,8BAGA,qCACA,iBACA,iBACA,iCAGA,uBACA,mBACA,oBACA,qCAGAC,gCAAA,WACA,kBACAD,gFACA,wBACA,kBACA,mBACA,eACA,qCAGAnG,8BACA,uBACA,0BACA,8BACA,KACAe,2BACA,uBACA,6BAEAG,8BACA,0BACA,6BAEArB,0BACA,sEACA,oBACA,0BAGAsB,2BACA,2BAEAZ,uBACA,8HACA,SACA,mCACA,sCACA,mDACA,8CAEA8F,cACA,8CAEA,CACA,0BACA,sCACA,mDACA,8CAEAvB,aACAA,iBACA,mCAGA,kBAEAnE,0BACA,sFACA,SACA,4BACA2F,cACA,sCACA,CACA,QACAC,aACA,2BAEA,kBAEArD,2BACA,iBACA,8HACA,SACA,mCACAmD,sBACAA,4BACAA,gBACAA,qCACA,6CACA,CACA,0BACAvB,sBACAA,4BACAA,gBACAA,qCACA,kCAEA,6BAGA/C,wBACA,qEACA,sDAGAP,uBACA,sEACA,sCACA,mDACA,6CAEA,4BAIAI,0BACA,qEACA,8BAGAY,2BACA,8CACA,kBAEAC,uBACA,aACA,qCACA,IACA,cACA4D,sBACAA,yCACAA,gBACA,gDAEA,4CAEA,mBAGA1D,0BACA,gBACA,8BACA,IACA,cACA2D,sBACAA,yCACAA,gBACA,yCAEA,qCAEA,mBAGA5D,uBACA,aACA,qCACA,IACA,4CACA,mBAGAE,0BACA,gBACA,8BACA,IACA,qCACA,mBAGA4D,+BAAA,WACA,iBACA,oBAEA,gCACA/H,6BACAJ,8BACA,kBACA,kDACA,4CAEA,wEACA,OACAgC,aACAjC,iBACAkC,YACA8D,kBACA/F,aACAgG,sBACArH,WACAF,cACAgH,iBACA7G,mBACAyE,QACAkC,oCACAvG,WACAoE,WACA6C,cACAxB,0CACAC,uDAEA,6BAOA,mCACA5E,8BACA,kBACA,kDACA,4CAEA,wEACA,OACAuC,gBACAhE,oBACAM,WACAF,cACAgH,iBACA7G,mBACAyE,QACAkC,oCACAvG,WACAoE,YAEA,6BAMA,+CACAhD,8CAGA,wCACAN,8CAGA,+CACA,uJACA,MACAM,4BACA,wCACAA,cAEAA,gCAIA,wCACA,yHACA,MACAN,+BACAA,cAEAA,gCAIA,kBAEA+D,2BAAA,WACA,qBACA,2BACA,+CACAzD,wEACAA,kFACA,qCACA,iDAEA,wCACAN,wEACAA,kFACA,qCACA,iDAEA,2EACA,+DACA,wCACA,kDACA,2EACA,KACAsI,oBAAA,WACA,uEAEA,OADA,qEACA,EAGA,SAgBA,OAdA,+CACA,uJACA,MACAC,SAIA,wCACA,yHACA,MACAA,WAIA,IACA,gDACA,IAKAC,oBAEA,aADA,mBACA,2BACA,mCACA,0BACA,4BACA,uBACA,eACA,0BACAC,sBACAA,4BACAA,wCACA,8BAIA,0BAIAtE,gBAAA,WACA,kBACA,iBACA,oBACA,gBACA,2BACAuE,kBACA,cACA,wCACA,eACA,oBACA,uDACA,mBACA,cACA,iCACA,oCAIAxE,kBAAA,WACA,oBAEA,GADA,iBACA,gCAEA,YADA,4DAGA,iBACA,oBACA,gBACA,2BACAwE,kBACA,cACA,0CACA,iDACA,mBACA,cACA,iCACA,oCAIAtE,oBAAA,WACA,mBACA,iBACAnG,aACA,kBACA,gBACA,0CACA,oCACA,mBACA,gBACA,wCCllC4W,I,YCOxWF,EAAY,eACd,EACAb,EACAW,GACA,EACA,KACA,KACA,MAIa,aAAAE,E","file":"js/chunk-aeb1353a.dae2f45f.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/pos\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('pos')))+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=4be7d7f8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('form',{staticClass:\"row\"},[_c('p-modal',{ref:\"serviceModal\",attrs:{\"id\":_vm.id,\"is-loading\":_vm.isLoading,\"title\":_vm._f(\"uppercase\")(_vm.title)}},[_c('template',{slot:\"content\"},[_c('p-form-row',{attrs:{\"id\":\"service-name\",\"name\":\"service-name\",\"label\":\"name\",\"disabled\":true},model:{value:(_vm.service_name),callback:function ($$v) {_vm.service_name=$$v},expression:\"service_name\"}}),_c('p-form-row',{attrs:{\"id\":\"price\",\"name\":\"price\",\"label\":_vm.$t('price')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-number',{attrs:{\"disabled\":true,\"is-text-right\":false},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"quantity\",\"name\":\"quantity\",\"label\":_vm.$t('quantity')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-quantity',{attrs:{\"readonly\":_vm.isSaving,\"is-text-right\":false,\"unsigned\":true,\"show-add-reduce-buttons\":true},model:{value:(_vm.quantity),callback:function ($$v) {_vm.quantity=$$v},expression:\"quantity\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"discount-percent\",\"name\":\"discount-percent\",\"label\":_vm.$t('discount')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-quantity',{attrs:{\"readonly\":_vm.isSaving,\"is-text-right\":false,\"unsigned\":true,\"unit\":\"%\"},model:{value:(_vm.discount_percent),callback:function ($$v) {_vm.discount_percent=$$v},expression:\"discount_percent\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"notes\",\"name\":\"notes\",\"label\":_vm.$t('notes')}},[_c('div',{staticClass:\"col-lg-12 mt-5\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.notes),expression:\"notes\"}],staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"placeholder\":\"Notes\",\"readonly\":_vm.isSaving},domProps:{\"value\":(_vm.notes)},on:{\"input\":function($event){if($event.target.composing)return;_vm.notes=$event.target.value}}})])])],1),_c('template',{slot:\"footer\"},[_c('button',{staticClass:\"btn btn-sm btn-outline-danger\",attrs:{\"disabled\":_vm.isSaving,\"type\":\"button\"},on:{\"click\":_vm.close}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('close')))+\" \")])])],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form\r\n      class=\"row\"\r\n    >\r\n      <p-modal\r\n        :id=\"id\"\r\n        ref=\"serviceModal\"\r\n        :is-loading=\"isLoading\"\r\n        :title=\"title | uppercase\"\r\n      >\r\n        <template slot=\"content\">\r\n          <p-form-row\r\n            id=\"service-name\"\r\n            v-model=\"service_name\"\r\n            name=\"service-name\"\r\n            label=\"name\"\r\n            :disabled=\"true\"\r\n          />\r\n          <p-form-row\r\n            id=\"price\"\r\n            name=\"price\"\r\n            :label=\"$t('price')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-9\"\r\n            >\r\n              <p-form-number\r\n                v-model=\"price\"\r\n                :disabled=\"true\"\r\n                :is-text-right=\"false\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n          <p-form-row\r\n            id=\"quantity\"\r\n            name=\"quantity\"\r\n            :label=\"$t('quantity')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-9\"\r\n            >\r\n              <p-quantity\r\n                v-model=\"quantity\"\r\n                :readonly=\"isSaving\"\r\n                :is-text-right=\"false\"\r\n                :unsigned=\"true\"\r\n                :show-add-reduce-buttons=\"true\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n          <p-form-row\r\n            id=\"discount-percent\"\r\n            name=\"discount-percent\"\r\n            :label=\"$t('discount')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-9\"\r\n            >\r\n              <p-quantity\r\n                v-model=\"discount_percent\"\r\n                :readonly=\"isSaving\"\r\n                :is-text-right=\"false\"\r\n                :unsigned=\"true\"\r\n                unit=\"%\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n          <p-form-row\r\n            id=\"notes\"\r\n            name=\"notes\"\r\n            :label=\"$t('notes')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-12 mt-5\"\r\n            >\r\n              <textarea\r\n                v-model=\"notes\"\r\n                rows=\"5\"\r\n                class=\"form-control\"\r\n                placeholder=\"Notes\"\r\n                :readonly=\"isSaving\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n        </template>\r\n        <template slot=\"footer\">\r\n          <button\r\n            :disabled=\"isSaving\"\r\n            type=\"button\"\r\n            class=\"btn btn-sm btn-outline-danger\"\r\n            @click=\"close\"\r\n          >\r\n            <i\r\n              v-show=\"isSaving\"\r\n              class=\"fa fa-asterisk fa-spin\"\r\n            /> {{ $t('close') | uppercase }}\r\n          </button>\r\n        </template>\r\n      </p-modal>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      title: 'Service',\r\n      isSaving: false,\r\n      index: null,\r\n      service_name: null,\r\n      quantity: null,\r\n      price: null,\r\n      discount_percent: null,\r\n      notes: null\r\n    }\r\n  },\r\n  methods: {\r\n    show (index, service) {\r\n      this.index = index\r\n      this.service_name = service.service_name\r\n      this.quantity = service.quantity\r\n      this.price = service.price\r\n      this.discount_percent = service.discount_percent\r\n      this.notes = service.notes\r\n      this.$refs.serviceModal.show()\r\n    },\r\n    close () {\r\n      if (this.discount_percent > 100) {\r\n        this.discount_percent = 100\r\n      } else if (this.discount_percent < 0) {\r\n        this.discount_percent = 0\r\n      }\r\n      this.$emit('updateService', {\r\n        service: {\r\n          index: this.index,\r\n          quantity: parseFloat(this.quantity),\r\n          discount_percent: parseFloat(this.discount_percent),\r\n          notes: this.notes\r\n        }\r\n      })\r\n      this.index = null\r\n      this.service_name = null\r\n      this.quantity = null\r\n      this.price = null\r\n      this.discount_percent = null\r\n      this.notes = null\r\n      this.$refs.serviceModal.close()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServiceModal.vue?vue&type=template&id=0d56d75c&\"\nimport script from \"./ServiceModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ServiceModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('form',{staticClass:\"row\"},[_c('p-modal',{ref:\"discountModal\",attrs:{\"id\":_vm.id,\"is-loading\":_vm.isLoading,\"title\":_vm._f(\"uppercase\")(_vm.title)}},[_c('template',{slot:\"content\"},[_c('p-form-row',{attrs:{\"id\":\"discount\",\"name\":\"discount\",\"label\":_vm.$t('discount')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-number',{attrs:{\"is-text-right\":false},model:{value:(_vm.discount_percent),callback:function ($$v) {_vm.discount_percent=$$v},expression:\"discount_percent\"}})],1)])],1),_c('template',{slot:\"footer\"},[_c('button',{staticClass:\"btn btn-sm btn-outline-danger\",attrs:{\"disabled\":_vm.isSaving,\"type\":\"button\"},on:{\"click\":_vm.close}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('close')))+\" \")])])],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form\r\n      class=\"row\"\r\n    >\r\n      <p-modal\r\n        :id=\"id\"\r\n        ref=\"discountModal\"\r\n        :is-loading=\"isLoading\"\r\n        :title=\"title | uppercase\"\r\n      >\r\n        <template slot=\"content\">\r\n          <p-form-row\r\n            id=\"discount\"\r\n            name=\"discount\"\r\n            :label=\"$t('discount')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-9\"\r\n            >\r\n              <p-form-number\r\n                v-model=\"discount_percent\"\r\n                :is-text-right=\"false\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n        </template>\r\n        <template slot=\"footer\">\r\n          <button\r\n            :disabled=\"isSaving\"\r\n            type=\"button\"\r\n            class=\"btn btn-sm btn-outline-danger\"\r\n            @click=\"close\"\r\n          >\r\n            <i\r\n              v-show=\"isSaving\"\r\n              class=\"fa fa-asterisk fa-spin\"\r\n            /> {{ $t('close') | uppercase }}\r\n          </button>\r\n        </template>\r\n      </p-modal>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      title: 'Discount',\r\n      isSaving: false,\r\n      discount_percent: 0\r\n    }\r\n  },\r\n  methods: {\r\n    show (discountPercent) {\r\n      this.discount_percent = discountPercent\r\n      this.$refs.discountModal.show()\r\n    },\r\n    close () {\r\n      if (this.discount_percent > 100) {\r\n        this.discount_percent = 100\r\n      } else if (this.discount_percent < 0) {\r\n        this.discount_percent = 0\r\n      }\r\n      this.$emit('updateDiscount', {\r\n        discount_percent: this.discount_percent\r\n      })\r\n      this.discount_percent = 0\r\n      this.$refs.discountModal.close()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscountModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscountModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiscountModal.vue?vue&type=template&id=2bfdcecb&\"\nimport script from \"./DiscountModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DiscountModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('form',{staticClass:\"row\"},[_c('p-modal',{ref:\"itemModal\",attrs:{\"id\":_vm.id,\"is-loading\":_vm.isLoading,\"title\":_vm._f(\"uppercase\")(_vm.title)}},[_c('template',{slot:\"content\"},[_c('p-form-row',{attrs:{\"id\":\"item-name\",\"name\":\"item-name\",\"label\":\"name\",\"disabled\":true},model:{value:(_vm.item_name),callback:function ($$v) {_vm.item_name=$$v},expression:\"item_name\"}}),_c('p-form-row',{attrs:{\"id\":\"price\",\"name\":\"price\",\"label\":_vm.$t('price')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-number',{attrs:{\"disabled\":true,\"is-text-right\":false},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"quantity\",\"name\":\"quantity\",\"label\":_vm.$t('quantity')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-quantity',{attrs:{\"readonly\":_vm.isSaving,\"is-text-right\":false,\"unsigned\":true,\"unit\":_vm.unit.label,\"show-add-reduce-buttons\":true},model:{value:(_vm.quantity),callback:function ($$v) {_vm.quantity=$$v},expression:\"quantity\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"discount-percent\",\"name\":\"discount-percent\",\"label\":_vm.$t('discount')}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-quantity',{attrs:{\"readonly\":_vm.isSaving,\"is-text-right\":false,\"unsigned\":true,\"unit\":\"%\"},model:{value:(_vm.discount_percent),callback:function ($$v) {_vm.discount_percent=$$v},expression:\"discount_percent\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"notes\",\"name\":\"notes\",\"label\":_vm.$t('notes')}},[_c('div',{staticClass:\"col-lg-12 mt-5\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.notes),expression:\"notes\"}],staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"placeholder\":\"Notes\",\"readonly\":_vm.isSaving},domProps:{\"value\":(_vm.notes)},on:{\"input\":function($event){if($event.target.composing)return;_vm.notes=$event.target.value}}})])])],1),_c('template',{slot:\"footer\"},[_c('button',{staticClass:\"btn btn-sm btn-outline-danger\",attrs:{\"disabled\":_vm.isSaving,\"type\":\"button\"},on:{\"click\":_vm.close}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('close')))+\" \")])])],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form\r\n      class=\"row\"\r\n    >\r\n      <p-modal\r\n        :id=\"id\"\r\n        ref=\"itemModal\"\r\n        :is-loading=\"isLoading\"\r\n        :title=\"title | uppercase\"\r\n      >\r\n        <template slot=\"content\">\r\n          <p-form-row\r\n            id=\"item-name\"\r\n            v-model=\"item_name\"\r\n            name=\"item-name\"\r\n            label=\"name\"\r\n            :disabled=\"true\"\r\n          />\r\n          <p-form-row\r\n            id=\"price\"\r\n            name=\"price\"\r\n            :label=\"$t('price')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-9\"\r\n            >\r\n              <p-form-number\r\n                v-model=\"price\"\r\n                :disabled=\"true\"\r\n                :is-text-right=\"false\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n          <p-form-row\r\n            id=\"quantity\"\r\n            name=\"quantity\"\r\n            :label=\"$t('quantity')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-9\"\r\n            >\r\n              <p-quantity\r\n                v-model=\"quantity\"\r\n                :readonly=\"isSaving\"\r\n                :is-text-right=\"false\"\r\n                :unsigned=\"true\"\r\n                :unit=\"unit.label\"\r\n                :show-add-reduce-buttons=\"true\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n          <p-form-row\r\n            id=\"discount-percent\"\r\n            name=\"discount-percent\"\r\n            :label=\"$t('discount')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-9\"\r\n            >\r\n              <p-quantity\r\n                v-model=\"discount_percent\"\r\n                :readonly=\"isSaving\"\r\n                :is-text-right=\"false\"\r\n                :unsigned=\"true\"\r\n                unit=\"%\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n          <p-form-row\r\n            id=\"notes\"\r\n            name=\"notes\"\r\n            :label=\"$t('notes')\"\r\n          >\r\n            <div\r\n              slot=\"body\"\r\n              class=\"col-lg-12 mt-5\"\r\n            >\r\n              <textarea\r\n                v-model=\"notes\"\r\n                rows=\"5\"\r\n                class=\"form-control\"\r\n                placeholder=\"Notes\"\r\n                :readonly=\"isSaving\"\r\n              />\r\n            </div>\r\n          </p-form-row>\r\n        </template>\r\n        <template slot=\"footer\">\r\n          <button\r\n            :disabled=\"isSaving\"\r\n            type=\"button\"\r\n            class=\"btn btn-sm btn-outline-danger\"\r\n            @click=\"close\"\r\n          >\r\n            <i\r\n              v-show=\"isSaving\"\r\n              class=\"fa fa-asterisk fa-spin\"\r\n            /> {{ $t('close') | uppercase }}\r\n          </button>\r\n        </template>\r\n      </p-modal>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      title: 'Item',\r\n      isSaving: false,\r\n      index: null,\r\n      item_name: null,\r\n      unit: '',\r\n      quantity: null,\r\n      price: null,\r\n      discount_percent: null,\r\n      notes: null,\r\n      production_number: null,\r\n      expiry_date: this.$moment().format('YYYY-MM-DD')\r\n    }\r\n  },\r\n  methods: {\r\n    show (index, item) {\r\n      this.index = index\r\n      this.item_name = item.item_name\r\n      this.unit = item.item_unit\r\n      this.quantity = item.quantity\r\n      this.price = item.price\r\n      this.discount_percent = item.discount_percent\r\n      this.notes = item.notes\r\n      this.production_number = item.production_number\r\n      this.expiry_date = this.$options.filters.dateFormat(item.expiry_date, 'DD MMMM YYYY')\r\n      this.$refs.itemModal.show()\r\n    },\r\n    close () {\r\n      if (this.discount_percent > 100) {\r\n        this.discount_percent = 100\r\n      } else if (this.discount_percent < 0) {\r\n        this.discount_percent = 0\r\n      }\r\n      this.$emit('updateItem', {\r\n        item: {\r\n          index: this.index,\r\n          quantity: parseFloat(this.quantity),\r\n          discount_percent: parseFloat(this.discount_percent),\r\n          notes: this.notes\r\n        }\r\n      })\r\n      this.index = null\r\n      this.item_name = null\r\n      this.unit = ''\r\n      this.quantity = null\r\n      this.price = null\r\n      this.discount_percent = null\r\n      this.notes = null\r\n      this.production_number = null\r\n      this.expiry_date = null\r\n      this.$refs.itemModal.close()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemModal.vue?vue&type=template&id=487664d5&\"\nimport script from \"./ItemModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('breadcrumb',[_c('breadcrumb-pos'),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":\"/pos/open-bill\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('open bill')))+\" \")]),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"to\":{ name: 'pos.open-bill.show', params: { id: _vm.id }}}},[_vm._v(\" \"+_vm._s(_vm.id)+\" \")]),_c('span',{staticClass:\"breadcrumb-item active\"},[_vm._v(_vm._s(_vm._f(\"uppercase\")(_vm.$t('edit'))))])],1),_c('form',{staticClass:\"row\"},[_c('p-block',{attrs:{\"header\":true,\"title\":_vm.$t('edit bill') + ' (' + _vm.bill.form.number + ')',\"is-fullscreen\":true,\"show-fullscreen-button\":false,\"show-hidden-button\":false,\"column\":\"col-sm-12\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" |\"),(_vm.$permission.has('create pos'))?_c('router-link',{attrs:{\"to\":\"/pos/open-bill/create\",\"exact\":\"\"}},[_c('button',{staticClass:\"btn-block-option\",attrs:{\"type\":\"button\"}},[_vm._v(\" Add \")])]):_vm._e(),_vm._v(\"| \"),(_vm.$permission.has('read pos'))?_c('router-link',{attrs:{\"to\":\"/pos/open-bill\",\"exact\":\"\"}},[_c('button',{staticClass:\"btn-block-option\",attrs:{\"type\":\"button\"}},[_vm._v(\" List \")])]):_vm._e(),_vm._v(\"| \")]},proxy:true}])},[_c('p-block-inner',{attrs:{\"is-loading\":_vm.isGroupLoading}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-8\"},[_c('ul',{staticClass:\"nav nav-tabs nav-tabs-alt mb-15\",attrs:{\"data-toggle\":\"tabs\",\"role\":\"tablist\"}},[_vm._l((_vm.itemGroups),function(group,index){return _c('li',{key:'item-group-' + index,staticClass:\"nav-item\"},[(_vm.currentGroup && _vm.currentGroupType === 'item' && group.id === _vm.currentGroup.id)?_c('a',{staticClass:\"nav-link active\"},[_vm._v(_vm._s(group.name))]):_c('a',{staticClass:\"nav-link\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.selectGroup(group, 'item')}}},[_vm._v(_vm._s(group.name))])])}),_vm._l((_vm.serviceGroups),function(group,index){return _c('li',{key:'service-group-' + index,staticClass:\"nav-item\"},[(_vm.currentGroup && _vm.currentGroupType === 'service' && group.id === _vm.currentGroup.id)?_c('a',{staticClass:\"nav-link active\"},[_vm._v(_vm._s(group.name))]):_c('a',{staticClass:\"nav-link\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.selectGroup(group, 'service')}}},[_vm._v(_vm._s(group.name))])])})],2),_c('p-form-input',{attrs:{\"id\":\"search-text\",\"name\":\"search-text\",\"placeholder\":\"Search\",\"disabled\":_vm.isSaving || _vm.isDeleting || _vm.isLoading || _vm.isGroupLoading},on:{\"input\":_vm.filterSearch},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_c('p-block-inner',{attrs:{\"is-loading\":_vm.isLoading}},[_c('div',{staticClass:\"row gutters-tiny\"},[_vm._l((_vm.itemList),function(item,index){return [(_vm.currentGroupType === 'item')?[(_vm.groupItemList.includes(item.item_id))?_c('p-box-item',{key:'item-' + index,attrs:{\"id\":'item-' + index,\"item\":item,\"item-name\":item.item_name,\"item-price\":item.price,\"item-unit\":item.item_unit,\"clicked\":_vm.chooseItem}}):_vm._e()]:_vm._e()]}),_vm._l((_vm.serviceList),function(service,index){return [(_vm.currentGroupType === 'service')?[(_vm.groupServiceList.includes(service.service_id))?_c('p-box-item',{key:'service-' + index,attrs:{\"id\":'service-' + index,\"item\":service,\"item-name\":service.service_name,\"item-price\":service.price,\"clicked\":_vm.chooseService}}):_vm._e()]:_vm._e()]})],2),(_vm.currentGroupType === 'item' && _vm.itemList.length !== 0)?_c('p-pagination',{attrs:{\"current-page\":_vm.currentPageItem,\"last-page\":_vm.lastPageItem},on:{\"updatePageItem\":_vm.updatePageItem}}):_vm._e(),(_vm.currentGroupType === 'service' && _vm.serviceList.length !== 0)?_c('p-pagination',{attrs:{\"current-page\":_vm.currentPageService,\"last-page\":_vm.lastPageService},on:{\"updatePageService\":_vm.updatePageService}}):_vm._e()],1)],1),_c('div',{staticClass:\"col-sm-4\",staticStyle:{\"background-color\":\"LightGray\"}},[_c('p-table',{staticStyle:{\"margin-bottom\":\"0px\"}},[_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('customer')))+\" \")]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_c('div',{staticStyle:{\"text-align\":\"right\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('m-customer',{attrs:{\"id\":\"customer\"},on:{\"choosen\":_vm.chooseCustomer},model:{value:(_vm.form.customer_id),callback:function ($$v) {_vm.$set(_vm.form, \"customer_id\", $$v)},expression:\"form.customer_id\"}})],1)])]),_vm._l((_vm.form.items_temporary),function(row,index){return [_c('tr',{key:'item-select-' + index,staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"p-body\"},on:{\"click\":function($event){return _vm.showItem(index, row)}},slot:\"p-body\"},[_c('td',{staticStyle:{\"text-align\":\"left\"},attrs:{\"width\":\"75%\"}},[[_c('label',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"blue\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.quantity))+\"x\")]),_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.price))+\" \")],_c('br'),_c('b',[_vm._v(_vm._s(row.item_name)+\" (\"+_vm._s(row.item_unit.label)+\")\")]),(row.discount_percent > 0)?[_c('br'),_c('label',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"orange\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.discount_percent))+\"% Discount\")])]:_vm._e(),(row.error)?[_c('br'),_c('label',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"red\"}},[_vm._v(_vm._s(row.error))])]:_vm._e(),(row.notes)?[_c('br'),_c('br'),_c('label',{staticStyle:{\"cursor\":\"pinter\"}},[_vm._v(\"Note: \"+_vm._s(row.notes))])]:_vm._e()],2),_c('td',{staticStyle:{\"text-align\":\"right\"},attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.total)))])])])]}),_vm._l((_vm.form.services),function(row,index){return _c('tr',{key:'service-select-' + index,staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"p-body\"},on:{\"click\":function($event){return _vm.showService(index, row)}},slot:\"p-body\"},[_c('td',{staticStyle:{\"text-align\":\"left\"},attrs:{\"width\":\"75%\"}},[[_c('label',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"blue\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.quantity))+\"x\")]),_vm._v(\" \"+_vm._s(_vm._f(\"numberFormat\")(row.price))+\" \")],_c('br'),_c('b',[_vm._v(_vm._s(row.service_name))]),(row.discount_percent > 0)?[_c('br'),_c('label',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"orange\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.discount_percent))+\"% Discount\")])]:_vm._e(),(row.error)?[_c('br'),_c('label',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"red\"}},[_vm._v(_vm._s(row.error))])]:_vm._e(),(row.notes)?[_c('br'),_c('br'),_c('label',{staticStyle:{\"cursor\":\"pinter\"}},[_vm._v(\"Note: \"+_vm._s(row.notes))])]:_vm._e()],2),_c('td',{staticStyle:{\"text-align\":\"right\"},attrs:{\"width\":\"25%\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(row.total)))])])])}),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('total items')))+\" \")]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.form.total_quantity)))])])]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('sub total')))+\" \")]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.form.subtotal)))])])]),_c('tr',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"p-body\"},on:{\"click\":function($event){return _vm.showDiscount()}},slot:\"p-body\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('discount')))+\" \")]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[(!_vm.form.discount_percent)?[_c('b',[_vm._v(\"+\")])]:[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.form.discount_percent))+\"%\")])]],2)]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('total')))+\" \")]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_c('b',[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.form.amount)))])])]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('money received')))+\" \")]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_c('div',{staticStyle:{\"text-align\":\"right\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-number',{attrs:{\"id\":\"paid\",\"name\":\"paid\",\"readonly\":_vm.isSaving || _vm.isDeleting || _vm.isLoading || _vm.isGroupLoading},nativeOn:{\"keyup\":function($event){return _vm.calculate()}},model:{value:(_vm.form.paid),callback:function ($$v) {_vm.$set(_vm.form, \"paid\", $$v)},expression:\"form.paid\"}})],1)])]),_c('tr',{attrs:{\"slot\":\"p-body\"},slot:\"p-body\"},[_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('money change')))+\" \")]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[(_vm.form.change < 0)?_c('b',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.form.change)))]):_c('b',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(_vm._f(\"numberFormat\")(_vm.form.change)))])])])],2),_c('p-form-row',{attrs:{\"id\":\"notes\",\"name\":\"notes\",\"label\":_vm.$t('notes')}},[_c('div',{staticClass:\"col-lg-12 mt-5\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.notes),expression:\"form.notes\"}],staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"placeholder\":\"Notes\",\"readonly\":_vm.isSaving},domProps:{\"value\":(_vm.form.notes)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"notes\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('div',{staticClass:\"col-md-12\"},[(_vm.form.items_temporary.length !== 0 || _vm.form.services.length !== 0)?_c('button',{staticClass:\"btn btn-block btn-success\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving || _vm.isDeleting || _vm.isLoading || _vm.isGroupLoading},on:{\"click\":_vm.charge}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" Charge \"+_vm._s(_vm._f(\"numberFormat\")(_vm.form.amount))+\" \")]):_vm._e(),(_vm.form.items_temporary.length !== 0 || _vm.form.services.length !== 0)?_c('button',{staticClass:\"btn btn-block btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving || _vm.isDeleting || _vm.isLoading || _vm.isGroupLoading},on:{\"click\":_vm.save}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('save')))+\" \")]):_vm._e(),(_vm.$permission.has('delete pos'))?_c('button',{staticClass:\"btn btn-block btn-danger\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving || _vm.isDeleting || _vm.isLoading || _vm.isGroupLoading},on:{\"click\":_vm.onDelete}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDeleting),expression:\"isDeleting\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('delete')))+\" \")]):_vm._e()])])],1)])])],1)],1),_c('discount-modal',{ref:\"discount\",attrs:{\"id\":\"discount\"},on:{\"updateDiscount\":_vm.updateDiscount}}),_c('item-modal',{ref:\"item\",attrs:{\"id\":\"item\"},on:{\"updateItem\":_vm.updateItem,\"deleteItem\":_vm.deleteItem}}),_c('service-modal',{ref:\"service\",attrs:{\"id\":\"service\"},on:{\"updateService\":_vm.updateService,\"deleteService\":_vm.deleteService}}),_c('m-inventory-out',{key:'inventory',ref:\"inventory\",attrs:{\"id\":'inventory',\"item-id\":_vm.selectedItem.item_id,\"require-expiry-date\":_vm.selectedItem.require_expiry_date,\"require-production-number\":_vm.selectedItem.require_production_number,\"warehouse-id\":_vm.form.warehouse_id,\"inventories\":_vm.selectedItem.inventories,\"is-pos\":true,\"item-name\":_vm.selectedItem.item_name,\"item-price\":_vm.selectedItem.price,\"item-unit\":_vm.selectedItem.item_unit},on:{\"add\":function($event){return _vm.addInventory($event, _vm.selectedItem)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <breadcrumb>\r\n      <breadcrumb-pos />\r\n      <router-link\r\n        to=\"/pos/open-bill\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ $t('open bill') | uppercase }}\r\n      </router-link>\r\n      <router-link\r\n        :to=\"{ name: 'pos.open-bill.show', params: { id: id }}\"\r\n        class=\"breadcrumb-item\"\r\n      >\r\n        {{ id }}\r\n      </router-link>\r\n      <span class=\"breadcrumb-item active\">{{ $t('edit') | uppercase }}</span>\r\n    </breadcrumb>\r\n\r\n    <form class=\"row\">\r\n      <p-block\r\n        :header=\"true\"\r\n        :title=\"$t('edit bill') + ' (' + bill.form.number + ')'\"\r\n        :is-fullscreen=\"true\"\r\n        :show-fullscreen-button=\"false\"\r\n        :show-hidden-button=\"false\"\r\n        column=\"col-sm-12\"\r\n      >\r\n        <template #header>\r\n          |<router-link\r\n            v-if=\"$permission.has('create pos')\"\r\n            to=\"/pos/open-bill/create\"\r\n            exact\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-block-option\"\r\n            >\r\n              Add\r\n            </button>\r\n          </router-link>|\r\n          <router-link\r\n            v-if=\"$permission.has('read pos')\"\r\n            to=\"/pos/open-bill\"\r\n            exact\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-block-option\"\r\n            >\r\n              List\r\n            </button>\r\n          </router-link>|\r\n        </template>\r\n\r\n        <p-block-inner :is-loading=\"isGroupLoading\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-8\">\r\n              <ul\r\n                class=\"nav nav-tabs nav-tabs-alt mb-15\"\r\n                data-toggle=\"tabs\"\r\n                role=\"tablist\"\r\n              >\r\n                <li\r\n                  v-for=\"(group, index) in itemGroups\"\r\n                  :key=\"'item-group-' + index\"\r\n                  class=\"nav-item\"\r\n                >\r\n                  <a\r\n                    v-if=\"currentGroup && currentGroupType === 'item' && group.id === currentGroup.id\"\r\n                    class=\"nav-link active\"\r\n                  >{{ group.name }}</a>\r\n                  <a\r\n                    v-else\r\n                    class=\"nav-link\"\r\n                    style=\"cursor:pointer;\"\r\n                    @click=\"selectGroup(group, 'item')\"\r\n                  >{{ group.name }}</a>\r\n                </li>\r\n                <li\r\n                  v-for=\"(group, index) in serviceGroups\"\r\n                  :key=\"'service-group-' + index\"\r\n                  class=\"nav-item\"\r\n                >\r\n                  <a\r\n                    v-if=\"currentGroup && currentGroupType === 'service' && group.id === currentGroup.id\"\r\n                    class=\"nav-link active\"\r\n                  >{{ group.name }}</a>\r\n                  <a\r\n                    v-else\r\n                    class=\"nav-link\"\r\n                    style=\"cursor:pointer;\"\r\n                    @click=\"selectGroup(group, 'service')\"\r\n                  >{{ group.name }}</a>\r\n                </li>\r\n              </ul>\r\n\r\n              <p-form-input\r\n                id=\"search-text\"\r\n                v-model=\"searchText\"\r\n                name=\"search-text\"\r\n                placeholder=\"Search\"\r\n                :disabled=\"isSaving || isDeleting || isLoading || isGroupLoading\"\r\n                @input=\"filterSearch\"\r\n              />\r\n\r\n              <p-block-inner :is-loading=\"isLoading\">\r\n                <div class=\"row gutters-tiny\">\r\n                  <template v-for=\"(item, index) in itemList\">\r\n                    <template v-if=\"currentGroupType === 'item'\">\r\n                      <p-box-item\r\n                        v-if=\"groupItemList.includes(item.item_id)\"\r\n                        :id=\"'item-' + index\"\r\n                        :key=\"'item-' + index\"\r\n                        :item=\"item\"\r\n                        :item-name=\"item.item_name\"\r\n                        :item-price=\"item.price\"\r\n                        :item-unit=\"item.item_unit\"\r\n                        :clicked=\"chooseItem\"\r\n                      />\r\n                    </template>\r\n                  </template>\r\n                  <template v-for=\"(service, index) in serviceList\">\r\n                    <template v-if=\"currentGroupType === 'service'\">\r\n                      <p-box-item\r\n                        v-if=\"groupServiceList.includes(service.service_id)\"\r\n                        :id=\"'service-' + index\"\r\n                        :key=\"'service-' + index\"\r\n                        :item=\"service\"\r\n                        :item-name=\"service.service_name\"\r\n                        :item-price=\"service.price\"\r\n                        :clicked=\"chooseService\"\r\n                      />\r\n                    </template>\r\n                  </template>\r\n                </div>\r\n                <p-pagination\r\n                  v-if=\"currentGroupType === 'item' && itemList.length !== 0\"\r\n                  :current-page=\"currentPageItem\"\r\n                  :last-page=\"lastPageItem\"\r\n                  @updatePageItem=\"updatePageItem\"\r\n                />\r\n                <p-pagination\r\n                  v-if=\"currentGroupType === 'service' && serviceList.length !== 0\"\r\n                  :current-page=\"currentPageService\"\r\n                  :last-page=\"lastPageService\"\r\n                  @updatePageService=\"updatePageService\"\r\n                />\r\n              </p-block-inner>\r\n            </div>\r\n\r\n            <div\r\n              class=\"col-sm-4\"\r\n              style=\"background-color:LightGray;\"\r\n            >\r\n              <p-table style=\"margin-bottom:0px;\">\r\n                <tr slot=\"p-body\">\r\n                  <td>\r\n                    {{ $t('customer') | titlecase }}\r\n                  </td>\r\n                  <td style=\"text-align:right;\">\r\n                    <div\r\n                      slot=\"body\"\r\n                      style=\"text-align:right;\"\r\n                    >\r\n                      <m-customer\r\n                        id=\"customer\"\r\n                        v-model=\"form.customer_id\"\r\n                        @choosen=\"chooseCustomer\"\r\n                      />\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <template v-for=\"(row, index) in form.items_temporary\">\r\n                  <tr\r\n                    slot=\"p-body\"\r\n                    :key=\"'item-select-' + index\"\r\n                    style=\"cursor:pointer;\"\r\n                    @click=\"showItem(index, row)\"\r\n                  >\r\n                    <td\r\n                      style=\"text-align:left;\"\r\n                      width=\"75%\"\r\n                    >\r\n                      <template>\r\n                        <label style=\"cursor:pointer;color:blue;\">{{ row.quantity | numberFormat }}x</label>\r\n                        {{ row.price | numberFormat }}\r\n                      </template>\r\n                      <br>\r\n                      <b>{{ row.item_name }} ({{ row.item_unit.label }})</b>\r\n                      <template v-if=\"row.discount_percent > 0\">\r\n                        <br>\r\n                        <label style=\"cursor:pointer;color:orange;\">{{ row.discount_percent | numberFormat }}% Discount</label>\r\n                      </template>\r\n                      <template v-if=\"row.error\">\r\n                        <br>\r\n                        <label style=\"cursor:pointer;color:red;\">{{ row.error }}</label>\r\n                      </template>\r\n                      <template v-if=\"row.notes\">\r\n                        <br>\r\n                        <br>\r\n                        <label style=\"cursor:pinter;\">Note: {{ row.notes }}</label>\r\n                      </template>\r\n                    </td>\r\n                    <td\r\n                      style=\"text-align:right;\"\r\n                      width=\"25%\"\r\n                    >\r\n                      <b>{{ row.total | numberFormat }}</b>\r\n                    </td>\r\n                  </tr>\r\n                </template>\r\n                <tr\r\n                  v-for=\"(row, index) in form.services\"\r\n                  slot=\"p-body\"\r\n                  :key=\"'service-select-' + index\"\r\n                  style=\"cursor:pointer;\"\r\n                  @click=\"showService(index, row)\"\r\n                >\r\n                  <td\r\n                    style=\"text-align:left;\"\r\n                    width=\"75%\"\r\n                  >\r\n                    <template>\r\n                      <label style=\"cursor:pointer;color:blue;\">{{ row.quantity | numberFormat }}x</label>\r\n                      {{ row.price | numberFormat }}\r\n                    </template>\r\n                    <br>\r\n                    <b>{{ row.service_name }}</b>\r\n                    <template v-if=\"row.discount_percent > 0\">\r\n                      <br>\r\n                      <label style=\"cursor:pointer;color:orange;\">{{ row.discount_percent | numberFormat }}% Discount</label>\r\n                    </template>\r\n                    <template v-if=\"row.error\">\r\n                      <br>\r\n                      <label style=\"cursor:pointer;color:red;\">{{ row.error }}</label>\r\n                    </template>\r\n                    <template v-if=\"row.notes\">\r\n                      <br>\r\n                      <br>\r\n                      <label style=\"cursor:pinter;\">Note: {{ row.notes }}</label>\r\n                    </template>\r\n                  </td>\r\n                  <td\r\n                    style=\"text-align:right;\"\r\n                    width=\"25%\"\r\n                  >\r\n                    <b>{{ row.total | numberFormat }}</b>\r\n                  </td>\r\n                </tr>\r\n                <tr slot=\"p-body\">\r\n                  <td>\r\n                    {{ $t('total items') | titlecase }}\r\n                  </td>\r\n                  <td style=\"text-align:right;\">\r\n                    <b>{{ form.total_quantity | numberFormat }}</b>\r\n                  </td>\r\n                </tr>\r\n                <tr slot=\"p-body\">\r\n                  <td>\r\n                    {{ $t('sub total') | titlecase }}\r\n                  </td>\r\n                  <td style=\"text-align:right;\">\r\n                    <b>{{ form.subtotal | numberFormat }}</b>\r\n                  </td>\r\n                </tr>\r\n                <tr\r\n                  slot=\"p-body\"\r\n                  style=\"cursor:pointer;\"\r\n                  @click=\"showDiscount()\"\r\n                >\r\n                  <td>\r\n                    {{ $t('discount') | titlecase }}\r\n                  </td>\r\n                  <td style=\"text-align:right;\">\r\n                    <template v-if=\"!form.discount_percent\">\r\n                      <b>+</b>\r\n                    </template>\r\n                    <template v-else>\r\n                      <b>{{ form.discount_percent | numberFormat }}%</b>\r\n                    </template>\r\n                  </td>\r\n                </tr>\r\n                <tr slot=\"p-body\">\r\n                  <td>\r\n                    {{ $t('total') | titlecase }}\r\n                  </td>\r\n                  <td style=\"text-align:right;\">\r\n                    <b>{{ form.amount | numberFormat }}</b>\r\n                  </td>\r\n                </tr>\r\n                <tr slot=\"p-body\">\r\n                  <td>\r\n                    {{ $t('money received') | titlecase }}\r\n                  </td>\r\n                  <td style=\"text-align:right;\">\r\n                    <div\r\n                      slot=\"body\"\r\n                      style=\"text-align:right;\"\r\n                    >\r\n                      <p-form-number\r\n                        id=\"paid\"\r\n                        v-model=\"form.paid\"\r\n                        name=\"paid\"\r\n                        :readonly=\"isSaving || isDeleting || isLoading || isGroupLoading\"\r\n                        @keyup.native=\"calculate()\"\r\n                      />\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr slot=\"p-body\">\r\n                  <td>\r\n                    {{ $t('money change') | titlecase }}\r\n                  </td>\r\n                  <td style=\"text-align:right;\">\r\n                    <b\r\n                      v-if=\"form.change < 0\"\r\n                      style=\"color:red;\"\r\n                    >{{ form.change | numberFormat }}</b>\r\n                    <b\r\n                      v-else\r\n                      style=\"color:green;\"\r\n                    >{{ form.change | numberFormat }}</b>\r\n                  </td>\r\n                </tr>\r\n              </p-table>\r\n\r\n              <p-form-row\r\n                id=\"notes\"\r\n                name=\"notes\"\r\n                :label=\"$t('notes')\"\r\n              >\r\n                <div\r\n                  slot=\"body\"\r\n                  class=\"col-lg-12 mt-5\"\r\n                >\r\n                  <textarea\r\n                    v-model=\"form.notes\"\r\n                    rows=\"5\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Notes\"\r\n                    :readonly=\"isSaving\"\r\n                  />\r\n                </div>\r\n              </p-form-row>\r\n              <div class=\"form-group row\">\r\n                <div class=\"col-md-12\">\r\n                  <button\r\n                    v-if=\"form.items_temporary.length !== 0 || form.services.length !== 0\"\r\n                    type=\"button\"\r\n                    class=\"btn btn-block btn-success\"\r\n                    :disabled=\"isSaving || isDeleting || isLoading || isGroupLoading\"\r\n                    @click=\"charge\"\r\n                  >\r\n                    <i\r\n                      v-show=\"isSaving\"\r\n                      class=\"fa fa-asterisk fa-spin\"\r\n                    /> Charge {{ form.amount | numberFormat }}\r\n                  </button>\r\n                  <button\r\n                    v-if=\"form.items_temporary.length !== 0 || form.services.length !== 0\"\r\n                    type=\"button\"\r\n                    class=\"btn btn-block btn-primary\"\r\n                    :disabled=\"isSaving || isDeleting || isLoading || isGroupLoading\"\r\n                    @click=\"save\"\r\n                  >\r\n                    <i\r\n                      v-show=\"isSaving\"\r\n                      class=\"fa fa-asterisk fa-spin\"\r\n                    /> {{ $t('save') | uppercase }}\r\n                  </button>\r\n                  <button\r\n                    v-if=\"$permission.has('delete pos')\"\r\n                    type=\"button\"\r\n                    class=\"btn btn-block btn-danger\"\r\n                    :disabled=\"isSaving || isDeleting || isLoading || isGroupLoading\"\r\n                    @click=\"onDelete\"\r\n                  >\r\n                    <i\r\n                      v-show=\"isDeleting\"\r\n                      class=\"fa fa-asterisk fa-spin\"\r\n                    /> {{ $t('delete') | uppercase }}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </p-block-inner>\r\n      </p-block>\r\n    </form>\r\n\r\n    <discount-modal\r\n      id=\"discount\"\r\n      ref=\"discount\"\r\n      @updateDiscount=\"updateDiscount\"\r\n    />\r\n\r\n    <item-modal\r\n      id=\"item\"\r\n      ref=\"item\"\r\n      @updateItem=\"updateItem\"\r\n      @deleteItem=\"deleteItem\"\r\n    />\r\n\r\n    <service-modal\r\n      id=\"service\"\r\n      ref=\"service\"\r\n      @updateService=\"updateService\"\r\n      @deleteService=\"deleteService\"\r\n    />\r\n\r\n    <m-inventory-out\r\n      :id=\"'inventory'\"\r\n      ref=\"inventory\"\r\n      :key=\"'inventory'\"\r\n      :item-id=\"selectedItem.item_id\"\r\n      :require-expiry-date=\"selectedItem.require_expiry_date\"\r\n      :require-production-number=\"selectedItem.require_production_number\"\r\n      :warehouse-id=\"form.warehouse_id\"\r\n      :inventories=\"selectedItem.inventories\"\r\n      :is-pos=\"true\"\r\n      :item-name=\"selectedItem.item_name\"\r\n      :item-price=\"selectedItem.price\"\r\n      :item-unit=\"selectedItem.item_unit\"\r\n      @add=\"addInventory($event, selectedItem)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Breadcrumb from '@/views/Breadcrumb'\r\nimport BreadcrumbPos from '@/views/pos/Breadcrumb'\r\nimport Form from '@/utils/Form'\r\nimport DiscountModal from './DiscountModal'\r\nimport ItemModal from './ItemModal'\r\nimport ServiceModal from './ServiceModal'\r\nimport debounce from 'lodash/debounce'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  components: {\r\n    Breadcrumb,\r\n    BreadcrumbPos,\r\n    DiscountModal,\r\n    ItemModal,\r\n    ServiceModal\r\n  },\r\n  data () {\r\n    return {\r\n      id: this.$route.params.id,\r\n      isSaving: false,\r\n      isLoading: false,\r\n      isGroupLoading: false,\r\n      isDeleting: false,\r\n      searchText: '',\r\n      currentGroup: null,\r\n      currentGroupType: null,\r\n      itemList: [],\r\n      serviceList: [],\r\n      groupItemList: [],\r\n      groupServiceList: [],\r\n      currentPageItem: this.$route.query.pageItem * 1 || 1,\r\n      currentPageService: this.$route.query.pageService * 1 || 1,\r\n      lastPageItem: 1,\r\n      lastPageService: 1,\r\n      form: new Form({\r\n        id: this.$route.params.id,\r\n        increment_group: this.$moment().format('YYYYMM'),\r\n        date: this.$moment().format('YYYY-MM-DD HH:mm:ss'),\r\n        customer_id: null,\r\n        customer_name: null,\r\n        pricing_group_id: -1,\r\n        approver_id: null,\r\n        notes: null,\r\n        subtotal: 0,\r\n        discount_percent: 0,\r\n        discount_value: 0,\r\n        tax_base: 0,\r\n        tax: 0,\r\n        type_of_tax: 'exclude',\r\n        total_quantity: 0,\r\n        amount: 0,\r\n        paid: 0,\r\n        change: 0,\r\n        items_temporary: [],\r\n        items: [],\r\n        services: [],\r\n        is_done: 0,\r\n        warehouse_id: 0\r\n      }),\r\n      selectedItem: {\r\n        item_id: 0,\r\n        item_name: null,\r\n        item_unit: null,\r\n        item_unit_id: 0,\r\n        unit: null,\r\n        converter: 0,\r\n        quantity: 0,\r\n        price: 0,\r\n        discount_value: 0,\r\n        discount_percent: 0,\r\n        total: 0,\r\n        pricing_group_id: -1,\r\n        notes: null,\r\n        error: null,\r\n        stock: 0,\r\n        require_expiry_date: 0,\r\n        require_production_number: 0,\r\n        inventories: []\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('masterCustomer', ['customer']),\r\n    ...mapGetters('masterItemGroup', {\r\n      itemGroups: 'groups'\r\n    }),\r\n    ...mapGetters('masterServiceGroup', {\r\n      serviceGroups: 'groups'\r\n    }),\r\n    ...mapGetters('masterPriceListItem', {\r\n      items: 'items',\r\n      paginationItem: 'pagination'\r\n    }),\r\n    ...mapGetters('masterPriceListService', {\r\n      services: 'services',\r\n      paginationService: 'pagination'\r\n    }),\r\n    ...mapGetters('posBill', ['bill'])\r\n  },\r\n  watch: {\r\n    'currentGroup' () {\r\n      if (this.currentGroup) {\r\n        if (this.currentGroupType === 'item') {\r\n          this.groupItemList = []\r\n          this.currentGroup.items.forEach(item => {\r\n            this.groupItemList.push(item.id)\r\n          })\r\n        } else if (this.currentGroupType === 'service') {\r\n          this.groupServiceList = []\r\n          this.currentGroup.services.forEach(service => {\r\n            this.groupServiceList.push(service.id)\r\n          })\r\n        }\r\n        this.updateDisplayedData()\r\n      }\r\n    },\r\n    'form.customer_id' () {\r\n      if (this.form.customer_id && !this.isLoading) {\r\n        this.isLoading = true\r\n        this.findCustomer({\r\n          id: this.form.customer_id\r\n        }).then(response => {\r\n          this.form.pricing_group_id = this.customer.pricing_group_id || -1\r\n          this.requestPriceListData()\r\n        }).catch(error => {\r\n          this.$notification.error(error.message)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.isGroupLoading = true\r\n    this.findBill({\r\n      id: this.id,\r\n      params: {\r\n        filter_form: 'activePending',\r\n        includes: 'form;customer;items.item.units;services.service;form.createdBy'\r\n      }\r\n    }).then(response => {\r\n      this.requestAllData()\r\n      if (!this.$formRules.allowedToUpdate(this.bill.form)) {\r\n        this.$router.replace('/open-bill')\r\n      }\r\n      this.form.date = this.bill.form.date\r\n      this.form.edited_form_number = this.bill.form.edited_form_number\r\n      this.form.customer_id = this.bill.customer_id\r\n      this.form.customer_name = this.bill.customer_name\r\n      this.form.pricing_group_id = this.bill.customer ? this.bill.customer.pricing_group_id : -1\r\n      this.form.notes = this.bill.notes\r\n      this.form.discount_percent = parseFloat(this.bill.discount_percent)\r\n      this.form.type_of_tax = this.bill.type_of_tax\r\n      this.form.paid = parseFloat(this.bill.paid)\r\n      this.form.warehouse_id = this.bill.warehouse_id\r\n      this.form.items_temporary = []\r\n      this.bill.items.forEach((item, keyItem) => {\r\n        const unitIndex = item.item.units.findIndex(o => o.label === item.unit)\r\n        const unitData = item.item.units[unitIndex]\r\n        var newItem = Object.assign({}, item)\r\n        newItem.item_unit = unitData\r\n        newItem.item_unit_id = unitData.id\r\n        newItem.total = 0\r\n        newItem.error = null\r\n        newItem.require_expiry_date = item.item.require_expiry_date\r\n        newItem.require_production_number = item.item.require_production_number\r\n        newItem.pricing_group_id = this.form.pricing_group_id\r\n        newItem.inventories = []\r\n        if (item.item.require_expiry_date || item.item.require_production_number) {\r\n          const itemTemporaryIndex = this.form.items_temporary.findIndex(o => o.item_id === item.item_id && o.unit === item.unit)\r\n          if (itemTemporaryIndex < 0) {\r\n            newItem.inventories.push({\r\n              quantity: item.quantity,\r\n              expiry_date: item.expiry_date,\r\n              production_number: item.production_number\r\n            })\r\n            this.form.items_temporary.push(newItem)\r\n          } else {\r\n            var existing = this.form.items_temporary[itemTemporaryIndex]\r\n            existing.quantity += item.quantity\r\n            existing.inventories.push({\r\n              quantity: item.quantity,\r\n              expiry_date: item.expiry_date,\r\n              production_number: item.production_number\r\n            })\r\n            this.form.items_temporary[itemTemporaryIndex] = existing\r\n          }\r\n        } else {\r\n          this.form.items_temporary.push(newItem)\r\n        }\r\n      })\r\n      this.bill.services.forEach((service, keyService) => {\r\n        this.form.services.push({\r\n          service_id: service.service_id,\r\n          service_name: service.service_name,\r\n          quantity: parseFloat(service.quantity),\r\n          price: parseFloat(service.price),\r\n          discount_value: parseFloat(service.discount_value),\r\n          discount_percent: parseFloat(service.discount_percent),\r\n          total: 0,\r\n          pricing_group_id: this.form.pricing_group_id,\r\n          notes: service.notes\r\n        })\r\n      })\r\n    }).catch(error => {\r\n      this.isGroupLoading = false\r\n      this.$notification.error(error.message)\r\n    })\r\n  },\r\n  updated () {\r\n    if (this.itemList.length !== 0) {\r\n      this.lastPageItem = this.paginationItem.last_page\r\n    }\r\n    if (this.serviceList.length !== 0) {\r\n      this.lastPageService = this.paginationService.last_page\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('masterCustomer', {\r\n      findCustomer: 'find'\r\n    }),\r\n    ...mapActions('masterItemGroup', {\r\n      getItemGroups: 'get'\r\n    }),\r\n    ...mapActions('masterServiceGroup', {\r\n      getServiceGroups: 'get'\r\n    }),\r\n    ...mapActions('masterPriceListItem', {\r\n      getPriceListItem: 'get'\r\n    }),\r\n    ...mapActions('masterPriceListService', {\r\n      getPriceListService: 'get'\r\n    }),\r\n    ...mapActions('posBill', {\r\n      findBill: 'find',\r\n      updateBill: 'update',\r\n      deleteBill: 'delete'\r\n    }),\r\n    getItemGroupRequest () {\r\n      return this.getItemGroups({\r\n        params: {\r\n          includes: 'items'\r\n        }\r\n      })\r\n    },\r\n    getServiceGroupRequest () {\r\n      return this.getServiceGroups({\r\n        params: {\r\n          includes: 'services'\r\n        }\r\n      })\r\n    },\r\n    getItemRequest () {\r\n      return this.getPriceListItem({\r\n        params: {\r\n          filter_like: {\r\n            name: this.searchText,\r\n            'units.label': this.searchText\r\n          },\r\n          pricing_group_id: this.form.pricing_group_id,\r\n          filter_has: 'units,units.prices',\r\n          includes: 'units;units.prices',\r\n          sort_by: 'items.name',\r\n          page: this.currentPageItem\r\n        }\r\n      })\r\n    },\r\n    getServiceRequest () {\r\n      return this.getPriceListService({\r\n        params: {\r\n          filter_like: {\r\n            name: this.searchText\r\n          },\r\n          pricing_group_id: this.form.pricing_group_id,\r\n          filter_has: 'prices',\r\n          includes: 'prices',\r\n          sort_by: 'services.name',\r\n          page: this.currentPageService\r\n        }\r\n      })\r\n    },\r\n    requestAllData () {\r\n      this.isGroupLoading = true\r\n      Promise.all([this.getItemGroupRequest(), this.getServiceGroupRequest(), this.getItemRequest(), this.getServiceRequest()]).then(results => {\r\n        this.itemGroups.forEach(group => {\r\n          if (!this.currentGroup) {\r\n            this.currentGroup = group\r\n            this.currentGroupType = 'item'\r\n          }\r\n        })\r\n        this.serviceGroups.forEach(group => {\r\n          if (!this.currentGroup) {\r\n            this.currentGroup = group\r\n            this.currentGroupType = 'service'\r\n          }\r\n        })\r\n        this.isGroupLoading = false\r\n      }).catch(error => {\r\n        this.isGroupLoading = false\r\n        this.$notification.error(error.message)\r\n      })\r\n    },\r\n    requestPriceListData () {\r\n      this.isLoading = true\r\n      Promise.all([this.getItemRequest(), this.getServiceRequest()]).then(results => {\r\n        this.updateDisplayedData()\r\n        this.isLoading = false\r\n      }).catch(error => {\r\n        this.isLoading = false\r\n        this.$notification.error(error.message)\r\n      })\r\n    },\r\n    filterSearch: debounce(function (value) {\r\n      this.currentPageItem = 1\r\n      this.currentPageService = 1\r\n      this.requestPriceListData()\r\n    }, 300),\r\n    updatePageItem (value) {\r\n      this.currentPageItem = value\r\n      this.requestPriceListData()\r\n    },\r\n    updatePageService (value) {\r\n      this.currentPageService = value\r\n      this.requestPriceListData()\r\n    },\r\n    selectGroup (group, type) {\r\n      if (!this.isSaving && !this.isDeleting && !this.isLoading && !this.isGroupLoading) {\r\n        this.currentGroup = group\r\n        this.currentGroupType = type\r\n      }\r\n    },\r\n    chooseCustomer (value) {\r\n      this.form.customer_name = value\r\n    },\r\n    chooseItem (item) {\r\n      const itemIndex = this.form.items_temporary.findIndex(o => o.item_id === item.item_id && o.item_unit.label === item.item_unit.label)\r\n      if (itemIndex >= 0) {\r\n        var existingItem = this.form.items_temporary[itemIndex]\r\n        this.selectedItem = Object.assign({}, existingItem)\r\n        if (item.require_expiry_date || item.require_production_number) {\r\n          this.$refs.inventory.show(this.selectedItem)\r\n        } else {\r\n          existingItem.quantity += 1\r\n          this.$set(this.form.items_temporary, itemIndex, existingItem)\r\n        }\r\n      } else {\r\n        var newItem = Object.assign({}, item)\r\n        this.selectedItem = Object.assign({}, newItem)\r\n        if (item.require_expiry_date || item.require_production_number) {\r\n          this.$refs.inventory.show(this.selectedItem)\r\n        } else {\r\n          newItem.quantity = 1\r\n          newItem.inventories = []\r\n          this.form.items_temporary.push(newItem)\r\n        }\r\n      }\r\n      this.calculate()\r\n    },\r\n    chooseService (service) {\r\n      const serviceIndex = this.form.services.findIndex(o => o.service_id === service.service_id)\r\n      if (serviceIndex >= 0) {\r\n        var existingService = this.form.services[serviceIndex]\r\n        existingService.quantity += 1\r\n        this.$set(this.form.services, serviceIndex, existingService)\r\n      } else {\r\n        var newService = service\r\n        newService.quantity = 1\r\n        this.form.services.push(newService)\r\n      }\r\n      this.calculate()\r\n    },\r\n    addInventory (value, item) {\r\n      if (value.quantity > 0) {\r\n        const itemIndex = this.form.items_temporary.findIndex(o => o.item_id === item.item_id && o.item_unit.label === item.item_unit.label)\r\n        if (itemIndex >= 0) {\r\n          var existingItem = this.form.items_temporary[itemIndex]\r\n          existingItem.quantity = value.quantity\r\n          existingItem.inventories = value.inventories\r\n          existingItem.notes = value.notes\r\n          existingItem.discount_percent = value.discountPercent\r\n          this.$set(this.form.items_temporary, itemIndex, existingItem)\r\n        } else {\r\n          var newItem = Object.assign({}, item)\r\n          newItem.quantity = value.quantity\r\n          newItem.inventories = value.inventories\r\n          newItem.notes = value.notes\r\n          newItem.discount_percent = value.discountPercent\r\n          this.form.items_temporary.push(newItem)\r\n        }\r\n        this.updateDisplayedData()\r\n      }\r\n    },\r\n    showDiscount () {\r\n      if (!this.isSaving && !this.isDeleting && !this.isLoading && !this.isGroupLoading) {\r\n        this.$refs.discount.show(this.form.discount_percent)\r\n      }\r\n    },\r\n    showItem (index, item) {\r\n      if (!this.isSaving && !this.isDeleting && !this.isLoading && !this.isGroupLoading) {\r\n        this.selectedItem = Object.assign({}, item)\r\n        if (item.require_expiry_date || item.require_production_number) {\r\n          this.$refs.inventory.show(this.selectedItem)\r\n        } else {\r\n          this.$refs.item.show(index, item)\r\n        }\r\n      }\r\n    },\r\n    showService (index, service) {\r\n      if (!this.isSaving && !this.isDeleting && !this.isLoading && !this.isGroupLoading) {\r\n        this.$refs.service.show(index, service)\r\n      }\r\n    },\r\n    updateDiscount (data) {\r\n      this.form.discount_percent = data.discount_percent\r\n      this.calculate()\r\n    },\r\n    updateItem (data) {\r\n      const item = data.item\r\n      var existingItem = this.form.items_temporary[item.index]\r\n      if (existingItem) {\r\n        if (item.quantity > 0) {\r\n          existingItem.quantity = item.quantity\r\n          existingItem.discount_percent = item.discount_percent || 0\r\n          existingItem.notes = item.notes\r\n          this.$set(this.form.items_temporary, item.index, existingItem)\r\n        } else {\r\n          this.form.items_temporary.splice(item.index, 1)\r\n        }\r\n        this.calculate()\r\n      }\r\n    },\r\n    updateService (data) {\r\n      const service = data.service\r\n      var existingService = this.form.services[service.index]\r\n      if (existingService) {\r\n        if (service.quantity > 0) {\r\n          existingService.quantity = service.quantity\r\n          existingService.discount_percent = service.discount_percent || 0\r\n          existingService.notes = service.notes\r\n          this.$set(this.form.services, service.index, existingService)\r\n        } else {\r\n          this.form.services.splice(service.index, 1)\r\n        }\r\n        this.calculate()\r\n      }\r\n    },\r\n    deleteItem (data) {\r\n      const item = data.item\r\n      const existingItem = this.form.items_temporary[item.index]\r\n      if (existingItem) {\r\n        this.form.items_temporary.splice(item.index, 1)\r\n        this.calculate()\r\n      }\r\n    },\r\n    deleteService (data) {\r\n      const service = data.service\r\n      const existingService = this.form.services[service.index]\r\n      if (existingService) {\r\n        this.form.services.splice(service.index, 1)\r\n        this.calculate()\r\n      }\r\n    },\r\n    updateDisplayedData () {\r\n      this.itemList = []\r\n      this.serviceList = []\r\n\r\n      this.items.forEach(item => {\r\n        item.units.forEach(unit => {\r\n          unit.prices.forEach(price => {\r\n            if (price.price !== 0) {\r\n              if (this.form.pricing_group_id === -1 && price.pricing_group_id) {\r\n                this.form.pricing_group_id = price.pricing_group_id\r\n              }\r\n              if (this.form.pricing_group_id && this.form.pricing_group_id === price.pricing_group_id) {\r\n                const newItem = {\r\n                  item_id: item.id,\r\n                  item_name: item.name,\r\n                  item_unit: unit,\r\n                  item_unit_id: unit.id,\r\n                  unit: unit.label,\r\n                  converter: unit.converter,\r\n                  quantity: 0,\r\n                  price: price.price,\r\n                  discount_value: 0,\r\n                  discount_percent: 0,\r\n                  total: 0,\r\n                  pricing_group_id: price.pricing_group_id,\r\n                  notes: null,\r\n                  error: null,\r\n                  stock: item.stock,\r\n                  require_expiry_date: item.require_expiry_date,\r\n                  require_production_number: item.require_production_number\r\n                }\r\n                this.itemList.push(newItem)\r\n              }\r\n            }\r\n          })\r\n        })\r\n      })\r\n\r\n      this.services.forEach(service => {\r\n        service.prices.forEach(price => {\r\n          if (price.price !== 0) {\r\n            if (this.form.pricing_group_id === -1 && price.pricing_group_id) {\r\n              this.form.pricing_group_id = price.pricing_group_id\r\n            }\r\n            if (this.form.pricing_group_id && this.form.pricing_group_id === price.pricing_group_id) {\r\n              const newService = {\r\n                service_id: service.id,\r\n                service_name: service.name,\r\n                quantity: 0,\r\n                price: price.price,\r\n                discount_value: 0,\r\n                discount_percent: 0,\r\n                total: 0,\r\n                pricing_group_id: price.pricing_group_id,\r\n                notes: null,\r\n                error: null\r\n              }\r\n              this.serviceList.push(newService)\r\n            }\r\n          }\r\n        })\r\n      })\r\n\r\n      this.form.items_temporary.forEach(item => {\r\n        item.pricing_group_id = this.form.pricing_group_id\r\n      })\r\n\r\n      this.form.services.forEach(service => {\r\n        service.pricing_group_id = this.form.pricing_group_id\r\n      })\r\n\r\n      this.form.items_temporary.forEach(item => {\r\n        const itemIndex = this.itemList.findIndex(o => o.item_id === item.item_id && o.item_unit.label === item.item_unit.label && o.pricing_group_id == item.pricing_group_id)\r\n        if (itemIndex >= 0) {\r\n          item.price = this.itemList[itemIndex].price\r\n          this.itemList[itemIndex].inventories = item.inventories\r\n          item.error = null\r\n        } else {\r\n          item.error = 'Item not Available'\r\n        }\r\n      })\r\n\r\n      this.form.services.forEach(service => {\r\n        const serviceIndex = this.serviceList.findIndex(o => o.service_id === service.service_id && o.pricing_group_id == service.pricing_group_id)\r\n        if (serviceIndex >= 0) {\r\n          service.price = this.serviceList[serviceIndex].price\r\n          service.error = null\r\n        } else {\r\n          service.error = 'Item not Available'\r\n        }\r\n      })\r\n\r\n      this.calculate()\r\n    },\r\n    calculate: debounce(function (value) {\r\n      this.form.subtotal = 0\r\n      this.form.total_quantity = 0\r\n      this.form.items_temporary.forEach(item => {\r\n        item.discount_value = parseFloat(item.price) * parseFloat(item.discount_percent) / 100\r\n        item.total = parseFloat(item.quantity) * (parseFloat(item.price) - parseFloat(item.discount_value))\r\n        this.form.subtotal += parseFloat(item.total)\r\n        this.form.total_quantity += parseFloat(item.quantity)\r\n      })\r\n      this.form.services.forEach(service => {\r\n        service.discount_value = parseFloat(service.price) * parseFloat(service.discount_percent) / 100\r\n        service.total = parseFloat(service.quantity) * (parseFloat(service.price) - parseFloat(service.discount_value))\r\n        this.form.subtotal += parseFloat(service.total)\r\n        this.form.total_quantity += parseFloat(service.quantity)\r\n      })\r\n      this.form.discount_value = this.form.subtotal * this.form.discount_percent / 100\r\n      this.form.tax_base = this.form.subtotal - this.form.discount_value\r\n      this.form.tax = this.form.tax_base * 10 / 100\r\n      this.form.amount = this.form.tax_base + this.form.tax\r\n      this.form.change = parseFloat(this.form.paid) - parseFloat(this.form.amount)\r\n    }, 100),\r\n    validate () {\r\n      if (this.form.items_temporary.length === 0 && this.form.services.length === 0) {\r\n        this.$notification.error('Please Add at least one Item or Service')\r\n        return false\r\n      }\r\n      // check\r\n      var itemValid = true\r\n\r\n      this.form.items_temporary.forEach(item => {\r\n        const itemIndex = this.itemList.findIndex(o => o.item_id === item.item_id && o.item_unit.label === item.item_unit.label && o.pricing_group_id == item.pricing_group_id)\r\n        if (itemIndex < 0) {\r\n          itemValid = false\r\n        }\r\n      })\r\n\r\n      this.form.services.forEach(service => {\r\n        const serviceIndex = this.serviceList.findIndex(o => o.service_id === service.service_id && o.pricing_group_id == service.pricing_group_id)\r\n        if (serviceIndex < 0) {\r\n          itemValid = false\r\n        }\r\n      })\r\n\r\n      if (!itemValid) {\r\n        this.$notification.error('Item not Available')\r\n        return false\r\n      }\r\n\r\n      return true\r\n    },\r\n    setItems () {\r\n      this.form.items = []\r\n      for (const index in this.form.items_temporary) {\r\n        const item = this.form.items_temporary[index]\r\n        if (item.inventories.length > 0) {\r\n          for (const indexInventory in item.inventories) {\r\n            const inventory = item.inventories[indexInventory]\r\n            if (inventory.quantity) {\r\n              var posItem = Object.assign({}, item)\r\n              posItem.quantity = inventory.quantity\r\n              posItem.expiry_date = inventory.expiry_date\r\n              posItem.production_number = inventory.production_number\r\n              this.form.items.push(posItem)\r\n            }\r\n          }\r\n        } else {\r\n          this.form.items.push(item)\r\n        }\r\n      }\r\n    },\r\n    save () {\r\n      if (this.validate()) {\r\n        this.isSaving = true\r\n        this.form.is_done = 0\r\n        this.setItems()\r\n        this.updateBill(this.form)\r\n          .then(response => {\r\n            this.isSaving = false\r\n            this.$notification.success('save success')\r\n            this.id = response.data.id\r\n            this.form.id = response.data.id\r\n            this.$router.push('/pos/open-bill/' + response.data.id + '/edit')\r\n          }).catch(error => {\r\n            this.isSaving = false\r\n            this.$notification.error(error.message)\r\n            this.form.errors.record(error.errors)\r\n          })\r\n      }\r\n    },\r\n    charge () {\r\n      if (this.validate()) {\r\n        this.calculate()\r\n        if (this.form.paid < this.form.amount) {\r\n          this.$notification.error('Please Pay the Amount Correctly')\r\n          return\r\n        }\r\n        this.isSaving = true\r\n        this.form.is_done = 1\r\n        this.setItems()\r\n        this.updateBill(this.form)\r\n          .then(response => {\r\n            this.isSaving = false\r\n            this.$notification.success('charge success')\r\n            this.$router.push('/pos/closed-bill/' + response.data.id)\r\n          }).catch(error => {\r\n            this.isSaving = false\r\n            this.$notification.error(error.message)\r\n            this.form.errors.record(error.errors)\r\n          })\r\n      }\r\n    },\r\n    onDelete () {\r\n      this.isDeleting = true\r\n      this.deleteBill({\r\n        id: this.id\r\n      }).then(response => {\r\n        this.isDeleting = false\r\n        this.$notification.success('delete success')\r\n        this.$router.push('/pos/open-bill')\r\n      }).catch(error => {\r\n        this.isDeleting = false\r\n        this.$notification.error(error.message)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=22905209&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}