{"version":3,"sources":["webpack:///./src/views/plugin/study/Sheet/Create.vue?1fc4","webpack:///./src/views/plugin/study/Sheet/Create.vue","webpack:///./src/views/plugin/study/GoogleAuth.vue","webpack:///src/views/plugin/study/GoogleAuth.vue","webpack:///./src/views/plugin/study/GoogleAuth.vue?7f27","webpack:///./src/views/plugin/study/GoogleAuth.vue?0197","webpack:///src/views/plugin/study/Sheet/Create.vue","webpack:///./src/views/plugin/study/Sheet/Create.vue?b21b","webpack:///./src/views/plugin/study/Sheet/Create.vue?f877","webpack:///./src/views/plugin/study/SelectSubject.vue","webpack:///src/views/plugin/study/SelectSubject.vue","webpack:///./src/views/plugin/study/SelectSubject.vue?5e6d","webpack:///./src/views/plugin/study/SelectSubject.vue?3a26"],"names":["render","_vm","this","_c","_self","on","$event","preventDefault","submitForm","apply","arguments","staticClass","onSubmit","attrs","_f","$t","slot","isSaving","model","value","form","started_at","callback","$$v","$set","expression","ended_at","setDuration","_v","pointForm","errors","get","set","subject_id","ref","photoUploaded","audioUploaded","videoUploaded","institution","teacher","staticStyle","_s","competency","learning_goals","activities","grade","behaviorList","behavior","remarks","cancel","saveAsDraft","directives","name","rawName","staticRenderFns","isLoading","hasToken","unlinkGoogleDrive","openWindow","data","authUrl","myInterval","created","beforeDestroy","clearInterval","methods","getOauthToken","axios","then","catch","finally","window","setTimeout","component","components","SelectSubject","GoogleAuth","beforeRouteLeave","next","photo","audio","video","is_draft","isSaved","id","label","computed","formIsDirty","headers","params","getFormData","Object","formData","confirmLeave","confirmStayInDirtyForm","beforeWindowUnload","e","subjects","$emit","modelValue","props","type","default","getSubjects","sort_by"],"mappings":"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","file":"js/chunk-0e8463ce.c44226b2.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=style&index=0&id=604e5b41&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('div',{staticClass:\"row\"},[_c('p-block',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('p-form-row',{attrs:{\"id\":\"started_at\",\"name\":\"started_at\",\"required\":true,\"label\":_vm._f(\"uppercase\")(_vm.$t('start')),\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-date-time-picker',{attrs:{\"id\":\"started_at\",\"disabled\":_vm.isSaving,\"name\":\"started_at\"},model:{value:(_vm.form.started_at),callback:function ($$v) {_vm.$set(_vm.form, \"started_at\", $$v)},expression:\"form.started_at\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"ended_at\",\"name\":\"ended_at\",\"label\":_vm.$t('end'),\"required\":true,\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9 d-sm-flex\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-date-time-picker',{attrs:{\"id\":\"ended_at\",\"disabled\":_vm.isSaving,\"name\":\"ended_at\"},model:{value:(_vm.form.ended_at),callback:function ($$v) {_vm.$set(_vm.form, \"ended_at\", $$v)},expression:\"form.ended_at\"}}),_c('div',{staticClass:\"pl-sm-3 mt-3 mt-sm-0\"},[_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(30)}}},[_vm._v(\" 30\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(45)}}},[_vm._v(\" 45\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(60)}}},[_vm._v(\" 60\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(90)}}},[_vm._v(\" 90\"),_c('br'),_vm._v(\"min \")]),_c('button',{staticClass:\"btn-duration\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDuration(120)}}},[_vm._v(\" 120\"),_c('br'),_vm._v(\"min \")])])],1)]),_c('google-auth'),_c('p-form-row',{attrs:{\"label\":_vm.$t('study subject'),\"required\":true,\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('select-subject',{attrs:{\"disabled\":_vm.isSaving,\"errors\":_vm.pointForm.errors.get('subject_id')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('subject_id', null)}},model:{value:(_vm.form.subject_id),callback:function ($$v) {_vm.$set(_vm.form, \"subject_id\", $$v)},expression:\"form.subject_id\"}})],1)]),_c('p-form-row',{attrs:{\"label\":_vm.$t('photo'),\"show-asterisk-on-required\":true,\"errors\":_vm.pointForm.errors.get('photo')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('photo', null)}}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-file',{ref:\"photo\",attrs:{\"id\":\"photo\",\"name\":\"photo\",\"accept\":\"image/*\",\"disabled\":_vm.isSaving},on:{\"fileChanged\":_vm.photoUploaded}})],1)]),_c('p-form-row',{attrs:{\"label\":_vm.$t('voice note'),\"errors\":_vm.pointForm.errors.get('audio')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('audio', null)}}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-file',{ref:\"audio\",attrs:{\"id\":\"audio\",\"name\":\"audio\",\"accept\":\"audio/*\",\"disabled\":_vm.isSaving},on:{\"fileChanged\":_vm.audioUploaded}})],1)]),_c('p-form-row',{attrs:{\"label\":_vm.$t('video'),\"errors\":_vm.pointForm.errors.get('video')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('video', null)}}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-file',{ref:\"video\",attrs:{\"id\":\"video\",\"name\":\"video\",\"accept\":\"video/*\",\"disabled\":_vm.isSaving},on:{\"fileChanged\":_vm.videoUploaded}})],1)]),_c('p-form-row',{attrs:{\"id\":\"institution\",\"name\":\"institution\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('institution'),\"errors\":_vm.pointForm.errors.get('institution')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('institution', null)}},model:{value:(_vm.form.institution),callback:function ($$v) {_vm.$set(_vm.form, \"institution\", $$v)},expression:\"form.institution\"}}),_c('p-form-row',{attrs:{\"id\":\"teacher\",\"name\":\"teacher\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('teacher'),\"errors\":_vm.pointForm.errors.get('teacher')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('teacher', null)}},model:{value:(_vm.form.teacher),callback:function ($$v) {_vm.$set(_vm.form, \"teacher\", $$v)},expression:\"form.teacher\"}}),_c('p-form-row',[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"mb-2 d-flex font-size-lg text-primary\"},[_c('div',{staticClass:\"mr-2\"},[_c('i',{staticClass:\"fa fa-book\"})]),_c('div',[_c('a',{staticStyle:{\"text-decoration\":\"underline\"},attrs:{\"href\":\"https://docs.google.com/spreadsheets/d/11TVngjUsDSP3wPCZkO2B6jKOGNvPSlu-7UdYHb_SzbU/edit?usp=sharing\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('access topics library here')))+\" \")])])])])]),_c('p-form-row',{attrs:{\"id\":\"competency\",\"name\":\"competency\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('competency'),\"required\":true,\"show-asterisk-on-required\":true,\"errors\":_vm.pointForm.errors.get('competency')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('competency', null)}},model:{value:(_vm.form.competency),callback:function ($$v) {_vm.$set(_vm.form, \"competency\", $$v)},expression:\"form.competency\"}}),_c('p-form-row',{attrs:{\"id\":\"learning_goals\",\"name\":\"learning_goals\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('learning goals'),\"required\":true,\"show-asterisk-on-required\":true,\"errors\":_vm.pointForm.errors.get('learning_goals')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('learning_goals', null)}},model:{value:(_vm.form.learning_goals),callback:function ($$v) {_vm.$set(_vm.form, \"learning_goals\", $$v)},expression:\"form.learning_goals\"}}),_c('p-form-row',{attrs:{\"id\":\"activities\",\"name\":\"activities\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('activities'),\"errors\":_vm.pointForm.errors.get('activities')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('activities', null)}},model:{value:(_vm.form.activities),callback:function ($$v) {_vm.$set(_vm.form, \"activities\", $$v)},expression:\"form.activities\"}}),_c('p-form-row',{attrs:{\"id\":\"grade\",\"name\":\"grade\",\"label\":_vm.$t('grade') + ' (0-100)',\"errors\":_vm.pointForm.errors.get('grade')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('grade', null)}}},[_c('div',{staticClass:\"col-1\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-form-number',{attrs:{\"id\":\"grade\",\"name\":\"grade\",\"is-text-right\":false,\"disabled\":_vm.isSaving,\"label\":_vm.$t('grade'),\"max\":100},model:{value:(_vm.form.grade),callback:function ($$v) {_vm.$set(_vm.form, \"grade\", $$v)},expression:\"form.grade\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"behavior\",\"name\":\"behavior\",\"label\":_vm.$t('behavior'),\"required\":true,\"show-asterisk-on-required\":true}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('p-select',{attrs:{\"id\":\"behavior\",\"disabled\":_vm.isSaving,\"name\":\"behavior\",\"options\":_vm.behaviorList,\"errors\":_vm.pointForm.errors.get('behavior')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('behavior', null)}},model:{value:(_vm.form.behavior),callback:function ($$v) {_vm.$set(_vm.form, \"behavior\", $$v)},expression:\"form.behavior\"}})],1)]),_c('p-form-row',{attrs:{\"id\":\"remarks\",\"name\":\"remarks\",\"disabled\":_vm.isSaving,\"label\":_vm.$t('remarks'),\"errors\":_vm.pointForm.errors.get('remarks')},on:{\"errors\":function($event){return _vm.pointForm.errors.set('remarks', null)}},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}}),_c('div',[_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")]),_vm._v(\" \"+_vm._s(_vm._f(\"capitalize\")(_vm.$t('required')))+\" \")]),_c('div',{staticClass:\"text-right mb-4\"},[_c('button',{staticClass:\"btn btn-sm btn-light mr-2\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.cancel}},[_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('cancel')))+\" \")]),_c('button',{staticClass:\"btn btn-sm btn-secondary mr-2\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.saveAsDraft}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('draft')))+\" \")]),_c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.onSubmit}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm._f(\"uppercase\")(_vm.$t('save')))+\" \")])])],1)])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('p-form-row',{attrs:{\"label\":\"\"}},[_c('div',{staticClass:\"col-lg-9\",attrs:{\"slot\":\"body\"},slot:\"body\"},[(_vm.isLoading)?_c('div',{staticClass:\"font-size-lg badge badge-warning\"},[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('checking google drive connection')))+\" \")]):(_vm.hasToken)?[_c('div',{staticClass:\"font-size-lg badge badge-primary\"},[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('google drive authorized')))+\" \")]),_c('button',{staticClass:\"btn btn-sm btn-secondary ml-2\",staticStyle:{\"padding-top\":\"0\",\"padding-bottom\":\"0\",\"height\":\"22px\"},attrs:{\"type\":\"button\",\"disabled\":_vm.isSaving},on:{\"click\":_vm.unlinkGoogleDrive}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaving),expression:\"isSaving\"}],staticClass:\"fa fa-asterisk fa-spin\"}),_vm._v(\" \"+_vm._s(_vm.$t('unlink'))+\" \")])]:_c('button',{staticClass:\"btn btn-sm btn-primary mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openWindow}},[_vm._v(\" \"+_vm._s(_vm._f(\"titlecase\")(_vm.$t('authorize google drive')))+\" \")])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <p-form-row label=\"\">\r\n    <div\r\n      slot=\"body\"\r\n      class=\"col-lg-9\"\r\n    >\r\n      <div\r\n        v-if=\"isLoading\"\r\n        class=\"font-size-lg badge badge-warning\"\r\n      >\r\n        {{ $t('checking google drive connection') | titlecase }}\r\n      </div>\r\n\r\n      <template v-else-if=\"hasToken\">\r\n        <div class=\"font-size-lg badge badge-primary\">\r\n          {{ $t('google drive authorized') | titlecase }}\r\n        </div>\r\n        <button\r\n          class=\"btn btn-sm btn-secondary ml-2\"\r\n          style=\"padding-top: 0; padding-bottom: 0; height: 22px;\"\r\n          type=\"button\"\r\n          :disabled=\"isSaving\"\r\n          @click=\"unlinkGoogleDrive\"\r\n        >\r\n          <i\r\n            v-show=\"isSaving\"\r\n            class=\"fa fa-asterisk fa-spin\"\r\n          />\r\n          {{ $t('unlink') }}\r\n        </button>\r\n      </template>\r\n\r\n      <button\r\n        v-else\r\n        class=\"btn btn-sm btn-primary mr-2\"\r\n        type=\"button\"\r\n        @click=\"openWindow\"\r\n      >\r\n        {{ $t('authorize google drive') | titlecase }}\r\n      </button>\r\n    </div>\r\n  </p-form-row>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/axios'\r\nexport default {\r\n  name: 'PluginStudyGoogleAuth',\r\n  data () {\r\n    return {\r\n      isLoading: true,\r\n      isSaving: false,\r\n      hasToken: false,\r\n      authUrl: '',\r\n      myInterval: null\r\n    }\r\n  },\r\n  created () {\r\n    this.getOauthToken()\r\n  },\r\n  beforeDestroy () {\r\n    // stop the auto refresh when leaving the page\r\n    clearInterval(this.myInterval)\r\n  },\r\n  methods: {\r\n    getOauthToken () {\r\n      axios.get('oauth/login/google/drive')\r\n        .then(response => {\r\n          if (response.data.authenticated) {\r\n            this.hasToken = true\r\n            // token is exist, stop the auto refresh\r\n            clearInterval(this.myInterval)\r\n          }\r\n          this.authUrl = response.data.auth_url\r\n        })\r\n        .catch(error => {\r\n          this.$notification.error(error.data.message)\r\n        })\r\n        .finally(() => {\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    openWindow () {\r\n      window.open(this.authUrl, 'newwindow', 'width=400,height=600')\r\n      // check oauth token every 5 seconds\r\n      setTimeout(() => {\r\n        this.myInterval = setInterval(this.getOauthToken, 1000)\r\n      }, 7000)\r\n    },\r\n    unlinkGoogleDrive () {\r\n      this.isSaving = true\r\n      axios.delete('oauth/login/google/drive')\r\n        .then(() => {\r\n          this.hasToken = false\r\n        })\r\n        .catch(error => {\r\n          this.$notification.error(error.data.message)\r\n        })\r\n        .finally(() => {\r\n          this.isSaving = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleAuth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleAuth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoogleAuth.vue?vue&type=template&id=ea78bdda&\"\nimport script from \"./GoogleAuth.vue?vue&type=script&lang=js&\"\nexport * from \"./GoogleAuth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <form @submit.prevent=\"submitForm\">\r\n      <div class=\"row\">\r\n        <p-block>\r\n          <form @submit.prevent=\"onSubmit\">\r\n            <p-form-row\r\n              id=\"started_at\"\r\n              name=\"started_at\"\r\n              :required=\"true\"\r\n              :label=\" $t('start') | uppercase\"\r\n              :show-asterisk-on-required=\"true\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9\"\r\n              >\r\n                <p-date-time-picker\r\n                  id=\"started_at\"\r\n                  v-model=\"form.started_at\"\r\n                  :disabled=\"isSaving\"\r\n                  name=\"started_at\"\r\n                />\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              id=\"ended_at\"\r\n              name=\"ended_at\"\r\n              :label=\"$t('end')\"\r\n              :required=\"true\"\r\n              :show-asterisk-on-required=\"true\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9 d-sm-flex\"\r\n              >\r\n                <p-date-time-picker\r\n                  id=\"ended_at\"\r\n                  v-model=\"form.ended_at\"\r\n                  :disabled=\"isSaving\"\r\n                  name=\"ended_at\"\r\n                />\r\n                <div class=\"pl-sm-3 mt-3 mt-sm-0\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-duration\"\r\n                    @click=\"setDuration(30)\"\r\n                  >\r\n                    30<br>min\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-duration\"\r\n                    @click=\"setDuration(45)\"\r\n                  >\r\n                    45<br>min\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-duration\"\r\n                    @click=\"setDuration(60)\"\r\n                  >\r\n                    60<br>min\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-duration\"\r\n                    @click=\"setDuration(90)\"\r\n                  >\r\n                    90<br>min\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn-duration\"\r\n                    @click=\"setDuration(120)\"\r\n                  >\r\n                    120<br>min\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <google-auth />\r\n\r\n            <p-form-row\r\n              :label=\"$t('study subject')\"\r\n              :required=\"true\"\r\n              :show-asterisk-on-required=\"true\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9\"\r\n              >\r\n                <select-subject\r\n                  v-model=\"form.subject_id\"\r\n                  :disabled=\"isSaving\"\r\n                  :errors=\"pointForm.errors.get('subject_id')\"\r\n                  @errors=\"pointForm.errors.set('subject_id', null)\"\r\n                />\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              :label=\"$t('photo')\"\r\n              :show-asterisk-on-required=\"true\"\r\n              :errors=\"pointForm.errors.get('photo')\"\r\n              @errors=\"pointForm.errors.set('photo', null)\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9\"\r\n              >\r\n                <p-form-file\r\n                  id=\"photo\"\r\n                  ref=\"photo\"\r\n                  name=\"photo\"\r\n                  accept=\"image/*\"\r\n                  :disabled=\"isSaving\"\r\n                  @fileChanged=\"photoUploaded\"\r\n                />\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              :label=\"$t('voice note')\"\r\n              :errors=\"pointForm.errors.get('audio')\"\r\n              @errors=\"pointForm.errors.set('audio', null)\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9\"\r\n              >\r\n                <p-form-file\r\n                  id=\"audio\"\r\n                  ref=\"audio\"\r\n                  name=\"audio\"\r\n                  accept=\"audio/*\"\r\n                  :disabled=\"isSaving\"\r\n                  @fileChanged=\"audioUploaded\"\r\n                />\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              :label=\"$t('video')\"\r\n              :errors=\"pointForm.errors.get('video')\"\r\n              @errors=\"pointForm.errors.set('video', null)\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9\"\r\n              >\r\n                <p-form-file\r\n                  id=\"video\"\r\n                  ref=\"video\"\r\n                  name=\"video\"\r\n                  accept=\"video/*\"\r\n                  :disabled=\"isSaving\"\r\n                  @fileChanged=\"videoUploaded\"\r\n                />\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              id=\"institution\"\r\n              v-model=\"form.institution\"\r\n              name=\"institution\"\r\n              :disabled=\"isSaving\"\r\n              :label=\"$t('institution')\"\r\n              :errors=\"pointForm.errors.get('institution')\"\r\n              @errors=\"pointForm.errors.set('institution', null)\"\r\n            />\r\n\r\n            <p-form-row\r\n              id=\"teacher\"\r\n              v-model=\"form.teacher\"\r\n              name=\"teacher\"\r\n              :disabled=\"isSaving\"\r\n              :label=\"$t('teacher')\"\r\n              :errors=\"pointForm.errors.get('teacher')\"\r\n              @errors=\"pointForm.errors.set('teacher', null)\"\r\n            />\r\n\r\n            <p-form-row>\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9\"\r\n              >\r\n                <div class=\"mb-2 d-flex font-size-lg text-primary\">\r\n                  <div class=\"mr-2\">\r\n                    <i class=\"fa fa-book\" />\r\n                  </div>\r\n                  <div>\r\n                    <a\r\n                      href=\"https://docs.google.com/spreadsheets/d/11TVngjUsDSP3wPCZkO2B6jKOGNvPSlu-7UdYHb_SzbU/edit?usp=sharing\"\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style=\"text-decoration: underline;\"\r\n                    >\r\n                      {{ $t('access topics library here') | titlecase }}\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              id=\"competency\"\r\n              v-model=\"form.competency\"\r\n              name=\"competency\"\r\n              :disabled=\"isSaving\"\r\n              :label=\"$t('competency')\"\r\n              :required=\"true\"\r\n              :show-asterisk-on-required=\"true\"\r\n              :errors=\"pointForm.errors.get('competency')\"\r\n              @errors=\"pointForm.errors.set('competency', null)\"\r\n            />\r\n\r\n            <p-form-row\r\n              id=\"learning_goals\"\r\n              v-model=\"form.learning_goals\"\r\n              name=\"learning_goals\"\r\n              :disabled=\"isSaving\"\r\n              :label=\"$t('learning goals')\"\r\n              :required=\"true\"\r\n              :show-asterisk-on-required=\"true\"\r\n              :errors=\"pointForm.errors.get('learning_goals')\"\r\n              @errors=\"pointForm.errors.set('learning_goals', null)\"\r\n            />\r\n\r\n            <p-form-row\r\n              id=\"activities\"\r\n              v-model=\"form.activities\"\r\n              name=\"activities\"\r\n              :disabled=\"isSaving\"\r\n              :label=\"$t('activities')\"\r\n              :errors=\"pointForm.errors.get('activities')\"\r\n              @errors=\"pointForm.errors.set('activities', null)\"\r\n            />\r\n\r\n            <p-form-row\r\n              id=\"grade\"\r\n              name=\"grade\"\r\n              :label=\"$t('grade') + ' (0-100)'\"\r\n              :errors=\"pointForm.errors.get('grade')\"\r\n              @errors=\"pointForm.errors.set('grade', null)\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-1\"\r\n              >\r\n                <p-form-number\r\n                  id=\"grade\"\r\n                  v-model=\"form.grade\"\r\n                  name=\"grade\"\r\n                  :is-text-right=\"false\"\r\n                  :disabled=\"isSaving\"\r\n                  :label=\"$t('grade')\"\r\n                  :max=\"100\"\r\n                />\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              id=\"behavior\"\r\n              name=\"behavior\"\r\n              :label=\"$t('behavior')\"\r\n              :required=\"true\"\r\n              :show-asterisk-on-required=\"true\"\r\n            >\r\n              <div\r\n                slot=\"body\"\r\n                class=\"col-lg-9\"\r\n              >\r\n                <p-select\r\n                  id=\"behavior\"\r\n                  v-model=\"form.behavior\"\r\n                  :disabled=\"isSaving\"\r\n                  name=\"behavior\"\r\n                  :options=\"behaviorList\"\r\n                  :errors=\"pointForm.errors.get('behavior')\"\r\n                  @errors=\"pointForm.errors.set('behavior', null)\"\r\n                />\r\n              </div>\r\n            </p-form-row>\r\n\r\n            <p-form-row\r\n              id=\"remarks\"\r\n              v-model=\"form.remarks\"\r\n              name=\"remarks\"\r\n              :disabled=\"isSaving\"\r\n              :label=\"$t('remarks')\"\r\n              :errors=\"pointForm.errors.get('remarks')\"\r\n              @errors=\"pointForm.errors.set('remarks', null)\"\r\n            />\r\n\r\n            <div>\r\n              <span class=\"text-danger\">*</span> {{ $t('required') | capitalize }}\r\n            </div>\r\n\r\n            <div class=\"text-right mb-4\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-sm btn-light mr-2\"\r\n                :disabled=\"isSaving\"\r\n                @click=\"cancel\"\r\n              >\r\n                {{ $t('cancel') | uppercase }}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-sm btn-secondary mr-2\"\r\n                :disabled=\"isSaving\"\r\n                @click=\"saveAsDraft\"\r\n              >\r\n                <i\r\n                  v-show=\"isSaving\"\r\n                  class=\"fa fa-asterisk fa-spin\"\r\n                /> {{ $t('draft') | uppercase }}\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                class=\"btn btn-sm btn-primary\"\r\n                :disabled=\"isSaving\"\r\n                @click=\"onSubmit\"\r\n              >\r\n                <i\r\n                  v-show=\"isSaving\"\r\n                  class=\"fa fa-asterisk fa-spin\"\r\n                /> {{ $t('save') | uppercase }}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </p-block>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/axios'\r\nimport Form from '@/utils/Form'\r\nimport GoogleAuth from '../GoogleAuth.vue'\r\nimport SelectSubject from '../SelectSubject.vue'\r\nexport default {\r\n  name: 'PluginStudySheetCreate',\r\n  components: {\r\n    SelectSubject,\r\n    GoogleAuth\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n  // If the form is dirty and the user did not confirm leave,\r\n  // prevent losing unsaved changes by canceling navigation\r\n    if (this.confirmStayInDirtyForm()) {\r\n      next(false)\r\n    } else {\r\n    // Navigate to next view\r\n      next()\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isSaving: false,\r\n      form: {\r\n        started_at: this.$moment().startOf('hour').format('YYYY-MM-DD HH:mm:ss'),\r\n        ended_at: this.$moment().startOf('hour').add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\r\n        photo: null,\r\n        audio: null,\r\n        video: null,\r\n        subject_id: null,\r\n        institution: null,\r\n        teacher: null,\r\n        competency: null,\r\n        learning_goals: null,\r\n        activities: null,\r\n        grade: null,\r\n        behavior: null,\r\n        remarks: null,\r\n        is_draft: false\r\n      },\r\n      isSaved: false,\r\n      pointForm: new Form({}),\r\n      behaviorList: [\r\n        { id: 'A', label: 'A - Excellent' },\r\n        { id: 'B', label: 'B - Good' },\r\n        { id: 'C', label: 'C - Need Improvement' }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    formIsDirty () {\r\n      if (this.isSaved) return false\r\n\r\n      return this.form.photo ||\r\n        this.form.audio ||\r\n        this.form.video ||\r\n        this.form.subject_id ||\r\n        this.form.institution ||\r\n        this.form.teacher ||\r\n        this.form.competency ||\r\n        this.form.learning_goals ||\r\n        this.form.activities ||\r\n        this.form.grade ||\r\n        this.form.behavior ||\r\n        this.form.remarks\r\n    }\r\n  },\r\n  created () {\r\n    this.pointForm = new Form(this.form)\r\n    window.addEventListener('beforeunload', this.beforeWindowUnload)\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('beforeunload', this.beforeWindowUnload)\r\n  },\r\n  methods: {\r\n    onSubmit () {\r\n      this.isSaving = true\r\n      const headers = {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n      axios.post('/plugin/study/sheet', this.getFormData(), { headers })\r\n        .then(response => {\r\n          const message = this.$t('data has been saved')\r\n          const capitalizedMessage = this.$options.filters.capitalize(message)\r\n          this.$notification.success(capitalizedMessage)\r\n          this.isSaved = true\r\n          if (this.form.is_draft) {\r\n            this.$router.replace({ name: 'PluginStudySheetDraft' })\r\n          } else {\r\n            this.$router.replace({ name: 'PluginStudySheetShow', params: { id: response.data.id } })\r\n          }\r\n        })\r\n        .catch(error => {\r\n          if (error.status === 422) {\r\n            this.pointForm.errors.record(error.data.errors)\r\n          } else {\r\n            this.$notification.error(error.data.message)\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.isSaving = false\r\n        })\r\n    },\r\n    saveAsDraft () {\r\n      this.form.is_draft = true\r\n      this.onSubmit()\r\n    },\r\n    getFormData () {\r\n      const formData = new FormData()\r\n\r\n      const form = {\r\n        ...this.form,\r\n        started_at: new Date(this.form.started_at).toISOString(),\r\n        ended_at: new Date(this.form.ended_at).toISOString()\r\n      }\r\n\r\n      Object.keys(form).forEach(key => {\r\n        if (form[key] === false || form[key] === true) {\r\n          // boolean will be sent as \"true\" and does not pass the validation\r\n          formData.append(key, form[key] === false ? 0 : 1)\r\n        } else if (form[key]) { // don't append empty string or null\r\n          formData.append(key, form[key])\r\n        }\r\n      })\r\n\r\n      return formData\r\n    },\r\n    cancel () {\r\n      this.pointForm.reset()\r\n      this.form = { ...this.point }\r\n      this.$router.replace({ name: 'PluginStudySheetIndex' })\r\n    },\r\n    confirmLeave () {\r\n      return window.confirm('Do you really want to leave? you have unsaved changes!')\r\n    },\r\n    confirmStayInDirtyForm () {\r\n      return this.formIsDirty && !this.confirmLeave()\r\n    },\r\n    beforeWindowUnload (e) {\r\n      if (this.confirmStayInDirtyForm()) {\r\n      // Cancel the event\r\n        e.preventDefault()\r\n        // Chrome requires returnValue to be set\r\n        e.returnValue = ''\r\n      }\r\n    },\r\n    setDuration (minutes) {\r\n      const startedAt = this.$moment(this.form.started_at)\r\n      const endedAt = startedAt.add(minutes, 'minutes')\r\n      this.form.ended_at = endedAt.format('YYYY-MM-DD HH:mm:ss')\r\n    },\r\n    photoUploaded (event) {\r\n      this.form.photo = event\r\n    },\r\n    audioUploaded (event) {\r\n      this.form.audio = event\r\n    },\r\n    videoUploaded (event) {\r\n      this.form.video = event\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn-duration {\r\n  padding: 0.5rem;\r\n  border: 0;\r\n  width: 3rem;\r\n  margin-right: 0.25rem;\r\n  line-height: 0.9rem;\r\n  cursor: pointer;\r\n}\r\n.btn-duration:active,\r\n.btn-duration:focus,\r\n.btn-duration:focus-visible {\r\n  outline: none;\r\n}\r\n.btn-duration:active,\r\n.btn-duration:hover,\r\n.btn-duration:focus {\r\n  filter: brightness(85%);\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=604e5b41&scoped=true&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Create.vue?vue&type=style&index=0&id=604e5b41&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"604e5b41\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('p-select',{attrs:{\"id\":\"subject\",\"name\":\"subject\",\"options\":_vm.subjects,\"label-field\":\"name\",\"errors\":_vm.errors},on:{\"errors\":function($event){return _vm.$emit('errors')}},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <p-select\r\n    id=\"subject\"\r\n    v-model=\"modelValue\"\r\n    name=\"subject\"\r\n    :options=\"subjects\"\r\n    label-field=\"name\"\r\n    :errors=\"errors\"\r\n    @errors=\"$emit('errors')\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/axios'\r\nexport default {\r\n  name: 'PluginStudySelectSubject',\r\n  props: {\r\n    value: {\r\n      type: [String, Number],\r\n      default: 0\r\n    },\r\n    errors: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      subjects: []\r\n    }\r\n  },\r\n  computed: {\r\n    modelValue: {\r\n      get () {\r\n        return this.value\r\n      },\r\n      set (value) {\r\n        this.$emit('input', value)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getSubjects()\r\n  },\r\n  methods: {\r\n    getSubjects () {\r\n      const apiParams = {\r\n        sort_by: 'name'\r\n      }\r\n      axios.get('/plugin/study/subject', { params: apiParams })\r\n        .then(response => {\r\n          this.subjects = response.data.data\r\n        })\r\n        .catch(error => {\r\n          this.$notification.error(error.data.message)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSubject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSubject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectSubject.vue?vue&type=template&id=0882f8c2&\"\nimport script from \"./SelectSubject.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectSubject.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}